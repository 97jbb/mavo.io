{"version":3,"sources":["mavo.es5.js"],"names":["t","e","r","s","arguments","length","n","type","apply","i","o","Array","from","splice","Object","getOwnPropertyDescriptor","writable","configurable","enumerable","get","set","defineProperty","forEach","a","test","call","prototype","toString","match","toLowerCase","isNaN","self","Bliss","document","querySelector","extend","overload","property","sources","noop","$","Node","Window","querySelectorAll","defined","create","tag","createElement","each","ready","Promise","readyState","addEventListener","Class","concat","keys","classProps","hasOwnProperty","constructor","__abstract","Error","indexOf","lazy","value","live","include","resolve","async","onload","remove","onerror","src","inside","head","fetch","TypeError","url","URL","location","data","method","headers","xhr","XMLHttpRequest","toUpperCase","hooks","run","search","body","setAttribute","open","href","user","password","console","error","setRequestHeader","removeAttribute","status","statusText","ontimeout","send","slice","reduce","Hooks","add","isArray","context","Element","subject","bliss","setProps","transition","style","transitionDuration","transitionProperty","join","once","clearTimeout","setTimeout","bind","fire","createEvent","initEvent","dispatchEvent","unbind","split","listeners","className","callback","removeEventListener","capture","setProperty","attributes","properties","events","u","c","delegate","target","closest","contents","createTextNode","appendChild","before","parentNode","insertBefore","after","nextSibling","start","firstChild","around","nodeName","content","all","$$","element","array","map","shift","HTMLElement","shy","clone","cloneNode","_","EventTarget","filter","push","expr","con","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","Stretchy","selectors","base","script","currentScript","pop","resize","resizes","cs","getComputedStyle","offset","placeholder","height","boxSizing","offsetHeight","clientHeight","scrollHeight","width","offsetWidth","clientWidth","scrollLeft","Math","max","scrollWidth","selectedIndex","option","textContent","options","appearance","removeChild","resizeAll","elements","active","init","getAttribute","listener","evt","documentElement","MutationObserver","mutations","mutation","addedNodes","observe","childList","subtree","b","d","m","q","x","index","description","y","z","A","B","C","D","E","G","H","operator","left","right","I","J","String","fromCharCode","K","L","j","charAt","charCodeAt","M","N","O","P","Q","S","consequent","alternate","R","substr","f","g","h","T","prec","U","V","Y","argument","prefix","parseFloat","raw","W","name","X","Z","computed","object","callee","version","addUnaryOp","addBinaryOp","addLiteral","removeUnaryOp","removeBinaryOp","removeLiteral","exports","jsep","noConflict","module","parse","_toConsumableArray","arr","arr2","Mavo","_this","treeBuilt","defer","dataMv","attribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","_element","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","err","return","allIds","id","autoEdit","classList","contains","autoSave","hasAttribute","primitive","hasChildren","not","formControl","config","Primitive","getConfig","isCollection","is","root","Group","ui","bar","toggle","role","_arr","_i","Functions","urlOption","trim","Backend","mavo","format","storage","source","_role","_arr2","_i2","primaryBackend","permissions","Permissions","authControls","can","loginHash","login","title","click","preventDefault","hash","history","replaceState","window","backend","innerHTML","logout","unsavedChanges","load","activeElement","needsEdit","some","obj","modes","mode","setUnsavedChanges","onchange","_ref","action","edit","modeObserver","Observer","records","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","record","_element2","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","nodeloop","_step3","_iterator3","children","node","previousMode","getStyle","editing","destroy","clear","on","delay","debouncedSave","debounce","save","saved","requestAnimationFrame","delete","keyCode","superKey","getData","toJSON","message","closeTimeout","_this2","close","opacity","then","mouseenter","mouseleave","rr","scrollIntoView","behavior","_len","log","_key","_console","render","env","_this3","confirm","store","itemControls","item","multiple","parent","walk","_this4","inProgress","catch","reject","_this5","_this6","lastSaved","Date","now","path","ret","toggleAttribute","static","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","platform","container","plugin","def","specificProperty","group","selector","or","selector1","selector2","and","s1","s2","andNot","rootGroup","output","Intl","_typeof","updateWithin","cl","el","JSON","stringify","queryJSON","toArray","hasIntersection","arr1","every","flatten","prev","thing","getPropertyValue","revocably","comment","isRemoved","replaceChild","commentText","createComment","inViewport","getBoundingClientRect","bottom","innerHeight","top","innerWidth","scrollIntoViewIfNeeded","pushUnique","subset","_len2","_key2","fn","_code","timer","args","escapeRegExp","replace","observer","attributeFilter","attributeOldValue","oldValue","characterData","characterDataOldValue","stop","disconnect","running","sneak","res","rej","promise","proxy","propagated","proto","names","existing","propagate","triggers","actions","off","cannot","when","able","current","changed","trigger","register","setter","previous","Formats","responseText","response","_ref$format","serialize","serialized","put","types","Remote","extends","key","localStorage","_defineProperty","Base","abstract","extensions","dependencies","json","text","Text","getNames","me","csv","CSV","defaultOptions","header","dynamicTyping","skipEmptyLines","Papa","delimiter","meta","linebreak","aborted","errors","unparse","Format","pathname","extension","uid","maxId","nodeType","template","copies","parentGroup","fromTemplate","getProperty","normalize","collection","isRoot","readable","postInit","isDataNull","result","deleted","walker","_node","walkUp","_node2","inPath","dataRender","dataChanged","getClosestCollection","closestCollection","isDeleted","p","_mode","Collection","_modes","elementContents","createDocumentFragment","childNodes","_deleted","WeakMap","prioritizePrimitive","nodes","unique","getValueAttribute","constructorOptions","mutable","vocabElement","vocab","super","null","unhandled","DEFAULT_TYPE","summary","find","prop","oldUnhandled","datatype","changeEvents","getValue","editor","editorValue","original","setValue","force","silent","templateValue","_default","default","defaultObserver","initialValue","emptyValue","getEditorValue","setEditorValue","editorDefaults","savedValue","initEdit","Elements","defaultEditors","string","select","stopPropagation","label","dataInput","popup","Popup","prevTabindex","tabIndex","preEdit","empty","show","toPrimitive","presentational","safeCast","_value","humanReadable","selectedOptions","dataOnly","hide","existingType","cast","useProperty","_ref2","formatNumber","namespaceURI","numberFormat","NumberFormat","maximumFractionDigits","Infinity","hidden","keyup","focus","size","min","_this7","shown","hideCallback","position","bounds","_this8","defineProperties","_o","selectorloop","attributeMatches","isSVG","form","checked","toCheck","clicked","range","step","clientX","newValue","mod","increment","shiftKey","display","whiteSpace","datetime","date","day","month","year","hour","minute","timeZone","toLocaleString","templateElement","accepts","createItem","itemTemplate","itemData","adopt","rel","marker","bottomUp","previousIndex","sort","_action","_children","_item","hard","move","editItem","newItem","keydown","addButton","tagName","containerSelector","dragula","getDragula","_item2","fragment","items","collections","isCompatible","_mutable","containers","isContainer","moves","handle","previousElementSibling","lastElementChild","oldIndex","nextElementSibling","closestItem","cancel","dragulas","order","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","button","Expression","expression","eval","function","compile","identifiers","exception","info","changedBy","serializers","transformations","Script","getOperatorName","details","operators","nodeLeft","unshift","rewrite","code","Function","LogicalExpression","BinaryExpression","Syntax","end","regex","RegExp","str","lastIndex","tokenize","exec","substring","syntax","ESCAPE","DOMExpression","whitespace","splitText","lastChild","parsed","expressions","update","event","parentEnv","fallback","et","mavoNode","Expressions","traverse","scheduled","Set","has","PROPERTYCHANGE_THROTTLE","relative","extract","directives","child","directive","Proxy","_env$data","_hidden","parentIf","childIfs","parentValue","childProperties","childIf","originalAttribute","_slicedToArray","sliceIterator","_n","_d","_e","_s","numbers","number","$now","searchParams","sum","average","count","round","num","decimals","isFinite","useGrouping","iff","condition","iftrue","iffalse","haystack","needle","replacement","iterations","needleRegex","counter","len","starts","ends","glue","idify","identifier","$0","$1","$2","uppercase","lowercase","addUnaryOperator","operand","scalar","addBinaryOperator","symbol","symbols","identity","operands","logical","_loop","op","_Mavo$Script$getNumer","getNumericalOperands","_Mavo$Script$getNumer2","_Mavo$Script$getNumer3","_Mavo$Script$getNumer4","_Mavo$Script$getNumer5","_Mavo$Script$getNumer6","_Mavo$Script$getNumer7","_Mavo$Script$getNumer8","da","db","aliases","subtract","multiply","divide","lt","gt","eq","_loop2","_name","alias","_Trap","functions","propertyL","protocol","hostname","Dropbox","referrer","AuthDriver","oauthReceiver","client","Client","file","getFile","writeFile","dataString","stat","versionTag","passive","isAuthenticated","authDriver","receiverUrl","authenticate","interactive","getAccountInfo","accountInfo","signOut","host","parsedURL","parseURL","username","repo","branch","apiCall","authenticated","accessToken","req","request","responseType","apiDomain","atob","fileCall","repoInfo","ref","fileInfo","btoa","sha","screen","screenTop","screenLeft","authPopup","getUser","removeItem","avatar_url","_btoa","unescape","encodeURIComponent","decodeURIComponent","escape"],"mappings":"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","file":"../mavo.es5.min.js","sourcesContent":["!function(){\"use strict\";function t(e,r,s){return r=void 0===r?1:r,s=s||r+1,1>=s-r?function(){if(arguments.length<=r||\"string\"===n.type(arguments[r]))return e.apply(this,arguments);var t,s=arguments[r];for(var i in s){var o=Array.from(arguments);o.splice(r,1,i,s[i]),t=e.apply(this,o)}return t}:t(t(e,r+1,s),r,s-1)}function e(t,n,s){var i=r(s);if(\"string\"===i){var o=Object.getOwnPropertyDescriptor(n,s);!o||o.writable&&o.configurable&&o.enumerable&&!o.get&&!o.set?t[s]=n[s]:(delete t[s],Object.defineProperty(t,s,o))}else if(\"array\"===i)s.forEach(function(r){r in n&&e(t,n,r)});else for(var a in n)s&&(\"regexp\"===i&&!s.test(a)||\"function\"===i&&!s.call(n,a))||e(t,n,a);return t}function r(t){if(null===t)return\"null\";if(void 0===t)return\"undefined\";var e=(Object.prototype.toString.call(t).match(/^\\[object\\s+(.*?)\\]$/)[1]||\"\").toLowerCase();return\"number\"==e&&isNaN(t)?\"nan\":e}var n=self.Bliss=e(function(t,e){return 2==arguments.length&&!e||!t?null:\"string\"===n.type(t)?(e||document).querySelector(t):t||null},self.Bliss);e(n,{extend:e,overload:t,type:r,property:n.property||\"_\",sources:{},noop:function(){},$:function(t,e){return t instanceof Node||t instanceof Window?[t]:2!=arguments.length||e?Array.from(\"string\"==typeof t?(e||document).querySelectorAll(t):t||[]):[]},defined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},create:function(t,e){return t instanceof Node?n.set(t,e):(1===arguments.length&&(\"string\"===n.type(t)?e={}:(e=t,t=e.tag,e=n.extend({},e,function(t){return\"tag\"!==t}))),n.set(document.createElement(t||\"div\"),e))},each:function(t,e,r){r=r||{};for(var n in t)r[n]=e.call(t,n,t[n]);return r},ready:function(t){return t=t||document,new Promise(function(e,r){\"loading\"!==t.readyState?e():t.addEventListener(\"DOMContentLoaded\",function(){e()})})},Class:function(t){var e,r=[\"constructor\",\"extends\",\"abstract\",\"static\"].concat(Object.keys(n.classProps)),s=t.hasOwnProperty(\"constructor\")?t.constructor:n.noop;2==arguments.length?(e=arguments[0],t=arguments[1]):(e=function(){if(this.constructor.__abstract&&this.constructor===e)throw new Error(\"Abstract classes cannot be directly instantiated.\");e[\"super\"]&&e[\"super\"].apply(this,arguments),s.apply(this,arguments)},e[\"super\"]=t[\"extends\"]||null,e.prototype=n.extend(Object.create(e[\"super\"]?e[\"super\"].prototype:Object),{constructor:e}),e.prototype[\"super\"]=e[\"super\"]?e[\"super\"].prototype:null,e.__abstract=!!t[\"abstract\"]);var i=function(t){return this.hasOwnProperty(t)&&-1===r.indexOf(t)};if(t[\"static\"]){n.extend(e,t[\"static\"],i);for(var o in n.classProps)o in t[\"static\"]&&n.classProps[o](e,t[\"static\"][o])}n.extend(e.prototype,t,i);for(var o in n.classProps)o in t&&n.classProps[o](e.prototype,t[o]);return e},classProps:{lazy:t(function(t,e,r){return Object.defineProperty(t,e,{get:function(){var t=r.call(this);return Object.defineProperty(this,e,{value:t,configurable:!0,enumerable:!0,writable:!0}),t},set:function(t){Object.defineProperty(this,e,{value:t,configurable:!0,enumerable:!0,writable:!0})},configurable:!0,enumerable:!0}),t}),live:t(function(t,e,r){return\"function\"===n.type(r)&&(r={set:r}),Object.defineProperty(t,e,{get:function(){var t=this[\"_\"+e],n=r.get&&r.get.call(this,t);return void 0!==n?n:t},set:function(t){var n=this[\"_\"+e],s=r.set&&r.set.call(this,t,n);this[\"_\"+e]=void 0!==s?s:t},configurable:r.configurable,enumerable:r.enumerable}),t})},include:function(){var t=arguments[arguments.length-1],e=2===arguments.length?arguments[0]:!1,r=document.createElement(\"script\");return e?Promise.resolve():new Promise(function(e,s){n.set(r,{async:!0,onload:function(){e(),n.remove(r)},onerror:function(){s()},src:t,inside:document.head})})},fetch:function(t,r){if(!t)throw new TypeError(\"URL parameter is mandatory and cannot be \"+t);var s=e({url:new URL(t,location),data:\"\",method:\"GET\",headers:{},xhr:new XMLHttpRequest},r);s.method=s.method.toUpperCase(),n.hooks.run(\"fetch-args\",s),\"GET\"===s.method&&s.data&&(s.url.search+=s.data),document.body.setAttribute(\"data-loading\",s.url),s.xhr.open(s.method,s.url.href,s.async!==!1,s.user,s.password);for(var i in r)if(i in s.xhr)try{s.xhr[i]=r[i]}catch(o){self.console&&console.error(o)}\"GET\"===s.method||s.headers[\"Content-type\"]||s.headers[\"Content-Type\"]||s.xhr.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");for(var a in s.headers)s.xhr.setRequestHeader(a,s.headers[a]);return new Promise(function(t,e){s.xhr.onload=function(){document.body.removeAttribute(\"data-loading\"),0===s.xhr.status||s.xhr.status>=200&&s.xhr.status<300||304===s.xhr.status?t(s.xhr):e(n.extend(Error(s.xhr.statusText),{xhr:s.xhr,get status(){return this.xhr.status}}))},s.xhr.onerror=function(){document.body.removeAttribute(\"data-loading\"),e(n.extend(Error(\"Network Error\"),{xhr:s.xhr}))},s.xhr.ontimeout=function(){document.body.removeAttribute(\"data-loading\"),e(n.extend(Error(\"Network Timeout\"),{xhr:s.xhr}))},s.xhr.send(\"GET\"===s.method?null:s.data)})},value:function(t){var e=\"string\"!==n.type(t);return n.$(arguments).slice(+e).reduce(function(t,e){return t&&t[e]},e?t:self)}}),n.Hooks=new n.Class({add:function(t,e,r){if(\"string\"==typeof arguments[0])(Array.isArray(t)?t:[t]).forEach(function(t){this[t]=this[t]||[],e&&this[t][r?\"unshift\":\"push\"](e)},this);else for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1])},run:function(t,e){this[t]=this[t]||[],this[t].forEach(function(t){t.call(e&&e.context?e.context:e,e)})}}),n.hooks=new n.Hooks;var s=n.property;n.Element=function(t){this.subject=t,this.data={},this.bliss={}},n.Element.prototype={set:t(function(t,e){t in n.setProps?n.setProps[t].call(this,e):t in this?this[t]=e:this.setAttribute(t,e)},0),transition:function(t,e){return e=+e||400,new Promise(function(r,s){if(\"transition\"in this.style){var i=n.extend({},this.style,/^transition(Duration|Property)$/);n.style(this,{transitionDuration:(e||400)+\"ms\",transitionProperty:Object.keys(t).join(\", \")}),n.once(this,\"transitionend\",function(){clearTimeout(o),n.style(this,i),r(this)});var o=setTimeout(r,e+50,this);n.style(this,t)}else n.style(this,t),r(this)}.bind(this))},fire:function(t,e){var r=document.createEvent(\"HTMLEvents\");return r.initEvent(t,!0,!0),this.dispatchEvent(n.extend(r,e))},unbind:t(function(t,e){(t||\"\").split(/\\s+/).forEach(function(t){if(s in this&&(t.indexOf(\".\")>-1||!e)){t=(t||\"\").split(\".\");var r=t[1];t=t[0];var n=this[s].bliss.listeners=this[s].bliss.listeners||{};for(var i in n)if(!t||i===t)for(var o,a=0;o=n[i][a];a++)r&&r!==o.className||e&&e!==o.callback||(this.removeEventListener(i,o.callback,o.capture),a--)}else this.removeEventListener(t,e)},this)},0)},n.setProps={style:function(t){for(var e in t)e in this.style?this.style[e]=t[e]:this.style.setProperty(e,t[e])},attributes:function(t){for(var e in t)this.setAttribute(e,t[e])},properties:function(t){n.extend(this,t)},events:function(t){if(t&&t.addEventListener){var e=this;if(t[s]&&t[s].bliss){var r=t[s].bliss.listeners;for(var i in r)r[i].forEach(function(t){e.addEventListener(i,t.callback,t.capture)})}for(var o in t)0===o.indexOf(\"on\")&&(this[o]=t[o])}else if(arguments.length>1&&\"string\"===n.type(t)){var a=arguments[1],u=arguments[2];t.split(/\\s+/).forEach(function(t){this.addEventListener(t,a,u)},this)}else for(var c in t)n.events(this,c,t[c])},once:t(function(t,e){t=t.split(/\\s+/);var r=this,n=function(){return t.forEach(function(t){r.removeEventListener(t,n)}),e.apply(r,arguments)};t.forEach(function(t){r.addEventListener(t,n)})},0),delegate:t(function(t,e,r){this.addEventListener(t,function(t){t.target.closest(e)&&r.call(this,t)})},0,2),contents:function(t){(t||0===t)&&(Array.isArray(t)?t:[t]).forEach(function(t){var e=n.type(t);/^(string|number)$/.test(e)?t=document.createTextNode(t+\"\"):\"object\"===e&&(t=n.create(t)),t instanceof Node&&this.appendChild(t)},this)},inside:function(t){t.appendChild(this)},before:function(t){t.parentNode.insertBefore(this,t)},after:function(t){t.parentNode.insertBefore(this,t.nextSibling)},start:function(t){t.insertBefore(this,t.firstChild)},around:function(t){t.parentNode&&n.before(this,t),(/^template$/i.test(this.nodeName)?this.content||this:this).appendChild(t)}},n.Array=function(t){this.subject=t},n.Array.prototype={all:function(t){var e=$$(arguments).slice(1);return this[t].apply(this,e)}},n.add=t(function(t,e,r,s){r=n.extend({$:!0,element:!0,array:!0},r),\"function\"==n.type(e)&&(!r.element||t in n.Element.prototype&&s||(n.Element.prototype[t]=function(){return this.subject&&n.defined(e.apply(this.subject,arguments),this.subject)}),!r.array||t in n.Array.prototype&&s||(n.Array.prototype[t]=function(){var t=arguments;return this.subject.map(function(r){return r&&n.defined(e.apply(r,t),r)})}),r.$&&(n.sources[t]=n[t]=e,(r.array||r.element)&&(n[t]=function(){var e=[].slice.apply(arguments),s=e.shift(),i=r.array&&Array.isArray(s)?\"Array\":\"Element\";return n[i].prototype[t].apply({subject:s},e)})))},0),n.add(n.Array.prototype,{element:!1}),n.add(n.Element.prototype),n.add(n.setProps),n.add(n.classProps,{element:!1,array:!1});var i=document.createElement(\"_\");n.add(n.extend({},HTMLElement.prototype,function(t){return\"function\"===n.type(i[t])}),null,!0)}(),function(t){\"use strict\";if(Bliss&&!Bliss.shy){var e=Bliss.property;if(t.add({clone:function(){var e=this.cloneNode(!0),r=t.$(\"*\",e).concat(e);return t.$(\"*\",this).concat(this).forEach(function(e,n,s){t.events(r[n],e),r[n]._.data=t.extend({},e._.data)}),e}},{array:!1}),Object.defineProperty(Node.prototype,e,{get:function o(){return Object.defineProperty(Node.prototype,e,{get:void 0}),Object.defineProperty(this,e,{value:new t.Element(this)}),Object.defineProperty(Node.prototype,e,{get:o}),this[e]},configurable:!0}),Object.defineProperty(Array.prototype,e,{get:function(){return Object.defineProperty(this,e,{value:new t.Array(this)}),this[e]},configurable:!0}),self.EventTarget&&\"addEventListener\"in EventTarget.prototype){var r=EventTarget.prototype.addEventListener,n=EventTarget.prototype.removeEventListener,s=function(t,e,r){return r.callback===t&&r.capture==e},i=function(){return!s.apply(this,arguments)};EventTarget.prototype.addEventListener=function(t,n,i){if(this&&this[e]&&this[e].bliss&&n){var o=this[e].bliss.listeners=this[e].bliss.listeners||{};if(t.indexOf(\".\")>-1){t=t.split(\".\");var a=t[1];t=t[0]}o[t]=o[t]||[],0===o[t].filter(s.bind(null,n,i)).length&&o[t].push({callback:n,capture:i,className:a})}return r.call(this,t,n,i)},EventTarget.prototype.removeEventListener=function(t,r,s){if(this&&this[e]&&this[e].bliss&&r){var o=this[e].bliss.listeners=this[e].bliss.listeners||{};o[t]&&(o[t]=o[t].filter(i.bind(null,r,s)))}return n.call(this,t,r,s)}}self.$=self.$||t,self.$$=self.$$||t.$}}(Bliss);\n/*\n * Stretchy: Form element autosizing, the way it should be.\n * by Lea Verou http://lea.verou.me\n * MIT license\n */\n(function() {\n\nif (!self.Element) {\n\treturn; // super old browser\n}\n\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || null;\n}\n\nif (!Element.prototype.matches) {\n\treturn;\n}\n\nfunction $$(expr, con) {\n\treturn expr instanceof Node || expr instanceof Window? [expr] :\n\t       [].slice.call(typeof expr == \"string\"? (con || document).querySelectorAll(expr) : expr || []);\n}\n\nvar _ = self.Stretchy = {\n\tselectors: {\n\t\tbase: 'textarea, select:not([size]), input:not([type]), input[type=\"' + \"text url email tel\".split(\" \").join('\"], input[type=\"') + '\"]',\n\t\tfilter: \"*\"\n\t},\n\n\t// Script element this was included with, if any\n\tscript: document.currentScript || $$(\"script\").pop(),\n\n\t// Autosize one element. The core of Stretchy.\n\tresize: function(element) {\n\t\tif (!_.resizes(element)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cs = getComputedStyle(element);\n\t\tvar offset = 0;\n\n\t\tif (!element.value && element.placeholder) {\n\t\t\tvar empty = true;\n\t\t\telement.value = element.placeholder;\n\t\t}\n\n\t\tvar type = element.nodeName.toLowerCase();\n\n\t\tif (type == \"textarea\") {\n\t\t\telement.style.height = \"0\";\n\n\t\t\tif (cs.boxSizing == \"border-box\") {\n\t\t\t\toffset = element.offsetHeight;\n\t\t\t}\n\t\t\telse if (cs.boxSizing == \"content-box\") {\n\t\t\t\toffset = -element.clientHeight;\n\t\t\t}\n\n\t\t\telement.style.height = element.scrollHeight + offset + \"px\";\n\t\t}\n\t\telse if(type == \"input\") {\n\t\t\t// First test that it is actually visible, otherwise all measurements are off\n\t\t\telement.style.width = \"1000px\";\n\n\t\t\tif (element.offsetWidth) {\n\t\t\t\telement.style.width = \"0\";\n\n\t\t\t\tif (cs.boxSizing == \"border-box\") {\n\t\t\t\t\toffset = element.offsetWidth;\n\t\t\t\t}\n\t\t\t\telse if (cs.boxSizing == \"padding-box\") {\n\t\t\t\t\toffset = element.clientWidth;\n\t\t\t\t}\n\n\t\t\t\t// Safari misreports scrollWidth, so we will instead set scrollLeft to a\n\t\t\t\t// huge number, and read that back to see what it was clipped to\n\t\t\t\telement.scrollLeft = 1e+10;\n\n\t\t\t\tvar width = Math.max(element.scrollLeft + offset, element.scrollWidth - element.clientWidth);\n\n\t\t\t\telement.style.width = width + \"px\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Element is invisible, just set to something reasonable\n\t\t\t\telement.style.width = element.value.length + 1 + \"ch\";\n\t\t\t}\n\t\t}\n\t\telse if (type == \"select\") {\n\t\t\tvar selectedIndex = element.selectedIndex > 0? element.selectedIndex : 0;\n\n\t\t\t// Need to use dummy element to measure :(\n\t\t\tvar option = document.createElement(\"_\");\n\t\t\toption.textContent = element.options[selectedIndex].textContent;\n\t\t\telement.parentNode.insertBefore(option, element.nextSibling);\n\n\t\t\t// The name of the appearance property, as it might be prefixed\n\t\t\tvar appearance;\n\n\t\t\tfor (var property in cs) {\n\t\t\t\tvar value = cs[property];\n\t\t\t\tif (!/^(width|webkitLogicalWidth|length)$/.test(property) && typeof value == \"string\") {\n\t\t\t\t\t//console.log(property, option.offsetWidth, cs[property]);\n\t\t\t\t\toption.style[property] = value;\n\n\t\t\t\t\tif (/appearance$/i.test(property)) {\n\t\t\t\t\t\tappearance = property;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toption.style.width = \"\";\n\n\t\t\tif (option.offsetWidth > 0) {\n\t\t\t\telement.style.width = option.offsetWidth + \"px\";\n\n\t\t\t\tif (!cs[appearance] || cs[appearance] !== \"none\") {\n\t\t\t\t\t// Account for arrow\n\t\t\t\t\telement.style.width = \"calc(\" + element.style.width + \" + 2em)\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toption.parentNode.removeChild(option);\n\t\t\toption = null;\n\t\t}\n\n\t\tif (empty) {\n\t\t\telement.value = \"\";\n\t\t}\n\t},\n\n\t// Autosize multiple elements\n\tresizeAll: function(elements) {\n\t\t$$(elements || _.selectors.base).forEach(function (element) {\n\t\t\t_.resize(element);\n\t\t});\n\t},\n\n\tactive: true,\n\n\t// Will stretchy do anything for this element?\n\tresizes: function(element) {\n\t\treturn element &&\n\t\t       element.parentNode &&\n\t\t       element.matches &&\n\t\t       element.matches(_.selectors.base) &&\n\t\t       element.matches(_.selectors.filter);\n\t},\n\n\tinit: function(){\n\t\t_.selectors.filter = _.script.getAttribute(\"data-filter\") ||\n\t\t                     ($$(\"[data-stretchy-filter]\").pop() || document.body).getAttribute(\"data-stretchy-filter\") || Stretchy.selectors.filter || \"*\";\n\n\t\t_.resizeAll();\n\t},\n\n\t$$: $$\n};\n\n// Autosize all elements once the DOM is loaded\n\n// DOM already loaded?\nif (document.readyState !== \"loading\") {\n\t_.init();\n}\nelse {\n\t// Wait for it\n\tdocument.addEventListener(\"DOMContentLoaded\", _.init);\n}\n\n// Listen for changes\nvar listener = function(evt) {\n\tif (_.active) {\n\t\t_.resize(evt.target);\n\t}\n};\n\ndocument.documentElement.addEventListener(\"input\", listener);\n\n// Firefox fires a change event instead of an input event\ndocument.documentElement.addEventListener(\"change\", listener);\n\n// Listen for new elements\nif (self.MutationObserver) {\n\t(new MutationObserver(function(mutations) {\n\t\tif (_.active) {\n\t\t\tmutations.forEach(function(mutation) {\n\t\t\t\tif (mutation.type == \"childList\") {\n\t\t\t\t\tStretchy.resizeAll(mutation.addedNodes);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t})).observe(document.documentElement, {\n\t\tchildList: true,\n\t\tsubtree: true\n\t});\n}\n\n})();\n\n/* jsep v0.3.1 (http://jsep.from.so/) */\n!function(a){\"use strict\";var b=\"Compound\",c=\"Identifier\",d=\"MemberExpression\",e=\"Literal\",f=\"ThisExpression\",g=\"CallExpression\",h=\"UnaryExpression\",i=\"BinaryExpression\",j=\"LogicalExpression\",k=\"ConditionalExpression\",l=\"ArrayExpression\",m=46,n=44,o=39,p=34,q=40,r=41,s=91,t=93,u=63,v=59,w=58,x=function(a,b){var c=new Error(a+\" at character \"+b);throw c.index=b,c.description=a,c},y=!0,z={\"-\":y,\"!\":y,\"~\":y,\"+\":y},A={\"||\":1,\"&&\":2,\"|\":3,\"^\":4,\"&\":5,\"==\":6,\"!=\":6,\"===\":6,\"!==\":6,\"<\":7,\">\":7,\"<=\":7,\">=\":7,\"<<\":8,\">>\":8,\">>>\":8,\"+\":9,\"-\":9,\"*\":10,\"/\":10,\"%\":10},B=function(a){var b,c=0;for(var d in a)(b=d.length)>c&&a.hasOwnProperty(d)&&(c=b);return c},C=B(z),D=B(A),E={\"true\":!0,\"false\":!1,\"null\":null},F=\"this\",G=function(a){return A[a]||0},H=function(a,b,c){var d=\"||\"===a||\"&&\"===a?j:i;return{type:d,operator:a,left:b,right:c}},I=function(a){return a>=48&&a<=57},J=function(a){return 36===a||95===a||a>=65&&a<=90||a>=97&&a<=122||a>=128&&!A[String.fromCharCode(a)]},K=function(a){return 36===a||95===a||a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57||a>=128&&!A[String.fromCharCode(a)]},L=function(a){for(var i,j,y=0,B=a.charAt,L=a.charCodeAt,M=function(b){return B.call(a,b)},N=function(b){return L.call(a,b)},O=a.length,P=function(){for(var a=N(y);32===a||9===a;)a=N(++y)},Q=function(){var a,b,c=S();return P(),N(y)!==u?c:(y++,a=Q(),a||x(\"Expected expression\",y),P(),N(y)===w?(y++,b=Q(),b||x(\"Expected expression\",y),{type:k,test:c,consequent:a,alternate:b}):void x(\"Expected :\",y))},R=function(){P();for(var b=a.substr(y,D),c=b.length;c>0;){if(A.hasOwnProperty(b))return y+=c,b;b=b.substr(0,--c)}return!1},S=function(){var a,b,c,d,e,f,g,h;if(f=T(),b=R(),!b)return f;for(e={value:b,prec:G(b)},g=T(),g||x(\"Expected expression after \"+b,y),d=[f,e,g];(b=R())&&(c=G(b),0!==c);){for(e={value:b,prec:c};d.length>2&&c<=d[d.length-2].prec;)g=d.pop(),b=d.pop().value,f=d.pop(),a=H(b,f,g),d.push(a);a=T(),a||x(\"Expected expression after \"+b,y),d.push(e,a)}for(h=d.length-1,a=d[h];h>1;)a=H(d[h-1].value,d[h-2],a),h-=2;return a},T=function(){var b,c,d;if(P(),b=N(y),I(b)||b===m)return U();if(b===o||b===p)return V();if(J(b)||b===q)return Y();if(b===s)return $();for(c=a.substr(y,C),d=c.length;d>0;){if(z.hasOwnProperty(c))return y+=d,{type:h,operator:c,argument:T(),prefix:!0};c=c.substr(0,--d)}return!1},U=function(){for(var a,b,c=\"\";I(N(y));)c+=M(y++);if(N(y)===m)for(c+=M(y++);I(N(y));)c+=M(y++);if(a=M(y),\"e\"===a||\"E\"===a){for(c+=M(y++),a=M(y),\"+\"!==a&&\"-\"!==a||(c+=M(y++));I(N(y));)c+=M(y++);I(N(y-1))||x(\"Expected exponent (\"+c+M(y)+\")\",y)}return b=N(y),J(b)?x(\"Variable names cannot start with a number (\"+c+M(y)+\")\",y):b===m&&x(\"Unexpected period\",y),{type:e,value:parseFloat(c),raw:c}},V=function(){for(var a,b=\"\",c=M(y++),d=!1;y<O;){if(a=M(y++),a===c){d=!0;break}if(\"\\\\\"===a)switch(a=M(y++)){case\"n\":b+=\"\\n\";break;case\"r\":b+=\"\\r\";break;case\"t\":b+=\"\\t\";break;case\"b\":b+=\"\\b\";break;case\"f\":b+=\"\\f\";break;case\"v\":b+=\"\\x0B\";break;default:b+=\"\\\\\"+a}else b+=a}return d||x('Unclosed quote after \"'+b+'\"',y),{type:e,value:b,raw:c+b+c}},W=function(){var b,d=N(y),g=y;for(J(d)?y++:x(\"Unexpected \"+M(y),y);y<O&&(d=N(y),K(d));)y++;return b=a.slice(g,y),E.hasOwnProperty(b)?{type:e,value:E[b],raw:b}:b===F?{type:f}:{type:c,name:b}},X=function(a){for(var c,d,e=[],f=!1;y<O;){if(P(),c=N(y),c===a){f=!0,y++;break}c===n?y++:(d=Q(),d&&d.type!==b||x(\"Expected comma\",y),e.push(d))}return f||x(\"Expected \"+String.fromCharCode(a),y),e},Y=function(){var a,b;for(a=N(y),b=a===q?Z():W(),P(),a=N(y);a===m||a===s||a===q;)y++,a===m?(P(),b={type:d,computed:!1,object:b,property:W()}):a===s?(b={type:d,computed:!0,object:b,property:Q()},P(),a=N(y),a!==t&&x(\"Unclosed [\",y),y++):a===q&&(b={type:g,arguments:X(r),callee:b}),P(),a=N(y);return b},Z=function(){y++;var a=Q();return P(),N(y)===r?(y++,a):void x(\"Unclosed (\",y)},$=function(){return y++,{type:l,elements:X(t)}},_=[];y<O;)i=N(y),i===v||i===n?y++:(j=Q())?_.push(j):y<O&&x('Unexpected \"'+M(y)+'\"',y);return 1===_.length?_[0]:{type:b,body:_}};if(L.version=\"0.3.1\",L.toString=function(){return\"JavaScript Expression Parser (JSEP) v\"+L.version},L.addUnaryOp=function(a){return C=Math.max(a.length,C),z[a]=y,this},L.addBinaryOp=function(a,b){return D=Math.max(a.length,D),A[a]=b,this},L.addLiteral=function(a,b){return E[a]=b,this},L.removeUnaryOp=function(a){return delete z[a],a.length===C&&(C=B(z)),this},L.removeBinaryOp=function(a){return delete A[a],a.length===D&&(D=B(A)),this},L.removeLiteral=function(a){return delete E[a],this},\"undefined\"==typeof exports){var M=a.jsep;a.jsep=L,L.noConflict=function(){return a.jsep===L&&(a.jsep=M),L}}else\"undefined\"!=typeof module&&module.exports?exports=module.exports=L:exports.parse=L}(this);\n//# sourceMappingURL=jsep.min.js.map\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\t\"use strict\";\n\n\tvar _ = self.Mavo = $.Class({\n\t\tconstructor: function constructor(element) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.treeBuilt = Mavo.defer();\n\n\t\t\tthis.element = element;\n\n\t\t\t// Index among other mavos in the page, 1 is first\n\t\t\tthis.index = _.all.push(this);\n\n\t\t\t// Convert any data-mv-* attributes to mv-*\n\t\t\tvar dataMv = _.attributes.map(function (attribute) {\n\t\t\t\treturn \"[data-\" + attribute + \"]\";\n\t\t\t});\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = $$(dataMv.join(\", \"), this.element).concat(this.element)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar _element = _step.value;\n\t\t\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\t\t\tvar _didIteratorError4 = false;\n\t\t\t\t\tvar _iteratorError4 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator4 = _.attributes[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\t\t\tvar attribute = _step4.value;\n\n\t\t\t\t\t\t\tvar value = _element.getAttribute(\"data-\" + attribute);\n\n\t\t\t\t\t\t\tif (value !== null) {\n\t\t\t\t\t\t\t\t_element.setAttribute(attribute, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t\t\t_iteratorError4 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Assign a unique (for the page) id to this mavo instance\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_.allIds.push(this.id = Mavo.getAttribute(this.element, \"mv-app\", \"id\") || \"mavo\" + this.index);\n\t\t\tthis.element.setAttribute(\"mv-app\", this.id);\n\n\t\t\t// Should we start in edit mode?\n\t\t\tthis.autoEdit = this.element.classList.contains(\"mv-autoedit\");\n\n\t\t\t// Should we save automatically?\n\t\t\tthis.autoSave = this.element.hasAttribute(\"mv-autosave\");\n\n\t\t\tthis.element.setAttribute(\"typeof\", \"\");\n\n\t\t\t// Apply heuristic for groups\n\t\t\t$$(_.selectors.primitive, element).forEach(function (element) {\n\t\t\t\tvar hasChildren = $(_.selectors.not(_.selectors.formControl) + \", \" + _.selectors.property, element);\n\n\t\t\t\tif (hasChildren) {\n\t\t\t\t\tvar config = Mavo.Primitive.getConfig(element);\n\t\t\t\t\tvar isCollection = Mavo.is(\"multiple\", element);\n\n\t\t\t\t\tif (isCollection || !config.attribute && !config.hasChildren) {\n\t\t\t\t\t\telement.setAttribute(\"typeof\", \"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Build mavo objects\n\t\t\tMavo.hooks.run(\"init-tree-before\", this);\n\n\t\t\tthis.root = new Mavo.Group(this.element, this);\n\t\t\tthis.treeBuilt.resolve();\n\n\t\t\tMavo.hooks.run(\"init-tree-after\", this);\n\n\t\t\tthis.ui = {\n\t\t\t\tbar: $(\".mv-bar\", this.element) || $.create({\n\t\t\t\t\tclassName: \"mv-bar mv-ui\",\n\t\t\t\t\tstart: this.element\n\t\t\t\t})\n\t\t\t};\n\n\t\t\tthis.ui.bar.classList.toggle(\"mv-compact\", this.ui.bar.parentNode.offsetWidth < 400);\n\t\t\tthis.ui.bar.classList.toggle(\"mv-tiny\", this.ui.bar.parentNode.offsetWidth < 250);\n\n\t\t\tthis.ui.status = $(\".mv-status\", this.ui.bar) || $.create(\"span\", {\n\t\t\t\tclassName: \"mv-status\",\n\t\t\t\tinside: this.ui.bar\n\t\t\t});\n\n\t\t\t// Figure out backends for storage, data reads, and initialization respectively\n\t\t\tvar _arr = [\"storage\", \"source\", \"init\"];\n\t\t\tfor (var _i = 0; _i < _arr.length; _i++) {\n\t\t\t\tvar role = _arr[_i];\n\t\t\t\tif (this.index == 1) {\n\t\t\t\t\tthis[role] = _.Functions.urlOption(role);\n\t\t\t\t}\n\n\t\t\t\tif (!this[role]) {\n\t\t\t\t\tthis[role] = _.Functions.urlOption(this.id + \"_\" + role) || this.element.getAttribute(\"mv-\" + role) || null;\n\t\t\t\t}\n\n\t\t\t\tif (this[role]) {\n\t\t\t\t\t// We have a string, convert to a backend object\n\t\t\t\t\tthis[role] = this[role].trim();\n\t\t\t\t\tthis[role] = this[role] == \"none\" ? null : _.Backend.create(this[role], {\n\t\t\t\t\t\tmavo: this,\n\t\t\t\t\t\tformat: this.element.getAttribute(\"mv-format-\" + role) || this.element.getAttribute(\"mv-format\")\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.storage && !this.source && this.init) {\n\t\t\t\t// If init is present with no storage and no source, init is equivalent to source\n\t\t\t\tthis.source = this.init;\n\t\t\t\tthis.init = null;\n\t\t\t}\n\n\t\t\tvar _arr2 = [\"storage\", \"source\", \"init\"];\n\t\t\tfor (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n\t\t\t\tvar _role = _arr2[_i2];\n\t\t\t\tif (this[_role]) {\n\t\t\t\t\tthis.primaryBackend = this[_role];\n\t\t\t\t\tthis.permissions = this[_role].permissions;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.permissions = this.permissions || new Mavo.Permissions();\n\n\t\t\tif (this.primaryBackend) {\n\t\t\t\t// Reflect backend permissions in global permissions\n\t\t\t\tthis.authControls = {};\n\n\t\t\t\t$.style(this.ui.bar, {\n\t\t\t\t\t\"--mv-backend\": \"\\\"\" + this.primaryBackend.id + \"\\\"\"\n\t\t\t\t});\n\n\t\t\t\tthis.permissions.can(\"login\", function () {\n\t\t\t\t\t// #login authenticates if only 1 mavo on the page, or if the first.\n\t\t\t\t\t// Otherwise, we have to generate a slightly more complex hash\n\t\t\t\t\t_this.loginHash = \"#login\" + (Mavo.all[0] === _this ? \"\" : \"-\" + _this.id);\n\n\t\t\t\t\t_this.authControls.login = $.create({\n\t\t\t\t\t\ttag: \"a\",\n\t\t\t\t\t\thref: _this.loginHash,\n\t\t\t\t\t\ttextContent: \"Login\",\n\t\t\t\t\t\ttitle: \"Login\",\n\t\t\t\t\t\tclassName: \"mv-login mv-button\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tclick: function click(evt) {\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t\t_this.primaryBackend.login();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tafter: $(\".mv-status\", _this.ui.bar)\n\t\t\t\t\t});\n\n\t\t\t\t\t// We also support a hash to trigger login, in case the user doesn't want visible login UI\n\t\t\t\t\tvar login;\n\t\t\t\t\t(login = function login() {\n\t\t\t\t\t\tif (location.hash === _this.loginHash) {\n\t\t\t\t\t\t\t// This just does location.hash = \"\" without getting a pointless # at the end of the URL\n\t\t\t\t\t\t\thistory.replaceState(null, document.title, new URL(\"\", location) + \"\");\n\t\t\t\t\t\t\t_this.primaryBackend.login();\n\t\t\t\t\t\t}\n\t\t\t\t\t})();\n\t\t\t\t\twindow.addEventListener(\"hashchange.mavo\", login);\n\t\t\t\t}, function () {\n\t\t\t\t\t$.remove(_this.authControls.login);\n\t\t\t\t\t_this.element._.unbind(\"hashchange.mavo\");\n\t\t\t\t});\n\n\t\t\t\t// Update login status\n\t\t\t\tthis.element.addEventListener(\"mavo:login.mavo\", function (evt) {\n\t\t\t\t\tif (evt.backend == _this.primaryBackend) {\n\t\t\t\t\t\t// ignore logins from secondary backends\n\t\t\t\t\t\tvar status = $(\".mv-status\", _this.ui.bar);\n\t\t\t\t\t\tstatus.innerHTML = \"\";\n\t\t\t\t\t\t$.set(status, {\n\t\t\t\t\t\t\tcontents: [{ tag: \"strong\", innerHTML: evt.name }, {\n\t\t\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\t\t\ttextContent: \"Logout\",\n\t\t\t\t\t\t\t\tclassName: \"mv-logout\",\n\t\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\t\tclick: function click(e) {\n\t\t\t\t\t\t\t\t\t\treturn evt.backend.logout();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// If last time we rendered we got nothing, maybe now we'll have better luck?\n\t\t\t\t\t\tif (!_this.root.data && !_this.unsavedChanges) {\n\t\t\t\t\t\t\t_this.load();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"mavo:logout.mavo\", function (evt) {\n\t\t\t\t\t$(\".mv-status\", _this.ui.bar).textContent = \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Prevent editing properties inside <summary> to open and close the summary (fix bug #82)\n\t\t\tif ($(\"summary [property]:not([typeof])\")) {\n\t\t\t\tthis.element.addEventListener(\"click\", function (evt) {\n\t\t\t\t\tif (evt.target != document.activeElement) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Is there any control that requires an edit button?\n\t\t\tthis.needsEdit = this.some(function (obj) {\n\t\t\t\treturn obj != _this.root && !obj.modes && obj.mode == \"read\";\n\t\t\t});\n\n\t\t\tthis.setUnsavedChanges(false);\n\n\t\t\tthis.permissions.onchange(function (_ref) {\n\t\t\t\tvar action = _ref.action,\n\t\t\t\t    value = _ref.value;\n\n\t\t\t\tvar permissions = _this.element.getAttribute(\"mv-permissions\") || \"\";\n\t\t\t\tpermissions = permissions.trim().split(/\\s+/).filter(function (a) {\n\t\t\t\t\treturn a != action;\n\t\t\t\t});\n\n\t\t\t\tif (value) {\n\t\t\t\t\tpermissions.push(action);\n\t\t\t\t}\n\n\t\t\t\t_this.element.setAttribute(\"mv-permissions\", permissions.join(\" \"));\n\t\t\t});\n\n\t\t\tif (this.needsEdit) {\n\t\t\t\tthis.permissions.can([\"edit\", \"add\", \"delete\"], function () {\n\t\t\t\t\t_this.ui.edit = $.create(\"button\", {\n\t\t\t\t\t\tclassName: \"mv-edit\",\n\t\t\t\t\t\ttextContent: \"Edit\",\n\t\t\t\t\t\ttitle: \"Edit\",\n\t\t\t\t\t\tinside: _this.ui.bar\n\t\t\t\t\t});\n\n\t\t\t\t\t// Observe entire tree for mv-mode changes\n\t\t\t\t\t_this.modeObserver = new Mavo.Observer(_this.element, \"mv-mode\", function (records) {\n\t\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator2 = records[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\t\tvar record = _step2.value;\n\n\t\t\t\t\t\t\t\tvar _element2 = record.target;\n\n\t\t\t\t\t\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\t\t\t\t\t\tvar _didIteratorError3 = false;\n\t\t\t\t\t\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tnodeloop: for (var _iterator3 = _.Node.children(_element2)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\t\t\t\t\t\tvar node = _step3.value;\n\n\t\t\t\t\t\t\t\t\t\tvar previousMode = node.mode,\n\t\t\t\t\t\t\t\t\t\t    mode = void 0;\n\n\t\t\t\t\t\t\t\t\t\tif (node.element == _element2) {\n\t\t\t\t\t\t\t\t\t\t\t// If attribute set directly on a Mavo node, then it forces it into that mode\n\t\t\t\t\t\t\t\t\t\t\t// otherwise, descendant nodes still inherit, unless they are also mode-restricted\n\t\t\t\t\t\t\t\t\t\t\tmode = node.element.getAttribute(\"mv-mode\");\n\t\t\t\t\t\t\t\t\t\t\tnode.modes = mode;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// Inherited\n\t\t\t\t\t\t\t\t\t\t\tif (node.modes) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Mode-restricted, we cannot change to the other mode\n\t\t\t\t\t\t\t\t\t\t\t\tcontinue nodeloop;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tmode = _.getStyle(node.element.parentNode, \"--mv-mode\");\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tnode.mode = mode;\n\n\t\t\t\t\t\t\t\t\t\tif (previousMode != node.mode) {\n\t\t\t\t\t\t\t\t\t\t\tnode[node.mode == \"edit\" ? \"edit\" : \"done\"]();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t\t\t\t\t\t_iteratorError3 = err;\n\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, { subtree: true });\n\n\t\t\t\t\tif (_this.autoEdit) {\n\t\t\t\t\t\t_this.edit();\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\t// cannot\n\t\t\t\t\t$.remove(_this.ui.edit);\n\n\t\t\t\t\tif (_this.editing) {\n\t\t\t\t\t\t_this.done();\n\t\t\t\t\t}\n\n\t\t\t\t\t_this.modeObserver && _this.modeObserver.destroy();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.storage) {\n\t\t\t\tthis.permissions.can(\"delete\", function () {\n\t\t\t\t\t_this.ui.clear = $.create(\"button\", {\n\t\t\t\t\t\tclassName: \"mv-clear\",\n\t\t\t\t\t\ttextContent: \"Clear\",\n\t\t\t\t\t\ttitle: \"Clear\"\n\t\t\t\t\t});\n\n\t\t\t\t\t_this.ui.bar.appendChild(_this.ui.clear);\n\t\t\t\t}, function () {\n\t\t\t\t\t$.remove(_this.ui.clear);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.storage || this.source) {\n\t\t\t\t// Fetch existing data\n\t\t\t\tthis.permissions.can(\"read\", function () {\n\t\t\t\t\treturn _this.load();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// No storage\n\t\t\t\tthis.permissions.on([\"read\", \"edit\"]);\n\n\t\t\t\t$.fire(this.element, \"mavo:load\");\n\t\t\t}\n\n\t\t\tthis.permissions.can(\"save\", function () {\n\t\t\t\tif (_this.autoSave) {\n\t\t\t\t\tvar delay = (_this.element.getAttribute(\"mv-autosave\") || 3) * 1000;\n\n\t\t\t\t\t_this.element.addEventListener(\"mavo:load.mavo:autosave\", function (evt) {\n\t\t\t\t\t\tvar debouncedSave = _.debounce(function () {\n\t\t\t\t\t\t\t_this.save();\n\t\t\t\t\t\t}, delay);\n\n\t\t\t\t\t\tvar callback = function callback(evt) {\n\t\t\t\t\t\t\tif (evt.node.saved) {\n\t\t\t\t\t\t\t\tdebouncedSave();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t_this.permissions.can(\"save\", function () {\n\t\t\t\t\t\t\t\t_this.element.addEventListener(\"mavo:datachange.mavo:autosave\", callback);\n\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t_this.element.removeEventListener(\"mavo:datachange.mavo:autosave\", callback);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!_this.autoSave || delay > 0) {\n\t\t\t\t\t// If throttling is disabled, the Save button is pointless\n\t\t\t\t\t_this.ui.save = $.create(\"button\", {\n\t\t\t\t\t\tclassName: \"mv-save\",\n\t\t\t\t\t\ttextContent: \"Save\",\n\t\t\t\t\t\ttitle: \"Save\",\n\t\t\t\t\t\tinside: _this.ui.bar\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t$.events(_this.ui.save, {\n\t\t\t\t\t\"mouseenter focus\": function mouseenterFocus(e) {\n\t\t\t\t\t\t_this.element.classList.add(\"mv-highlight-unsaved\");\n\t\t\t\t\t},\n\t\t\t\t\t\"mouseleave blur\": function mouseleaveBlur(e) {\n\t\t\t\t\t\treturn _this.element.classList.remove(\"mv-highlight-unsaved\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, function () {\n\t\t\t\t$.remove(_this.ui.save);\n\t\t\t\t_this.ui.save = null;\n\t\t\t\t_this.element.removeEventListener(\".mavo:autosave\");\n\t\t\t});\n\n\t\t\t$.delegate(this.element, \"click\", {\n\t\t\t\t\".mv-save\": function mvSave(evt) {\n\t\t\t\t\tif (_this.permissions.save) {\n\t\t\t\t\t\t_this.save();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\".mv-edit\": function mvEdit(evt) {\n\t\t\t\t\tif (_this.editing || !_this.permissions.edit) {\n\t\t\t\t\t\t_this.done();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this.edit();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\".mv-clear\": function mvClear(evt) {\n\t\t\t\t\tif (_this.permissions.delete) {\n\t\t\t\t\t\t_this.clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Ctrl + S or Cmd + S to save\n\t\t\tthis.element.addEventListener(\"keydown\", function (evt) {\n\t\t\t\tif (evt.keyCode == 83 && evt[_.superKey]) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t_this.save();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tMavo.hooks.run(\"init-end\", this);\n\t\t},\n\n\t\tget editing() {\n\t\t\treturn this.root.editing;\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\treturn this.root.getData();\n\t\t},\n\n\t\ttoJSON: function toJSON() {\n\t\t\treturn _.toJSON(this.getData());\n\t\t},\n\n\t\terror: function error(message) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar close = function close() {\n\t\t\t\treturn $.transition(error, { opacity: 0 }).then($.remove);\n\t\t\t};\n\t\t\tvar closeTimeout;\n\t\t\tvar error = $.create(\"p\", {\n\t\t\t\tclassName: \"mv-error mv-ui\",\n\t\t\t\tcontents: [message, {\n\t\t\t\t\ttag: \"button\",\n\t\t\t\t\tclassName: \"mv-close mv-ui\",\n\t\t\t\t\ttextContent: \"×\",\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t\"click\": close\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\tevents: {\n\t\t\t\t\tmouseenter: function mouseenter(e) {\n\t\t\t\t\t\treturn clearTimeout(closeTimeout);\n\t\t\t\t\t},\n\t\t\t\t\tmouseleave: _.rr(function (e) {\n\t\t\t\t\t\treturn closeTimeout = setTimeout(close, 5000);\n\t\t\t\t\t}),\n\t\t\t\t\tclick: function click(e) {\n\t\t\t\t\t\treturn _this2.element.scrollIntoView({ behavior: \"smooth\" });\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tstart: this.element\n\t\t\t});\n\n\t\t\t// Log more info for programmers\n\n\t\t\tfor (var _len = arguments.length, log = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\tlog[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\tif (log.length > 0) {\n\t\t\t\tvar _console;\n\n\t\t\t\t(_console = console).log.apply(_console, [\"%c\" + this.id + \": \" + message, \"color: red; font-weight: bold\"].concat(log));\n\t\t\t}\n\t\t},\n\n\t\trender: function render(data) {\n\t\t\tvar env = { context: this, data: data };\n\n\t\t\t_.hooks.run(\"render-start\", env);\n\n\t\t\tif (env.data) {\n\t\t\t\tthis.root.render(env.data);\n\t\t\t}\n\n\t\t\tthis.unsavedChanges = false;\n\n\t\t\t_.hooks.run(\"render-end\", env);\n\t\t},\n\n\t\tclear: function clear() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (confirm(\"This will delete all your data. Are you sure?\")) {\n\t\t\t\tthis.store(null).then(function () {\n\t\t\t\t\treturn _this3.root.clear();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tthis.root.edit();\n\n\t\t\t$.events(this.element, \"mouseenter.mavo:edit mouseleave.mavo:edit\", function (evt) {\n\t\t\t\tif (evt.target.matches(\".mv-item-controls *\")) {\n\t\t\t\t\tvar itemControls = evt.target.closest(\".mv-item-controls\");\n\t\t\t\t\tvar item = Mavo.data(itemControls, \"item\");\n\n\t\t\t\t\tif (item && item.element) {\n\t\t\t\t\t\titem.element.classList.toggle(\"mv-highlight\", evt.type == \"mouseenter\");\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (evt.target.matches(_.selectors.multiple)) {\n\t\t\t\t\tevt.target.classList.remove(\"mv-has-hovered-item\");\n\n\t\t\t\t\tvar parent = evt.target.parentNode.closest(_.selectors.multiple);\n\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tparent.classList.toggle(\"mv-has-hovered-item\", evt.type == \"mouseenter\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t\tthis.setUnsavedChanges();\n\t\t},\n\n\t\t/**\n   * Set this mavo instance’s unsavedChanges flag.\n   * @param {Boolean} [value]\n   *        If true, just sets the flag to true, no traversal.\n   *        If false, sets the flag of the Mavo instance and every tree node to false\n   *        If not provided, traverses the tree and recalculates the flag value.\n   */\n\t\tsetUnsavedChanges: function setUnsavedChanges(value) {\n\t\t\tvar unsavedChanges = !!value;\n\n\t\t\tif (!value) {\n\t\t\t\tthis.walk(function (obj) {\n\t\t\t\t\tif (obj.unsavedChanges) {\n\t\t\t\t\t\tunsavedChanges = true;\n\n\t\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t\tobj.unsavedChanges = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.unsavedChanges = unsavedChanges;\n\t\t},\n\n\t\t// Conclude editing\n\t\tdone: function done() {\n\t\t\tthis.root.done();\n\t\t\t$.unbind(this.element, \".mavo:edit\");\n\t\t\tthis.unsavedChanges = false;\n\t\t},\n\n\t\t/**\n   * load - Fetch data from source and render it.\n   *\n   * @return {Promise}  A promise that resolves when the data is loaded.\n   */\n\t\tload: function load() {\n\t\t\tvar _this4 = this;\n\n\t\t\tthis.inProgress = \"Loading\";\n\n\t\t\tvar backend = this.source || this.storage;\n\n\t\t\treturn backend.ready.then(function () {\n\t\t\t\treturn backend.load();\n\t\t\t}).catch(function (err) {\n\t\t\t\t// Try again with init\n\t\t\t\tif (_this4.init && _this4.init != backend) {\n\t\t\t\t\tbackend = _this4.init;\n\t\t\t\t\treturn _this4.init.ready.then(function () {\n\t\t\t\t\t\treturn _this4.init.load();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// No init, propagate error\n\t\t\t\treturn Promise.reject(err);\n\t\t\t}).catch(function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tvar xhr = err instanceof XMLHttpRequest ? err : err.xhr;\n\n\t\t\t\t\tif (xhr && xhr.status == 404) {\n\t\t\t\t\t\t_this4.render(null);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar message = \"Problem loading data\";\n\n\t\t\t\t\t\tif (xhr) {\n\t\t\t\t\t\t\tmessage += xhr.status ? \": HTTP error \" + err.status + \": \" + err.statusText : \": Can’t connect to the Internet\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_this4.error(message, err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}).then(function (data) {\n\t\t\t\treturn _this4.render(data);\n\t\t\t}).then(function () {\n\t\t\t\t_this4.inProgress = false;\n\t\t\t\t$.fire(_this4.element, \"mavo:load\");\n\t\t\t});\n\t\t},\n\n\t\tstore: function store() {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (!this.storage) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.inProgress = \"Saving\";\n\n\t\t\treturn this.storage.login().then(function () {\n\t\t\t\treturn _this5.storage.store(_this5.getData());\n\t\t\t}).catch(function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tvar message = \"Problem saving data\";\n\n\t\t\t\t\tif (err instanceof XMLHttpRequest) {\n\t\t\t\t\t\tmessage += xhr.status ? \": HTTP error \" + err.status + \": \" + err.statusText : \": Can’t connect to the Internet\";\n\t\t\t\t\t}\n\n\t\t\t\t\t_this5.error(message, err);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}).then(function (saved) {\n\t\t\t\t_this5.inProgress = false;\n\t\t\t\treturn saved;\n\t\t\t});\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tvar _this6 = this;\n\n\t\t\treturn this.store().then(function (saved) {\n\t\t\t\tif (saved) {\n\t\t\t\t\t$.fire(_this6.element, \"mavo:save\", saved);\n\n\t\t\t\t\t_this6.lastSaved = Date.now();\n\t\t\t\t\t_this6.root.save();\n\t\t\t\t\t_this6.unsavedChanges = false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\twalk: function walk(callback) {\n\t\t\treturn this.root.walk(callback);\n\t\t},\n\n\t\t/**\n   * Executes a test on every node. If ANY node passes (test returns true),\n   * the function returns true. Otherwise, it returns false.\n   * Similar semantics to Array.prototype.some().\n   */\n\t\tsome: function some(test) {\n\t\t\treturn !this.walk(function (obj, path) {\n\t\t\t\tvar ret = test(obj, path);\n\n\t\t\t\tif (ret === true) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlive: {\n\t\t\tinProgress: function inProgress(value) {\n\t\t\t\t$.toggleAttribute(this.element, \"mv-progress\", value, value);\n\t\t\t},\n\n\t\t\tunsavedChanges: function unsavedChanges(value) {\n\t\t\t\tthis.element.classList.toggle(\"mv-unsaved-changes\", value);\n\t\t\t},\n\n\t\t\tneedsEdit: function needsEdit(value) {\n\t\t\t\t$.remove(this.ui.edit);\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tall: [],\n\n\t\t\tallIds: [],\n\n\t\t\tget: function get(id) {\n\t\t\t\tvar _iteratorNormalCompletion5 = true;\n\t\t\t\tvar _didIteratorError5 = false;\n\t\t\t\tvar _iteratorError5 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator5 = _.all[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t\t\t\t\t\tvar mavo = _step5.value;\n\n\t\t\t\t\t\tif (mavo.id === id) {\n\t\t\t\t\t\t\treturn mavo;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError5 = true;\n\t\t\t\t\t_iteratorError5 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion5 && _iterator5.return) {\n\t\t\t\t\t\t\t_iterator5.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError5) {\n\t\t\t\t\t\t\tthrow _iteratorError5;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\tsuperKey: navigator.platform.indexOf(\"Mac\") === 0 ? \"metaKey\" : \"ctrlKey\",\n\n\t\t\tinit: function init(container) {\n\t\t\t\treturn $$(_.selectors.init, container || document).filter(function (element) {\n\t\t\t\t\treturn element == document.documentElement || !element.parentNode.closest(_.selectors.init);\n\t\t\t\t}).map(function (element) {\n\t\t\t\t\treturn new _(element);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tplugin: function plugin(o) {\n\t\t\t\t_.hooks.add(o.hooks);\n\n\t\t\t\tfor (var Class in o.extend) {\n\t\t\t\t\tvar def = Class == \"Mavo\" ? _ : _[Class];\n\t\t\t\t\t$.Class(def, o.extend[Class]);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\thooks: new $.Hooks(),\n\n\t\t\tattributes: [\"mv-app\", \"mv-storage\", \"mv-source\", \"mv-init\", \"mv-path\", \"mv-format\", \"mv-attribute\", \"mv-default\", \"mv-mode\", \"mv-edit\", \"mv-permisssions\"]\n\t\t}\n\t});\n\n\t{\n\n\t\tvar s = _.selectors = {\n\t\t\tinit: \".mv-app, [mv-app], [data-mv-app], [mv-storage], [data-mv-storage]\",\n\t\t\tproperty: \"[property], [itemprop]\",\n\t\t\tspecificProperty: function specificProperty(name) {\n\t\t\t\treturn \"[property=\" + name + \"], [itemprop=\" + name + \"]\";\n\t\t\t},\n\t\t\tgroup: \"[typeof], [itemscope], [itemtype], [mv-group]\",\n\t\t\tmultiple: \"[mv-multiple]\",\n\t\t\tformControl: \"input, select, option, textarea\",\n\t\t\tui: \".mv-ui\",\n\t\t\tcontainer: {\n\t\t\t\t// \"li\": \"ul, ol\",\n\t\t\t\t\"tr\": \"table\",\n\t\t\t\t\"option\": \"select\"\n\t\t\t}\n\t\t};\n\n\t\tvar arr = s.arr = function (selector) {\n\t\t\treturn selector.split(/\\s*,\\s*/g);\n\t\t};\n\t\tvar not = s.not = function (selector) {\n\t\t\treturn arr(selector).map(function (s) {\n\t\t\t\treturn \":not(\" + s + \")\";\n\t\t\t}).join(\"\");\n\t\t};\n\t\tvar or = s.or = function (selector1, selector2) {\n\t\t\treturn selector1 + \", \" + selector2;\n\t\t};\n\t\tvar and = s.and = function (selector1, selector2) {\n\t\t\tvar ret = [],\n\t\t\t    arr2 = arr(selector2);\n\n\t\t\tarr(selector1).forEach(function (s1) {\n\t\t\t\treturn ret.push.apply(ret, _toConsumableArray(arr2.map(function (s2) {\n\t\t\t\t\treturn s1 + s2;\n\t\t\t\t})));\n\t\t\t});\n\n\t\t\treturn ret.join(\", \");\n\t\t};\n\t\tvar andNot = s.andNot = function (selector1, selector2) {\n\t\t\treturn and(selector1, not(selector2));\n\t\t};\n\n\t\t$.extend(_.selectors, {\n\t\t\tprimitive: andNot(s.property, s.group),\n\t\t\trootGroup: andNot(s.group, s.property),\n\t\t\toutput: or(s.specificProperty(\"output\"), \".mv-output, .mv-value\")\n\t\t});\n\t}\n\n\t// Init mavo\n\tPromise.all([$.ready(), $.include(Array.from && window.Intl && document.documentElement.closest, \"https://cdn.polyfill.io/v2/polyfill.min.js?features=blissfuljs,Intl.~locale.en\")]).catch(function (err) {\n\t\treturn console.error(err);\n\t}).then(function () {\n\t\treturn Mavo.init();\n\t});\n\n\tStretchy.selectors.filter = \".mv-editor:not([property])\";\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = $.extend(Mavo, {\n\t\ttoJSON: function toJSON(data) {\n\t\t\tif (data === null) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\tif (typeof data === \"string\") {\n\t\t\t\t// Do not stringify twice!\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\treturn JSON.stringify(data, null, \"\\t\");\n\t\t},\n\n\t\tqueryJSON: function queryJSON(data, path) {\n\t\t\tif (!path || !data) {\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\treturn $.value.apply($, [data].concat(path.split(\"/\")));\n\t\t},\n\n\t\t// If the passed value is not an array, convert to an array\n\t\ttoArray: function toArray(arr) {\n\t\t\treturn arr === undefined ? [] : Array.isArray(arr) ? arr : [arr];\n\t\t},\n\n\t\tdelete: function _delete(arr, element) {\n\t\t\tvar index = arr && arr.indexOf(element);\n\n\t\t\tif (index > -1) {\n\t\t\t\tarr.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\thasIntersection: function hasIntersection(arr1, arr2) {\n\t\t\treturn arr1 && arr2 && !arr1.every(function (el) {\n\t\t\t\treturn arr2.indexOf(el) == -1;\n\t\t\t});\n\t\t},\n\n\t\t// Recursively flatten a multi-dimensional array\n\t\tflatten: function flatten(arr) {\n\t\t\tif (!Array.isArray(arr)) {\n\t\t\t\treturn [arr];\n\t\t\t}\n\n\t\t\treturn arr.reduce(function (prev, c) {\n\t\t\t\treturn _.toArray(prev).concat(_.flatten(c));\n\t\t\t}, []);\n\t\t},\n\n\t\tis: function is(thing) {\n\t\t\tfor (var _len = arguments.length, elements = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\telements[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar element = _step.value;\n\n\t\t\t\t\tif (element && element.matches && element.matches(_.selectors[thing])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n   * Get the current value of a CSS property on an element\n   */\n\t\tgetStyle: function getStyle(element, property) {\n\t\t\treturn element && getComputedStyle(element).getPropertyValue(property).trim();\n\t\t},\n\n\t\t/**\n   * Get/set data on an element\n   */\n\t\tdata: function data(element, name, value) {\n\t\t\tif (arguments.length == 2) {\n\t\t\t\treturn $.value(element, \"_\", \"data\", \"mavo\", name);\n\t\t\t} else {\n\t\t\t\telement._.data.mavo = element._.data.mavo || {};\n\t\t\t\treturn element._.data.mavo[name] = value;\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Revocably add/remove elements from the DOM\n   */\n\t\trevocably: {\n\t\t\tadd: function add(element) {\n\t\t\t\tvar comment = _.revocably.isRemoved(element);\n\n\t\t\t\tif (comment) {\n\t\t\t\t\tcomment.parentNode.replaceChild(element, comment);\n\t\t\t\t}\n\n\t\t\t\treturn comment;\n\t\t\t},\n\n\t\t\tremove: function remove(element, commentText) {\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar comment = _.data(element, \"commentstub\");\n\n\t\t\t\tif (!comment) {\n\t\t\t\t\tcommentText = commentText || element.id || element.className || element.nodeName;\n\t\t\t\t\tcomment = _.data(element, \"commentstub\", document.createComment(commentText));\n\t\t\t\t}\n\n\t\t\t\tif (element.parentNode) {\n\t\t\t\t\t// In DOM, remove\n\t\t\t\t\telement.parentNode.replaceChild(comment, element);\n\t\t\t\t}\n\n\t\t\t\treturn comment;\n\t\t\t},\n\n\t\t\tisRemoved: function isRemoved(element) {\n\t\t\t\tif (!element || element.parentNode) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar comment = _.data(element, \"commentstub\");\n\n\t\t\t\tif (comment && comment.parentNode) {\n\t\t\t\t\treturn comment;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tinViewport: function inViewport(element) {\n\t\t\tvar r = element.getBoundingClientRect();\n\n\t\t\treturn (0 <= r.bottom && r.bottom <= innerHeight || 0 <= r.top && r.top <= innerHeight) && ( // vertical\n\t\t\t0 <= r.right && r.right <= innerWidth || 0 <= r.left && r.left <= innerWidth); // horizontal\n\t\t},\n\n\t\tscrollIntoViewIfNeeded: function scrollIntoViewIfNeeded(element) {\n\t\t\tif (!Mavo.inViewport(element)) {\n\t\t\t\telement.scrollIntoView({ behavior: \"smooth\" });\n\t\t\t}\n\t\t},\n\n\t\tpushUnique: function pushUnique(arr, item) {\n\t\t\tif (arr.indexOf(item) === -1) {\n\t\t\t\tarr.push(item);\n\t\t\t}\n\t\t},\n\n\t\tsubset: function subset(obj, path, value) {\n\t\t\tif (arguments.length == 3) {\n\t\t\t\t// Put\n\t\t\t\tif (path.length) {\n\t\t\t\t\tvar parent = $.value.apply($, [obj].concat(_toConsumableArray(path.slice(0, -1))));\n\t\t\t\t\tparent[path[path.length - 1]] = value;\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t} else {\n\t\t\t\t// Get\n\t\t\t\treturn (typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) == \"object\" && path && path.length ? $.value.apply($, [obj].concat(_toConsumableArray(path))) : obj;\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Get the value of an attribute, with fallback attributes in priority order.\n   */\n\t\tgetAttribute: function getAttribute(element) {\n\t\t\tfor (var _len2 = arguments.length, attributes = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t\t\t\tattributes[_key2 - 1] = arguments[_key2];\n\t\t\t}\n\n\t\t\tfor (var i = 0, attribute; attribute = attributes[i]; i++) {\n\t\t\t\tvar value = element.getAttribute(attribute);\n\n\t\t\t\tif (value) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t// Credit: https://remysharp.com/2010/07/21/throttling-function-calls\n\t\tdebounce: function debounce(fn, delay) {\n\t\t\tif (!delay) {\n\t\t\t\t// No throttling\n\t\t\t\treturn fn;\n\t\t\t}\n\n\t\t\tvar timer = null,\n\t\t\t    _code;\n\n\t\t\treturn function () {\n\t\t\t\tvar context = this,\n\t\t\t\t    args = arguments;\n\t\t\t\t_code = function code() {\n\t\t\t\t\tfn.apply(context, args);\n\t\t\t\t\tremoveEventListener(\"beforeunload\", _code);\n\t\t\t\t};\n\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(_code, delay);\n\t\t\t\taddEventListener(\"beforeunload\", _code);\n\t\t\t};\n\t\t},\n\n\t\tescapeRegExp: function escapeRegExp(s) {\n\t\t\treturn s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n\t\t},\n\n\t\tObserver: $.Class({\n\t\t\tconstructor: function constructor(element, attribute, callback) {\n\t\t\t\tvar o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n\t\t\t\tif (callback instanceof MutationObserver) {\n\t\t\t\t\tthis.observer = callback;\n\t\t\t\t}\n\n\t\t\t\tthis.observer = this.observer || new MutationObserver(callback);\n\t\t\t\tthis.element = element;\n\t\t\t\tthis.callback = callback;\n\t\t\t\tthis.attribute = attribute;\n\n\t\t\t\tthis.options = $.extend({}, o);\n\n\t\t\t\tif (attribute) {\n\t\t\t\t\t$.extend(this.options, {\n\t\t\t\t\t\tattributes: true,\n\t\t\t\t\t\tattributeFilter: this.attribute == \"all\" ? undefined : [this.attribute],\n\t\t\t\t\t\tattributeOldValue: !!o.oldValue\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!this.attribute || this.attribute == \"all\") {\n\t\t\t\t\t$.extend(this.options, {\n\t\t\t\t\t\tcharacterData: true,\n\t\t\t\t\t\tchildList: true,\n\t\t\t\t\t\tsubtree: true,\n\t\t\t\t\t\tcharacterDataOldValue: !!o.oldValue\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.run();\n\t\t\t},\n\n\t\t\tstop: function stop() {\n\t\t\t\tthis.observer.disconnect();\n\t\t\t\tthis.running = false;\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\trun: function run() {\n\t\t\t\tif (this.observer) {\n\t\t\t\t\tthis.observer.observe(this.element, this.options);\n\t\t\t\t\tthis.running = true;\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n    * Disconnect an observer, run some code, then observe again\n    */\n\t\t\tsneak: function sneak(callback) {\n\t\t\t\tif (this.running) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t\tvar ret = callback();\n\t\t\t\t\tthis.run();\n\t\t\t\t} else {\n\t\t\t\t\tvar ret = callback();\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\tdestroy: function destroy() {\n\t\t\t\tthis.observer.disconnect();\n\t\t\t\tthis.observer = this.element = null;\n\t\t\t},\n\n\t\t\tstatic: {\n\t\t\t\tsneak: function sneak(observer, callback) {\n\t\t\t\t\treturn observer ? observer.sneak(callback) : callback();\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\n\t\tdefer: function defer(constructor) {\n\t\t\tvar res, rej;\n\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\t\t\t\tif (constructor) {\n\t\t\t\t\tconstructor(resolve, reject);\n\t\t\t\t}\n\n\t\t\t\tres = resolve;\n\t\t\t\trej = reject;\n\t\t\t});\n\n\t\t\tpromise.resolve = function (a) {\n\t\t\t\tres(a);\n\t\t\t\treturn promise;\n\t\t\t};\n\n\t\t\tpromise.reject = function (a) {\n\t\t\t\trej(a);\n\t\t\t\treturn promise;\n\t\t\t};\n\n\t\t\treturn promise;\n\t\t},\n\n\t\t/**\n   * Run & Return a function\n   */\n\t\trr: function rr(f) {\n\t\t\tf();\n\t\t\treturn f;\n\t\t}\n\t});\n\n\t// Bliss plugins\n\n\t$.add(\"toggleAttribute\", function (name, value) {\n\t\tvar test = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : value !== null;\n\n\t\tif (test) {\n\t\t\tthis.setAttribute(name, value);\n\t\t} else {\n\t\t\tthis.removeAttribute(name);\n\t\t}\n\t});\n\n\t// Provide shortcuts to long property chains\n\t$.proxy = $.classProps.proxy = $.overload(function (obj, property, proxy) {\n\t\tObject.defineProperty(obj, property, {\n\t\t\tget: function get() {\n\t\t\t\treturn this[proxy][property];\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tthis[proxy][property] = value;\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\n\t\treturn obj;\n\t});\n\n\t$.classProps.propagated = function (proto, names) {\n\t\tMavo.toArray(names).forEach(function (name) {\n\t\t\tvar existing = proto[name];\n\n\t\t\tproto[name] = function () {\n\t\t\t\tvar ret = existing && existing.apply(this, arguments);\n\n\t\t\t\tif (this.propagate && ret !== false) {\n\t\t\t\t\tthis.propagate(name);\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\t// :focus-within and :target-within shim\n\tfunction updateWithin(cl, element) {\n\t\tcl = \"mv-\" + cl + \"-within\";\n\t\t$$(\".\" + cl).forEach(function (el) {\n\t\t\treturn el.classList.remove(cl);\n\t\t});\n\n\t\twhile (element && element.classList) {\n\t\t\telement.classList.add(cl);\n\t\t\telement = element.parentNode;\n\t\t}\n\t};\n\n\tdocument.addEventListener(\"focus\", function (evt) {\n\t\tupdateWithin(\"focus\", evt.target);\n\t}, true);\n\n\tdocument.addEventListener(\"blur\", function (evt) {\n\t\tupdateWithin(\"focus\", null);\n\t}, true);\n\n\taddEventListener(\"hashchange\", function (evt) {\n\t\tupdateWithin(\"target\", $(location.hash));\n\t});\n\n\tdocument.documentElement.addEventListener(\"mavo:datachange\", function (evt) {\n\t\t// TODO debounce\n\t\tupdateWithin(\"target\", $(location.hash));\n\t});\n\n\tupdateWithin(\"focus\", document.activeElement !== document.body ? document.activeElement : null);\n})(Bliss, Bliss.$);\n\"use strict\";\n\n(function ($) {\n\n\tvar _ = Mavo.Permissions = $.Class({\n\t\tconstructor: function constructor(o) {\n\t\t\tthis.triggers = [];\n\n\t\t\tthis.set(o);\n\n\t\t\tthis.hooks = new $.Hooks();\n\t\t},\n\n\t\t// Set multiple permissions at once\n\t\tset: function set(o) {\n\t\t\tfor (var action in o) {\n\t\t\t\tthis[action] = o[action];\n\t\t\t}\n\t\t},\n\n\t\t// Set a bunch of permissions to true. Chainable.\n\t\ton: function on(actions) {\n\t\t\tvar _this = this;\n\n\t\t\tMavo.toArray(actions).forEach(function (action) {\n\t\t\t\treturn _this[action] = true;\n\t\t\t});\n\n\t\t\treturn this;\n\t\t},\n\n\t\t// Set a bunch of permissions to false. Chainable.\n\t\toff: function off(actions) {\n\t\t\tvar _this2 = this;\n\n\t\t\tactions = Array.isArray(actions) ? actions : [actions];\n\n\t\t\tactions.forEach(function (action) {\n\t\t\t\treturn _this2[action] = false;\n\t\t\t});\n\n\t\t\treturn this;\n\t\t},\n\n\t\t// Fired once at least one of the actions passed can be performed\n\t\t// Kind of like a Promise that can be resolved multiple times.\n\t\tcan: function can(actions, callback, cannot) {\n\t\t\tthis.observe(actions, true, callback);\n\n\t\t\tif (cannot) {\n\t\t\t\t// Fired once the action cannot be done anymore, even though it could be done before\n\t\t\t\tthis.cannot(actions, cannot);\n\t\t\t}\n\t\t},\n\n\t\t// Fired once NONE of the actions can be performed\n\t\tcannot: function cannot(actions, callback) {\n\t\t\tthis.observe(actions, false, callback);\n\t\t},\n\n\t\t// Like this.can(), but returns a promise\n\t\t// Useful for things that you want to do only once\n\t\twhen: function when(actions) {\n\t\t\tvar _this3 = this;\n\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t_this3.can(actions, resolve, reject);\n\t\t\t});\n\t\t},\n\n\t\t// Schedule a callback for when a set of permissions changes value\n\t\tobserve: function observe(actions, value, callback) {\n\t\t\tactions = Mavo.toArray(actions);\n\n\t\t\tif (this.is(actions, value)) {\n\t\t\t\t// Should be fired immediately\n\t\t\t\tcallback();\n\t\t\t}\n\n\t\t\t// For future transitions\n\t\t\tthis.triggers.push({ actions: actions, value: value, callback: callback, active: true });\n\t\t},\n\n\t\t// Compare a set of permissions with true or false\n\t\t// If comparing with true, we want at least one to be true, i.e. OR\n\t\t// If comparing with false, we want ALL to be false, i.e. NOR\n\t\tis: function is(actions, able) {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar or = actions.map(function (action) {\n\t\t\t\treturn !!_this4[action];\n\t\t\t}).reduce(function (prev, current) {\n\t\t\t\treturn prev || current;\n\t\t\t});\n\n\t\t\treturn able ? or : !or;\n\t\t},\n\n\t\t// Monitor all changes\n\t\tonchange: function onchange(callback) {\n\t\t\tthis.hooks.add(\"change\", callback);\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = _.actions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar action = _step.value;\n\n\t\t\t\t\tcallback.call(this, {\n\t\t\t\t\t\taction: action,\n\t\t\t\t\t\tvalue: this[action],\n\t\t\t\t\t\tpermissions: this\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// A single permission changed value\n\t\tchanged: function changed(action, value, from) {\n\t\t\tvar _this5 = this;\n\n\t\t\tfrom = !!from;\n\t\t\tvalue = !!value;\n\n\t\t\tif (value == from) {\n\t\t\t\t// Nothing changed\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// $.live() calls the setter before the actual property is set so we\n\t\t\t// need to set it manually, otherwise it still has its previous value\n\t\t\tthis[\"_\" + action] = value;\n\n\t\t\t// TODO add classes to element\n\t\t\tthis.triggers.forEach(function (trigger) {\n\t\t\t\tvar match = _this5.is(trigger.actions, trigger.value);\n\n\t\t\t\tif (trigger.active && trigger.actions.indexOf(action) > -1 && match) {\n\n\t\t\t\t\ttrigger.active = false;\n\t\t\t\t\ttrigger.callback();\n\t\t\t\t} else if (!match) {\n\t\t\t\t\t// This is so that triggers can only be executed in an actual transition\n\t\t\t\t\t// And that if there is a trigger for [a,b] it won't be executed twice\n\t\t\t\t\t// if a and b are set to true one after the other\n\t\t\t\t\ttrigger.active = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.hooks.run(\"change\", { action: action, value: value, permissions: this });\n\t\t},\n\n\t\tor: function or(permissions) {\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = _.actions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar action = _step2.value;\n\n\t\t\t\t\tthis[action] = this[action] || permissions[action];\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tstatic: {\n\t\t\tactions: [],\n\n\t\t\t// Register a new permission type\n\t\t\tregister: function register(action, setter) {\n\t\t\t\tif (Array.isArray(action)) {\n\t\t\t\t\taction.forEach(function (action) {\n\t\t\t\t\t\treturn _.register(action, setter);\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$.live(_.prototype, action, function (able, previous) {\n\t\t\t\t\tif (setter) {\n\t\t\t\t\t\tsetter.call(this, able, previous);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.changed(action, able, previous);\n\t\t\t\t});\n\n\t\t\t\t_.actions.push(action);\n\t\t\t}\n\t\t}\n\t});\n\n\t_.register([\"read\", \"save\"]);\n\n\t_.register(\"login\", function (can) {\n\t\tif (can && this.logout) {\n\t\t\tthis.logout = false;\n\t\t}\n\t});\n\n\t_.register(\"logout\", function (can) {\n\t\tif (can && this.login) {\n\t\t\tthis.login = false;\n\t\t}\n\t});\n\n\t_.register(\"edit\", function (can) {\n\t\tif (can) {\n\t\t\tthis.add = this.delete = true;\n\t\t}\n\t});\n\n\t_.register([\"add\", \"delete\"], function (can) {\n\t\tif (!can) {\n\t\t\tthis.edit = false;\n\t\t}\n\t});\n})(Bliss);\n\"use strict\";\n\n(function ($) {\n\n\t/**\n  * Base class for all backends\n  */\n\tvar _ = Mavo.Backend = $.Class({\n\t\tconstructor: function constructor(url) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tthis.raw = url;\n\t\t\tthis.url = new URL(this.raw, location);\n\t\t\tthis.mavo = o.mavo;\n\t\t\tthis.format = Mavo.Formats.create(o.format, this);\n\n\t\t\t// Permissions of this particular backend.\n\t\t\tthis.permissions = new Mavo.Permissions();\n\t\t},\n\n\t\tget: function get() {\n\t\t\treturn $.fetch(this.url.href).then(function (xhr) {\n\t\t\t\treturn Promise.resolve(xhr.responseText);\n\t\t\t}, function () {\n\t\t\t\treturn Promise.resolve(null);\n\t\t\t});\n\t\t},\n\n\t\tload: function load() {\n\t\t\tvar _this = this;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\treturn _this.get();\n\t\t\t}).then(function (response) {\n\t\t\t\tif (typeof response != \"string\") {\n\t\t\t\t\t// Backend did the parsing, we're done here\n\t\t\t\t\treturn response;\n\t\t\t\t}\n\n\t\t\t\tresponse = response.replace(/^\\ufeff/, \"\"); // Remove Unicode BOM\n\n\t\t\t\treturn _this.format.parse(response);\n\t\t\t});\n\t\t},\n\n\t\tstore: function store(data) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t\t    path = _ref.path,\n\t\t\t    _ref$format = _ref.format,\n\t\t\t    format = _ref$format === undefined ? this.format : _ref$format;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\tvar serialize = typeof data === \"string\" ? Promise.resolve(data) : format.stringify(data);\n\n\t\t\t\treturn serialize.then(function (serialized) {\n\t\t\t\t\treturn _this2.put(serialized, path).then(function () {\n\t\t\t\t\t\treturn { data: data, serialized: serialized };\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t// To be be overriden by subclasses\n\t\tready: Promise.resolve(),\n\t\tlogin: function login() {\n\t\t\treturn Promise.resolve();\n\t\t},\n\t\tlogout: function logout() {\n\t\t\treturn Promise.resolve();\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\treturn this.id + \" (\" + this.url + \")\";\n\t\t},\n\n\t\tstatic: {\n\t\t\t// Return the appropriate backend(s) for this url\n\t\t\tcreate: function create(url, o) {\n\t\t\t\tif (url) {\n\t\t\t\t\tvar Backend = _.types.filter(function (Backend) {\n\t\t\t\t\t\treturn Backend.test(url);\n\t\t\t\t\t})[0] || _.Remote;\n\n\t\t\t\t\treturn new Backend(url, o);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\ttypes: [],\n\n\t\t\tregister: function register(Class) {\n\t\t\t\t_[Class.prototype.id] = Class;\n\t\t\t\t_.types.push(Class);\n\t\t\t\treturn Class;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n  * Save in an HTML element\n  */\n\t_.register($.Class({\n\t\tid: \"Element\",\n\t\textends: _,\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on([\"read\", \"edit\", \"save\"]);\n\n\t\t\tthis.element = $(this.raw) || $.create(\"script\", {\n\t\t\t\ttype: \"application/json\",\n\t\t\t\tid: this.raw.slice(1),\n\t\t\t\tinside: document.body\n\t\t\t});\n\t\t},\n\n\t\tget: function get() {\n\t\t\treturn Promise.resolve(this.element.textContent);\n\t\t},\n\n\t\tput: function put(serialized) {\n\t\t\treturn Promise.resolve(this.element.textContent = serialized);\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(url) {\n\t\t\t\treturn url.indexOf(\"#\") === 0;\n\t\t\t}\n\t\t}\n\t}));\n\n\t// Load from a remote URL, no save\n\t_.register($.Class({\n\t\tid: \"Remote\",\n\t\textends: _,\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on(\"read\");\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(url) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}));\n\n\t// Save in localStorage\n\t_.register($.Class({\n\t\textends: _,\n\t\tid: \"Local\",\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on([\"read\", \"edit\", \"save\"]);\n\t\t\tthis.key = this.mavo.id;\n\t\t},\n\n\t\tget: function get() {\n\t\t\treturn Promise[this.key in localStorage ? \"resolve\" : \"reject\"](localStorage[this.key]);\n\t\t},\n\n\t\tput: function put(serialized) {\n\t\t\tif (!serialized) {\n\t\t\t\tdelete localStorage[this.key];\n\t\t\t} else {\n\t\t\t\tlocalStorage[this.key] = serialized;\n\t\t\t}\n\n\t\t\treturn Promise.resolve(serialized);\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(value) {\n\t\t\t\treturn value == \"local\";\n\t\t\t}\n\t\t}\n\t}));\n})(Bliss);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Formats = {};\n\n\tvar base = _.Base = $.Class({\n\t\tabstract: true,\n\t\tconstructor: function constructor(backend) {\n\t\t\tthis.backend = backend;\n\t\t},\n\t\tproxy: {\n\t\t\t\"mavo\": \"backend\"\n\t\t},\n\n\t\t// So that child classes can only override the static methods if they don't\n\t\t// need access to any instance variables.\n\t\tparse: function parse(content) {\n\t\t\treturn this.constructor.parse(content, this);\n\t\t},\n\t\tstringify: function stringify(data) {\n\t\t\treturn this.constructor.stringify(data, this);\n\t\t},\n\n\t\tstatic: {\n\t\t\tparse: function parse(serialized) {\n\t\t\t\treturn Promise.resolve(serialized);\n\t\t\t},\n\t\t\tstringify: function stringify(data) {\n\t\t\t\treturn Promise.resolve(data);\n\t\t\t},\n\t\t\textensions: [],\n\t\t\tdependencies: [],\n\t\t\tready: function ready() {\n\t\t\t\treturn Promise.all(this.dependencies.map(function (d) {\n\t\t\t\t\treturn $.include(d.test, d.url);\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t});\n\n\tvar json = _.JSON = $.Class({\n\t\textends: _.Base,\n\t\tstatic: {\n\t\t\tparse: function parse(serialized) {\n\t\t\t\treturn Promise.resolve(serialized ? JSON.parse(serialized) : null);\n\t\t\t},\n\t\t\tstringify: function stringify(data) {\n\t\t\t\treturn Promise.resolve(Mavo.toJSON(data));\n\t\t\t},\n\t\t\textensions: [\".json\", \".jsonld\"]\n\t\t}\n\t});\n\n\tvar text = _.Text = $.Class({\n\t\textends: _.Base,\n\t\tconstructor: function constructor(backend) {\n\t\t\tthis.property = this.mavo.root.getNames(\"Primitive\")[0];\n\t\t},\n\n\t\tstatic: {\n\t\t\textensions: [\".txt\", \".md\", \".markdown\"],\n\t\t\tparse: function parse(serialized, me) {\n\t\t\t\treturn Promise.resolve(_defineProperty({}, me ? me.property : \"content\", serialized));\n\t\t\t},\n\t\t\tstringify: function stringify(data, me) {\n\t\t\t\treturn Promise.resolve(data[me ? me.property : \"content\"]);\n\t\t\t}\n\t\t}\n\t});\n\n\tvar csv = _.CSV = $.Class({\n\t\textends: _.Base,\n\t\tconstructor: function constructor(backend) {\n\t\t\tthis.property = this.mavo.root.getNames(\"Collection\")[0];\n\t\t\tthis.options = $.extend({}, _.CSV.defaultOptions);\n\t\t},\n\n\t\tstatic: {\n\t\t\textensions: [\".csv\", \".tsv\"],\n\t\t\tdefaultOptions: {\n\t\t\t\theader: true,\n\t\t\t\tdynamicTyping: true,\n\t\t\t\tskipEmptyLines: true\n\t\t\t},\n\t\t\tdependencies: [{\n\t\t\t\ttest: self.Papa,\n\t\t\t\turl: \"https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.4/papaparse.min.js\"\n\t\t\t}],\n\t\t\tready: base.ready,\n\t\t\tparse: function parse(serialized, me) {\n\t\t\t\treturn csv.ready(function () {\n\t\t\t\t\tvar data = Papa.parse(serialized, csv.defaultOptions);\n\t\t\t\t\tvar property = me ? me.property : \"content\";\n\n\t\t\t\t\tif (me) {\n\t\t\t\t\t\t// Get delimiter & linebreak for serialization\n\t\t\t\t\t\tme.options.delimiter = data.meta.delimiter;\n\t\t\t\t\t\tme.options.linebreak = data.meta.linebreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.meta.aborted) {\n\t\t\t\t\t\tthrow data.meta.errors.pop();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn _defineProperty({}, property, data.data);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tstringify: function stringify(serialized, me) {\n\t\t\t\treturn csv.ready(function () {\n\t\t\t\t\tvar property = me ? me.property : \"content\";\n\t\t\t\t\tvar options = me ? me.options : csv.defaultOptions;\n\t\t\t\t\treturn Papa.unparse(data[property], options);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tObject.defineProperty(_, \"create\", {\n\t\tvalue: function value(format, backend) {\n\t\t\tif (format && (typeof format === \"undefined\" ? \"undefined\" : _typeof(format)) === \"object\") {\n\t\t\t\treturn format;\n\t\t\t}\n\n\t\t\tif (typeof format === \"string\") {\n\t\t\t\t// Search by id\n\t\t\t\tformat = format.toLowerCase();\n\n\t\t\t\tfor (var id in _) {\n\t\t\t\t\tvar Format = _[id];\n\n\t\t\t\t\tif (id.toLowerCase() == format) {\n\t\t\t\t\t\treturn new Format(backend);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!format) {\n\t\t\t\tvar url = backend.url ? backend.url.pathname : backend.raw;\n\t\t\t\tvar extension = (url.match(/\\.\\w+$/) || [])[0] || \".json\";\n\t\t\t\tvar Format = _.JSON;\n\n\t\t\t\tfor (var id in _) {\n\t\t\t\t\tif (_[id].extensions.indexOf(extension) > -1) {\n\t\t\t\t\t\t// Do not return match, as we may find another match later\n\t\t\t\t\t\t// and last match wins\n\t\t\t\t\t\tFormat = _[id];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new Format(backend);\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Node = $.Class({\n\t\tabstract: true,\n\t\tconstructor: function constructor(element, mavo) {\n\t\t\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\tif (!element || !mavo) {\n\t\t\t\tthrow new Error(\"Mavo.Node constructor requires an element argument and a mavo object\");\n\t\t\t}\n\n\t\t\tvar env = { context: this, options: options };\n\n\t\t\t// Set these first, for debug reasons\n\t\t\tthis.uid = ++_.maxId;\n\t\t\tthis.nodeType = this.nodeType;\n\t\t\tthis.property = null;\n\n\t\t\t$.extend(this, env.options);\n\n\t\t\t_.all.set(element, [].concat(_toConsumableArray(_.all.get(this.element) || []), [this]));\n\n\t\t\tthis.element = element;\n\t\t\tthis.template = env.options.template;\n\n\t\t\tif (this.template) {\n\t\t\t\t// TODO remove if this is deleted\n\t\t\t\tthis.template.copies.push(this);\n\t\t\t} else {\n\t\t\t\tthis.copies = [];\n\t\t\t}\n\n\t\t\tthis.mavo = mavo;\n\t\t\tthis.group = this.parentGroup = env.options.group;\n\n\t\t\tif (!this.fromTemplate(\"property\", \"type\")) {\n\t\t\t\tthis.property = _.getProperty(element);\n\t\t\t\tthis.type = Mavo.Group.normalize(element);\n\t\t\t\tthis.store = this.element.getAttribute(\"mv-storage\"); // TODO rename to storage\n\t\t\t}\n\n\t\t\tthis.modes = this.element.getAttribute(\"mv-mode\");\n\n\t\t\tMavo.hooks.run(\"node-init-start\", env);\n\n\t\t\tthis.mode = Mavo.getStyle(this.element, \"--mv-mode\") || \"read\";\n\n\t\t\tthis.collection = env.options.collection;\n\n\t\t\tif (this.collection) {\n\t\t\t\t// This is a collection item\n\t\t\t\tthis.group = this.parentGroup = this.collection.parentGroup;\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-init-end\", env);\n\t\t},\n\n\t\tget editing() {\n\t\t\treturn this.mode == \"edit\";\n\t\t},\n\n\t\tget isRoot() {\n\t\t\treturn !this.property;\n\t\t},\n\n\t\tget name() {\n\t\t\treturn Mavo.Functions.readable(this.property || this.type).toLowerCase();\n\t\t},\n\n\t\tget saved() {\n\t\t\treturn this.store !== \"none\";\n\t\t},\n\n\t\tget path() {\n\t\t\tvar path = this.parentGroup ? this.parentGroup.path : [];\n\n\t\t\treturn this.property ? [].concat(_toConsumableArray(path), [this.property]) : path;\n\t\t},\n\n\t\t/**\n   * Runs after the constructor is done (including the constructor of the inheriting class), synchronously\n   */\n\t\tpostInit: function postInit() {\n\t\t\tif (this.modes == \"edit\") {\n\t\t\t\tthis.edit();\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function destroy() {},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tif (this.isDataNull(o)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Check if any of the parent groups doesn't return data\n\t\t\t// this.walkUp(group => {\n\t\t\t// \tif (group.isDataNull(o)) {\n\t\t\t// \t\treturn null;\n\t\t\t// \t}\n\t\t\t// });\n\t\t},\n\n\t\tisDataNull: function isDataNull(o) {\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tresult: this.deleted || !this.saved && o.store != \"*\"\n\t\t\t};\n\n\t\t\tMavo.hooks.run(\"unit-isdatanull\", env);\n\n\t\t\treturn env.result;\n\t\t},\n\n\t\t/**\n   * Execute a callback on every node of the Mavo tree\n   * If callback returns (strict) false, walk stops.\n   * @return false if was stopped via a false return value, true otherwise\n   */\n\t\twalk: function walk(callback) {\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar walker = function walker(obj, path) {\n\t\t\t\tvar ret = callback(obj, path);\n\n\t\t\t\tif (ret !== false) {\n\t\t\t\t\tfor (var i in obj.children) {\n\t\t\t\t\t\tvar _node = obj.children[i];\n\n\t\t\t\t\t\tif (_node instanceof Mavo.Node) {\n\t\t\t\t\t\t\tvar ret = walker.call(_node, _node, [].concat(_toConsumableArray(path), [i]));\n\n\t\t\t\t\t\t\tif (ret === false) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn ret !== false;\n\t\t\t};\n\n\t\t\treturn walker(this, path);\n\t\t},\n\n\t\twalkUp: function walkUp(callback) {\n\t\t\tvar group = this;\n\n\t\t\twhile (group = group.parentGroup) {\n\t\t\t\tvar ret = callback(group);\n\n\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tthis.mode = \"edit\";\n\n\t\t\tif (this.mode != \"edit\") {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.propagate(\"edit\");\n\n\t\t\tMavo.hooks.run(\"node-edit-end\", this);\n\t\t},\n\n\t\tdone: function done() {\n\t\t\tthis.mode = Mavo.getStyle(this.element.parentNode, \"--mv-mode\") || \"read\";\n\n\t\t\tif (this.mode != \"read\") {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$.unbind(this.element, \".mavo:edit\");\n\n\t\t\tthis.propagate(\"done\");\n\n\t\t\tMavo.hooks.run(\"node-done-end\", this);\n\t\t},\n\n\t\tpropagate: function propagate(callback) {\n\t\t\tfor (var i in this.children) {\n\t\t\t\tvar _node2 = this.children[i];\n\n\t\t\t\tif (_node2 instanceof Mavo.Node) {\n\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\tcallback.call(_node2, _node2);\n\t\t\t\t\t} else if (callback in _node2) {\n\t\t\t\t\t\t_node2[callback]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpropagated: [\"save\", \"destroy\"],\n\n\t\ttoJSON: Mavo.prototype.toJSON,\n\n\t\tfromTemplate: function fromTemplate() {\n\t\t\tif (this.template) {\n\t\t\t\tfor (var _len = arguments.length, properties = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\tproperties[_key] = arguments[_key];\n\t\t\t\t}\n\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = properties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar property = _step.value;\n\n\t\t\t\t\t\tthis[property] = this.template[property];\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!this.template;\n\t\t},\n\n\t\trender: function render(data) {\n\t\t\tthis.data = data;\n\n\t\t\tdata = Mavo.subset(data, this.inPath);\n\n\t\t\tvar env = { context: this, data: data };\n\n\t\t\tMavo.hooks.run(\"node-render-start\", env);\n\n\t\t\tif (this.nodeType != \"Collection\" && Array.isArray(data)) {\n\t\t\t\t// We are rendering an array on a singleton, what to do?\n\t\t\t\tvar properties;\n\t\t\t\tif (this.isRoot && (properties = Object.keys(this.children)).length === 1 && this.children[properties[0]].nodeType === \"Collection\") {\n\t\t\t\t\t// If it's root with only one collection property, render on that property\n\t\t\t\t\tenv.data = _defineProperty({}, properties[0], env.data);\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, render first item\n\t\t\t\t\tthis.inPath.push(\"0\");\n\t\t\t\t\tenv.data = env.data[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.editing) {\n\t\t\t\tthis.done();\n\t\t\t\tthis.dataRender(env.data);\n\t\t\t\tthis.edit();\n\t\t\t} else {\n\t\t\t\tthis.dataRender(env.data);\n\t\t\t}\n\n\t\t\tthis.save();\n\n\t\t\tMavo.hooks.run(\"node-render-end\", env);\n\t\t},\n\n\t\tdataChanged: function dataChanged(action) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t$.fire(o.element || this.element, \"mavo:datachange\", $.extend({\n\t\t\t\tproperty: this.property,\n\t\t\t\taction: action,\n\t\t\t\tmavo: this.mavo,\n\t\t\t\tnode: this\n\t\t\t}, o));\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\treturn \"#\" + this.uid + \": \" + this.nodeType + \" (\" + this.property + \")\";\n\t\t},\n\n\t\tgetClosestCollection: function getClosestCollection() {\n\t\t\treturn this.collection || this.group.collection || (this.parentGroup ? this.parentGroup.closestCollection : null);\n\t\t},\n\n\t\t/**\n   * Check if this unit is either deleted or inside a deleted group\n   */\n\t\tisDeleted: function isDeleted() {\n\t\t\tvar ret = this.deleted;\n\n\t\t\tif (this.deleted) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn !!this.parentGroup && this.parentGroup.isDeleted();\n\t\t},\n\n\t\tlazy: {\n\t\t\tclosestCollection: function closestCollection() {\n\t\t\t\treturn this.getClosestCollection();\n\t\t\t},\n\n\t\t\t// Are were only rendering and editing a subset of the data?\n\t\t\tinPath: function inPath() {\n\t\t\t\tif (this.nodeType != \"Collection\") {\n\t\t\t\t\treturn (this.element.getAttribute(\"mv-path\") || \"\").split(\"/\").filter(function (p) {\n\t\t\t\t\t\treturn p.length;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\n\t\tlive: {\n\t\t\tstore: function store(value) {\n\t\t\t\t$.toggleAttribute(this.element, \"mv-storage\", value);\n\t\t\t},\n\n\t\t\tunsavedChanges: function unsavedChanges(value) {\n\t\t\t\tif (value && (!this.saved || !this.editing)) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\n\t\t\t\tthis.element.classList.toggle(\"mv-unsaved-changes\", value);\n\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tmode: function mode(value) {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tif (this._mode != value) {\n\t\t\t\t\t// Is it allowed?\n\t\t\t\t\tif (this.modes && value != this.modes) {\n\t\t\t\t\t\tvalue = this.modes;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we don't do this, setting the attribute below will\n\t\t\t\t\t// result in infinite recursion\n\t\t\t\t\tthis._mode = value;\n\n\t\t\t\t\tif (!(this instanceof Mavo.Collection) && [null, \"\", \"read\", \"edit\"].indexOf(this.element.getAttribute(\"mv-mode\")) > -1) {\n\t\t\t\t\t\t// If attribute is not one of the recognized values, leave it alone\n\t\t\t\t\t\tvar set = this.modes || value == \"edit\";\n\t\t\t\t\t\tMavo.Observer.sneak(this.mavo.modeObserver, function () {\n\t\t\t\t\t\t\t$.toggleAttribute(_this.element, \"mv-mode\", value, set);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmodes: function modes(value) {\n\t\t\t\tif (value && value != \"read\" && value != \"edit\") {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tthis._modes = value;\n\n\t\t\t\tif (value && this.mode != value) {\n\t\t\t\t\tthis.mode = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdeleted: function deleted(value) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tthis.element.classList.toggle(\"mv-deleted\", value);\n\n\t\t\t\tif (value) {\n\t\t\t\t\t// Soft delete, store element contents in a fragment\n\t\t\t\t\t// and replace them with an undo prompt.\n\t\t\t\t\tthis.elementContents = document.createDocumentFragment();\n\t\t\t\t\t$$(this.element.childNodes).forEach(function (node) {\n\t\t\t\t\t\t_this2.elementContents.appendChild(node);\n\t\t\t\t\t});\n\n\t\t\t\t\t$.contents(this.element, [{\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\tclassName: \"mv-close mv-ui\",\n\t\t\t\t\t\ttextContent: \"×\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\t\t$.remove(this.parentNode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, \"Deleted \" + this.name, {\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\tclassName: \"mv-undo mv-ui\",\n\t\t\t\t\t\ttextContent: \"Undo\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\t\treturn _this2.deleted = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]);\n\n\t\t\t\t\tthis.element.classList.remove(\"mv-highlight\");\n\t\t\t\t} else if (this.deleted) {\n\t\t\t\t\t// Undelete\n\t\t\t\t\tthis.element.textContent = \"\";\n\t\t\t\t\tthis.element.appendChild(this.elementContents);\n\n\t\t\t\t\t// otherwise expressions won't update because this will still seem as deleted\n\t\t\t\t\t// Alternatively, we could fire datachange with a timeout.\n\t\t\t\t\tthis._deleted = false;\n\n\t\t\t\t\tthis.dataChanged(\"undelete\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tmaxId: 0,\n\n\t\t\tall: new WeakMap(),\n\n\t\t\tcreate: function create(element, mavo) {\n\t\t\t\tvar o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\t\tif (Mavo.is(\"multiple\", element) && !o.collection) {\n\t\t\t\t\treturn new Mavo.Collection(element, mavo, o);\n\t\t\t\t}\n\n\t\t\t\treturn new Mavo[Mavo.is(\"group\", element) ? \"Group\" : \"Primitive\"](element, mavo, o);\n\t\t\t},\n\n\t\t\t/**\n    * Get & normalize property name, if exists\n    */\n\t\t\tgetProperty: function getProperty(element) {\n\t\t\t\tvar property = element.getAttribute(\"property\") || element.getAttribute(\"itemprop\");\n\n\t\t\t\tif (!property && element.hasAttribute(\"property\")) {\n\t\t\t\t\tproperty = element.name || element.id || element.classList[0];\n\t\t\t\t}\n\n\t\t\t\tif (property) {\n\t\t\t\t\telement.setAttribute(\"property\", property);\n\t\t\t\t}\n\n\t\t\t\treturn property;\n\t\t\t},\n\n\t\t\tget: function get(element, prioritizePrimitive) {\n\t\t\t\tvar nodes = (_.all.get(element) || []).filter(function (node) {\n\t\t\t\t\treturn !(node instanceof Mavo.Collection);\n\t\t\t\t});\n\n\t\t\t\tif (nodes.length < 2 || !prioritizePrimitive) {\n\t\t\t\t\treturn nodes[0];\n\t\t\t\t}\n\n\t\t\t\tif (nodes[0] instanceof Mavo.Group) {\n\t\t\t\t\treturn node[1];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    * Get all properties that are inside an element but not nested into other properties\n    */\n\t\t\tchildren: function children(element) {\n\t\t\t\tvar ret = Mavo.Node.get(element);\n\n\t\t\t\tif (ret) {\n\t\t\t\t\t// element is a Mavo node\n\t\t\t\t\treturn [ret];\n\t\t\t\t}\n\n\t\t\t\tret = $$(Mavo.selectors.property, element).map(function (e) {\n\t\t\t\t\treturn Mavo.Node.get(e);\n\t\t\t\t}).filter(function (e) {\n\t\t\t\t\treturn !element.contains(e.parentGroup.element);\n\t\t\t\t}) // drop nested properties\n\t\t\t\t.map(function (e) {\n\t\t\t\t\treturn e.collection || e;\n\t\t\t\t});\n\n\t\t\t\treturn Mavo.Functions.unique(ret);\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Group = $.Class({\n\t\textends: Mavo.Node,\n\t\tnodeType: \"Group\",\n\t\tconstructor: function constructor(element, mavo, o) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.children = {};\n\n\t\t\tthis.group = this;\n\n\t\t\tMavo.hooks.run(\"group-init-start\", this);\n\n\t\t\t// Should this element also create a primitive?\n\t\t\tif (Mavo.Primitive.getValueAttribute(this.element)) {\n\t\t\t\tvar obj = this.children[this.property] = new Mavo.Primitive(this.element, this.mavo, { group: this });\n\t\t\t}\n\n\t\t\t// Create Mavo objects for all properties in this group (primitives orgroups),\n\t\t\t// but not properties in descendantgroups (they will be handled by their group)\n\t\t\t$$(Mavo.selectors.property, this.element).forEach(function (element) {\n\t\t\t\tvar property = Mavo.Node.getProperty(element);\n\n\t\t\t\tif (_this.contains(element)) {\n\t\t\t\t\tvar existing = _this.children[property];\n\t\t\t\t\tvar template = _this.template ? _this.template.children[property] : null;\n\t\t\t\t\tvar constructorOptions = { template: template, group: _this };\n\n\t\t\t\t\tif (existing) {\n\t\t\t\t\t\t// Twogroups with the same property, convert to static collection\n\t\t\t\t\t\tvar collection = existing;\n\n\t\t\t\t\t\tif (!(existing instanceof Mavo.Collection)) {\n\t\t\t\t\t\t\tcollection = new Mavo.Collection(existing.element, _this.mavo, constructorOptions);\n\t\t\t\t\t\t\t_this.children[property] = existing.collection = collection;\n\t\t\t\t\t\t\tcollection.add(existing);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!collection.mutable && Mavo.is(\"multiple\", element)) {\n\t\t\t\t\t\t\tcollection.mutable = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcollection.add(element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No existing properties with this id, normal case\n\t\t\t\t\t\tvar obj = Mavo.Node.create(element, _this.mavo, constructorOptions);\n\n\t\t\t\t\t\t_this.children[property] = obj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar vocabElement = (this.isRoot ? this.element.closest(\"[vocab]\") : null) || this.element;\n\t\t\tthis.vocab = vocabElement.getAttribute(\"vocab\");\n\n\t\t\tthis.postInit();\n\n\t\t\tMavo.hooks.run(\"group-init-end\", this);\n\t\t},\n\n\t\tget isRoot() {\n\t\t\treturn !this.property;\n\t\t},\n\n\t\tgetNames: function getNames() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"Node\";\n\n\t\t\treturn Object.keys(this.children).filter(function (p) {\n\t\t\t\treturn _this2.children[p] instanceof Mavo[type];\n\t\t\t});\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tdata: this.super.getData.call(this, o)\n\t\t\t};\n\n\t\t\tif (env.data !== undefined) {\n\t\t\t\treturn env.data;\n\t\t\t}\n\n\t\t\tenv.data = {};\n\n\t\t\tthis.propagate(function (obj) {\n\t\t\t\tif ((obj.saved || o.store == \"*\") && !(obj.property in env.data)) {\n\t\t\t\t\tvar data = obj.getData(o);\n\n\t\t\t\t\tif (data !== null || env.options.null) {\n\t\t\t\t\t\tenv.data[obj.property] = data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t$.extend(env.data, this.unhandled);\n\n\t\t\t// JSON-LD stuff\n\t\t\tif (this.type && this.type != _.DEFAULT_TYPE) {\n\t\t\t\tenv.data[\"@type\"] = this.type;\n\t\t\t}\n\n\t\t\tif (this.vocab) {\n\t\t\t\tenv.data[\"@context\"] = this.vocab;\n\t\t\t}\n\n\t\t\t// Special summary property works like toString\n\t\t\tif (env.data.summary) {\n\t\t\t\tenv.data.toString = function () {\n\t\t\t\t\treturn this.summary;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (o.store != \"*\" && this.inPath.length) {\n\t\t\t\t// we don't want this in expressions\n\t\t\t\tenv.data = Mavo.subset(this.data, this.inPath, env.data);\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-getdata-end\", env);\n\n\t\t\treturn env.data;\n\t\t},\n\n\t\t/**\n   * Search entire subtree for property, return relative value\n   * @return {Mavo.Node}\n   */\n\t\tfind: function find(property) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tif (this.property == property) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (property in this.children) {\n\t\t\t\treturn this.children[property].find(property, o);\n\t\t\t}\n\n\t\t\tvar all = [];\n\n\t\t\tfor (var prop in this.children) {\n\t\t\t\tvar ret = this.children[prop].find(property, o);\n\n\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\tif (Array.isArray(ret)) {\n\t\t\t\t\t\tall.push.apply(all, _toConsumableArray(ret));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (all.length) {\n\t\t\t\treturn all;\n\t\t\t}\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tthis.unsavedChanges = false;\n\t\t},\n\n\t\tpropagated: [\"save\", \"import\", \"clear\"],\n\n\t\t// Do not call directly, call this.render() instead\n\t\tdataRender: function dataRender(data) {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (!data) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// TODO what if it was a primitive and now it's a group?\n\t\t\t// In that case, render the this.children[this.property] with it\n\n\t\t\tvar oldUnhandled = this.unhandled;\n\t\t\tthis.unhandled = $.extend({}, data, function (property) {\n\t\t\t\treturn !(property in _this3.children);\n\t\t\t});\n\n\t\t\tthis.propagate(function (obj) {\n\t\t\t\tobj.render(data[obj.property]);\n\t\t\t});\n\n\t\t\tfor (var property in this.unhandled) {\n\t\t\t\tvar value = this.unhandled[property];\n\n\t\t\t\tif ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\" && (!oldUnhandled || oldUnhandled[property] != value)) {\n\t\t\t\t\tthis.dataChanged(\"propertychange\", { property: property });\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Check if this group contains a property\n\t\tcontains: function contains(property) {\n\t\t\tif (property instanceof Mavo.Node) {\n\t\t\t\treturn property.parentGroup === this;\n\t\t\t}\n\n\t\t\treturn property.parentNode && this.element === property.parentNode.closest(Mavo.selectors.group);\n\t\t},\n\n\t\tstatic: {\n\t\t\tall: new WeakMap(),\n\n\t\t\tDEFAULT_TYPE: \"Item\",\n\n\t\t\tnormalize: function normalize(element) {\n\t\t\t\t// Get & normalize typeof name, if exists\n\t\t\t\tif (Mavo.is(\"group\", element)) {\n\t\t\t\t\tvar type = Mavo.getAttribute(element, \"typeof\", \"itemtype\") || _.DEFAULT_TYPE;\n\n\t\t\t\t\telement.setAttribute(\"typeof\", type);\n\n\t\t\t\t\treturn type;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Primitive = $.Class({\n\t\textends: Mavo.Node,\n\t\tnodeType: \"Primitive\",\n\t\tconstructor: function constructor(element, mavo, o) {\n\t\t\tvar _this = this;\n\n\t\t\tif (!this.fromTemplate(\"config\", \"attribute\", \"templateValue\")) {\n\t\t\t\tthis.config = _.getConfig(element);\n\n\t\t\t\t// Which attribute holds the data, if any?\n\t\t\t\t// \"null\" or null for none (i.e. data is in content).\n\t\t\t\tthis.attribute = this.config.attribute;\n\t\t\t}\n\n\t\t\tthis.datatype = this.config.datatype;\n\n\t\t\tif (\"modes\" in this.config) {\n\t\t\t\t// If modes are related to element type, this overrides everything\n\t\t\t\t// because it means the other mode makes no sense for that element\n\t\t\t\tthis.modes = this.config.modes;\n\t\t\t\tthis.element.setAttribute(\"mv-mode\", this.config.modes);\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"primitive-init-start\", this);\n\n\t\t\tif (this.config.init) {\n\t\t\t\tthis.config.init.call(this, this.element);\n\t\t\t}\n\n\t\t\tif (this.config.changeEvents) {\n\t\t\t\t$.events(this.element, this.config.changeEvents, function (evt) {\n\t\t\t\t\tif (evt.target === _this.element) {\n\t\t\t\t\t\t_this.value = _this.getValue();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n    * Set up input widget\n    */\n\n\t\t\t// Nested widgets\n\t\t\tif (!this.editor && !this.attribute) {\n\t\t\t\tthis.editor = $$(this.element.children).filter(function (el) {\n\t\t\t\t\treturn el.matches(Mavo.selectors.formControl) && !el.matches(Mavo.selectors.property);\n\t\t\t\t})[0];\n\n\t\t\t\tif (this.editor) {\n\t\t\t\t\tthis.element.textContent = this.editorValue;\n\t\t\t\t\t$.remove(this.editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Linked widgets\n\t\t\tif (!this.editor && this.element.hasAttribute(\"mv-edit\")) {\n\t\t\t\tvar original = $(this.element.getAttribute(\"mv-edit\"));\n\n\t\t\t\tif (original && Mavo.is(\"formControl\", original)) {\n\t\t\t\t\tthis.editor = original.cloneNode(true);\n\n\t\t\t\t\t// Update editor if original mutates\n\t\t\t\t\tif (!this.template) {\n\t\t\t\t\t\tnew Mavo.Observer(original, \"all\", function (records) {\n\t\t\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tfor (var _iterator = _this.copies[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\t\t\tvar primitive = _step.value;\n\n\t\t\t\t\t\t\t\t\tprimitive.editor = original.cloneNode(true);\n\t\t\t\t\t\t\t\t\tprimitive.setValue(primitive.value, { force: true, silent: true });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.templateValue = this.getValue();\n\n\t\t\tthis._default = this.element.getAttribute(\"mv-default\");\n\n\t\t\tif (this.default === null) {\n\t\t\t\t// no mv-default\n\t\t\t\tthis._default = this.modes === \"read\" ? this.templateValue : this.editor ? this.editorValue : undefined;\n\t\t\t} else if (this.default === \"\") {\n\t\t\t\t// mv-default exists, no value, default is template value\n\t\t\t\tthis._default = this.templateValue;\n\t\t\t} else {\n\t\t\t\t// mv-default with value\n\t\t\t\tthis.defaultObserver = new Mavo.Observer(this.element, \"mv-default\", function (record) {\n\t\t\t\t\t_this.default = _this.element.getAttribute(\"mv-default\");\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.initialValue = (!this.template && this.default === undefined ? this.templateValue : this.default) || this.emptyValue;\n\n\t\t\tthis.setValue(this.initialValue, { silent: true });\n\n\t\t\t// Observe future mutations to this property, if possible\n\t\t\t// Properties like input.checked or input.value cannot be observed that way\n\t\t\t// so we cannot depend on mutation observers for everything :(\n\t\t\tthis.observer = new Mavo.Observer(this.element, this.attribute, function (records) {\n\t\t\t\tif (_this.attribute || !_this.editing) {\n\t\t\t\t\t_this.value = _this.getValue();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.postInit();\n\n\t\t\tMavo.hooks.run(\"primitive-init-end\", this);\n\t\t},\n\n\t\tget editorValue() {\n\t\t\tif (this.config.getEditorValue) {\n\t\t\t\treturn this.config.getEditorValue.call(this);\n\t\t\t}\n\n\t\t\tif (this.editor) {\n\t\t\t\tif (this.editor.matches(Mavo.selectors.formControl)) {\n\t\t\t\t\treturn _.getValue(this.editor, { datatype: this.datatype });\n\t\t\t\t}\n\n\t\t\t\t// if we're here, this.editor is an entire HTML structure\n\t\t\t\tvar output = $(Mavo.selectors.output + \", \" + Mavo.selectors.formControl, this.editor);\n\n\t\t\t\tif (output) {\n\t\t\t\t\treturn _.getValue(output);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tset editorValue(value) {\n\t\t\tif (this.config.setEditorValue) {\n\t\t\t\treturn this.config.setEditorValue.call(this, value);\n\t\t\t}\n\n\t\t\tif (this.editor) {\n\t\t\t\tif (this.editor.matches(Mavo.selectors.formControl)) {\n\t\t\t\t\t_.setValue(this.editor, value, { config: this.editorDefaults });\n\t\t\t\t} else {\n\t\t\t\t\t// if we're here, this.editor is an entire HTML structure\n\t\t\t\t\tvar output = $(Mavo.selectors.output + \", \" + Mavo.selectors.formControl, this.editor);\n\n\t\t\t\t\tif (output) {\n\t\t\t\t\t\t_.setValue(output, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\tthis.super.destroy.call(this);\n\n\t\t\tthis.defaultObserver && this.defaultObserver.destroy();\n\t\t\tthis.observer && this.observer.destroy();\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tdata: this.super.getData.call(this, o)\n\t\t\t};\n\n\t\t\tif (env.data !== undefined) {\n\t\t\t\treturn env.data;\n\t\t\t}\n\n\t\t\tenv.data = this.value;\n\n\t\t\tif (env.data === \"\") {\n\t\t\t\tenv.data = null;\n\t\t\t}\n\n\t\t\tif (o.store != \"*\" && this.inPath.length) {\n\t\t\t\t// we don't want this in expressions\n\t\t\t\tenv.data = Mavo.subset(this.data, this.inPath, env.data);\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-getdata-end\", env);\n\n\t\t\treturn env.data;\n\t\t},\n\n\t\tsneak: function sneak(callback) {\n\t\t\treturn Mavo.Observer.sneak(this.observer, callback);\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tthis.savedValue = this.value;\n\t\t\tthis.unsavedChanges = false;\n\t\t},\n\n\t\t// Called only the first time this primitive is edited\n\t\tinitEdit: function initEdit() {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (!this.editor) {\n\t\t\t\t// No editor provided, use default for element type\n\t\t\t\t// Find default editor for datatype\n\t\t\t\tvar editor = this.config.editor || Mavo.Elements.defaultEditors[this.datatype] || Mavo.Elements.defaultEditors.string;\n\n\t\t\t\tthis.editor = $.create($.type(editor) === \"function\" ? editor.call(this) : editor);\n\t\t\t\tthis.editorValue = this.value;\n\t\t\t}\n\n\t\t\t$.events(this.editor, {\n\t\t\t\t\"input change\": function inputChange(evt) {\n\t\t\t\t\t_this2.value = _this2.editorValue;\n\t\t\t\t},\n\t\t\t\t\"focus\": function focus(evt) {\n\t\t\t\t\t_this2.editor.select && _this2.editor.select();\n\t\t\t\t},\n\t\t\t\t\"mavo:datachange\": function mavoDatachange(evt) {\n\t\t\t\t\tif (evt.property === \"output\") {\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t$.fire(_this2.editor, \"input\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (\"placeholder\" in this.editor) {\n\t\t\t\tthis.editor.placeholder = \"(\" + this.label + \")\";\n\t\t\t}\n\n\t\t\t// Copy any data-input-* attributes from the element to the editor\n\t\t\tvar dataInput = /^mv-edit-/i;\n\t\t\t$$(this.element.attributes).forEach(function (attribute) {\n\t\t\t\tif (dataInput.test(attribute.name)) {\n\t\t\t\t\tthis.editor.setAttribute(attribute.name.replace(dataInput, \"\"), attribute.value);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tif (this.attribute || this.config.popup) {\n\t\t\t\tthis.popup = new _.Popup(this);\n\t\t\t}\n\n\t\t\tif (!this.popup) {\n\t\t\t\tthis.editor.classList.add(\"mv-editor\");\n\t\t\t}\n\n\t\t\tthis.initEdit = null;\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (this.super.edit.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Make element focusable, so it can actually receive focus\n\t\t\tthis.element._.data.prevTabindex = this.element.getAttribute(\"tabindex\");\n\t\t\tthis.element.tabIndex = 0;\n\n\t\t\t// Prevent default actions while editing\n\t\t\t// e.g. following links etc\n\t\t\tthis.element.addEventListener(\"click.mavo:edit\", function (evt) {\n\t\t\t\treturn evt.preventDefault();\n\t\t\t});\n\n\t\t\tthis.preEdit = Mavo.defer(function (resolve, reject) {\n\t\t\t\t// Empty properties should become editable immediately\n\t\t\t\t// otherwise they could be invisible!\n\t\t\t\tif (_this3.empty && !_this3.attribute) {\n\t\t\t\t\treturn resolve();\n\t\t\t\t}\n\n\t\t\t\tvar timer;\n\n\t\t\t\t$.events(_this3.element, {\n\t\t\t\t\t\"click.mavo:preedit\": resolve,\n\t\t\t\t\t\"focus.mavo:preedit\": resolve\n\t\t\t\t});\n\n\t\t\t\tif (!_this3.attribute) {\n\t\t\t\t\t// Hovering over the element for over 150ms will trigger edit\n\t\t\t\t\t$.events(_this3.element, {\n\t\t\t\t\t\t\"mouseenter.mavo:preedit\": function mouseenterMavoPreedit(e) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\ttimer = setTimeout(resolve, 150);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"mouseleave.mavo:preedit\": function mouseleaveMavoPreedit(e) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.config.edit) {\n\t\t\t\tthis.config.edit.call(this);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.preEdit.then(function () {\n\t\t\t\t// Actual edit\n\t\t\t\t$.unbind(_this3.element, \".mavo:preedit\");\n\n\t\t\t\tif (_this3.initEdit) {\n\t\t\t\t\t_this3.initEdit();\n\t\t\t\t}\n\n\t\t\t\tif (_this3.popup) {\n\t\t\t\t\t_this3.popup.show();\n\t\t\t\t}\n\n\t\t\t\tif (!_this3.attribute && !_this3.popup) {\n\t\t\t\t\tif (_this3.editor.parentNode != _this3.element) {\n\t\t\t\t\t\t_this3.editorValue = _this3.value;\n\t\t\t\t\t\t_this3.element.textContent = \"\";\n\n\t\t\t\t\t\t_this3.element.appendChild(_this3.editor);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}, // edit\n\n\t\tdone: function done() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this.super.done.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (\"preEdit\" in this) {\n\t\t\t\t$.unbind(this.element, \".mavo:preedit .mavo:edit\");\n\t\t\t}\n\n\t\t\tthis.sneak(function () {\n\t\t\t\tif (_this4.config.done) {\n\t\t\t\t\t_this4.config.done.call(_this4);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (_this4.popup) {\n\t\t\t\t\t_this4.popup.close();\n\t\t\t\t} else if (!_this4.attribute && _this4.editor) {\n\t\t\t\t\t$.remove(_this4.editor);\n\t\t\t\t\t_this4.element.textContent = _this4.editorValue;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Revert tabIndex\n\t\t\tif (this.element._.data.prevTabindex !== null) {\n\t\t\t\tthis.element.tabIndex = this.element._.data.prevTabindex;\n\t\t\t} else {\n\t\t\t\tthis.element.removeAttribute(\"tabindex\");\n\t\t\t}\n\t\t},\n\n\t\tclear: function clear() {\n\t\t\tif (this.modes != \"read\") {\n\t\t\t\tthis.value = this.emptyValue;\n\t\t\t}\n\t\t},\n\n\t\tdataRender: function dataRender(data) {\n\t\t\tif (data && (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) === \"object\") {\n\t\t\t\tif (Symbol.toPrimitive in data) {\n\t\t\t\t\tdata = data[Symbol.toPrimitive]();\n\t\t\t\t} else {\n\t\t\t\t\t// Candidate properties to get a value from\n\t\t\t\t\tvar _arr = [this.property, \"value\"].concat(_toConsumableArray(Object.keys(data)));\n\n\t\t\t\t\tfor (var _i = 0; _i < _arr.length; _i++) {\n\t\t\t\t\t\tvar property = _arr[_i];\n\t\t\t\t\t\tif (property in data) {\n\t\t\t\t\t\t\tdata = data[property];\n\t\t\t\t\t\t\tthis.inPath.push(property);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data === undefined) {\n\t\t\t\t// New property has been added to the schema and nobody has saved since\n\t\t\t\tthis.value = this.closestCollection ? this.default : this.templateValue;\n\t\t\t} else {\n\t\t\t\tthis.value = data;\n\t\t\t}\n\t\t},\n\n\t\tfind: function find(property) {\n\t\t\tif (this.property == property) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Get value from the DOM\n   */\n\t\tgetValue: function getValue(o) {\n\t\t\treturn _.getValue(this.element, {\n\t\t\t\tconfig: this.config,\n\t\t\t\tattribute: this.attribute,\n\t\t\t\tdatatype: this.datatype\n\t\t\t});\n\t\t},\n\n\t\tlazy: {\n\t\t\tlabel: function label() {\n\t\t\t\treturn Mavo.Functions.readable(this.property);\n\t\t\t},\n\n\t\t\temptyValue: function emptyValue() {\n\t\t\t\tswitch (this.datatype) {\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\teditorDefaults: function editorDefaults() {\n\t\t\t\treturn this.editor && _.getConfig(this.editor);\n\t\t\t}\n\t\t},\n\n\t\tsetValue: function setValue(value) {\n\t\t\tvar _this5 = this;\n\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tthis.sneak(function () {\n\t\t\t\tif ($.type(value) == \"object\" && \"value\" in value) {\n\t\t\t\t\tvar presentational = value.presentational;\n\t\t\t\t\tvalue = value.value;\n\t\t\t\t}\n\n\t\t\t\t// Convert nulls and undefineds to empty string\n\t\t\t\tvalue = value || value === 0 ? value : \"\";\n\n\t\t\t\t// If there's no datatype, adopt that of the value\n\t\t\t\tif (!_this5.datatype && (typeof value == \"number\" || typeof value == \"boolean\")) {\n\t\t\t\t\t_this5.datatype = typeof value === \"undefined\" ? \"undefined\" : _typeof(value);\n\t\t\t\t}\n\n\t\t\t\tvalue = _.safeCast(value, _this5.datatype);\n\n\t\t\t\tif (value == _this5._value && !o.force) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tif (_this5.editor && document.activeElement != _this5.editor) {\n\t\t\t\t\t_this5.editorValue = value;\n\t\t\t\t}\n\n\t\t\t\tif (_this5.config.humanReadable && _this5.attribute) {\n\t\t\t\t\tpresentational = _this5.config.humanReadable.call(_this5, value);\n\t\t\t\t}\n\n\t\t\t\tif (!_this5.editing || _this5.popup || !_this5.editor) {\n\t\t\t\t\tif (_this5.config.setValue) {\n\t\t\t\t\t\t_this5.config.setValue.call(_this5, _this5.element, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (_this5.editor && _this5.editor.matches(\"select\") && _this5.editor.selectedOptions[0]) {\n\t\t\t\t\t\t\tpresentational = _this5.editor.selectedOptions[0].textContent;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!o.dataOnly) {\n\t\t\t\t\t\t\t_.setValue(_this5.element, { value: value, presentational: presentational }, {\n\t\t\t\t\t\t\t\tconfig: _this5.config,\n\t\t\t\t\t\t\t\tattribute: _this5.attribute,\n\t\t\t\t\t\t\t\tdatatype: _this5.datatype\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_this5.empty = value === \"\";\n\n\t\t\t\t_this5._value = value;\n\n\t\t\t\tif (!o.silent) {\n\t\t\t\t\tif (_this5.saved) {\n\t\t\t\t\t\t_this5.unsavedChanges = _this5.mavo.unsavedChanges = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this5.dataChanged(\"propertychange\", { value: value });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\n\t\tdataChanged: function dataChanged() {\n\t\t\tvar action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"propertychange\";\n\t\t\tvar o = arguments[1];\n\n\t\t\treturn this.super.dataChanged.call(this, action, o);\n\t\t},\n\n\t\tlive: {\n\t\t\tdefault: function _default(value) {\n\t\t\t\tif (this.value == this._default) {\n\n\t\t\t\t\tthis.value = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tvalue: function value(_value) {\n\t\t\t\treturn this.setValue(_value);\n\t\t\t},\n\n\t\t\tempty: function empty(value) {\n\t\t\t\tvar hide = value && // is empty\n\t\t\t\t!this.modes && // and supports both modes\n\t\t\t\tthis.config.default && // and using the default settings\n\t\t\t\t!(this.attribute && $(Mavo.selectors.property, this.element)); // and has no property inside\n\n\t\t\t\tthis.element.classList.toggle(\"mv-empty\", !!hide);\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tall: new WeakMap(),\n\n\t\t\tgetValueAttribute: function getValueAttribute(element) {\n\t\t\t\tvar config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Mavo.Elements.search(element);\n\n\t\t\t\tvar ret = element.getAttribute(\"mv-attribute\") || config.attribute;\n\n\t\t\t\tif (!ret || ret === \"null\") {\n\t\t\t\t\tret = null;\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t/**\n    * Only cast if conversion is lossless\n    */\n\t\t\tsafeCast: function safeCast(value, datatype) {\n\t\t\t\tvar existingType = typeof value === \"undefined\" ? \"undefined\" : _typeof(value);\n\t\t\t\tvar cast = _.cast(value, datatype);\n\n\t\t\t\tif (value === null || value === undefined) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tif (datatype == \"boolean\") {\n\t\t\t\t\tif (value === \"false\" || value === 0 || value === \"\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (value === \"true\" || value > 0) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tif (datatype == \"number\") {\n\t\t\t\t\tif (/^[-+]?[0-9.e]+$/i.test(value + \"\")) {\n\t\t\t\t\t\treturn cast;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\treturn cast;\n\t\t\t},\n\n\t\t\t/**\n    * Cast to a different primitive datatype\n    */\n\t\t\tcast: function cast(value, datatype) {\n\t\t\t\tswitch (datatype) {\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\treturn +value;\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\treturn !!value;\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\treturn value + \"\";\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tgetValue: function getValue(element, _ref) {\n\t\t\t\tvar config = _ref.config,\n\t\t\t\t    attribute = _ref.attribute,\n\t\t\t\t    datatype = _ref.datatype;\n\n\t\t\t\tif (!config) {\n\t\t\t\t\tconfig = _.getConfig(element, attribute);\n\t\t\t\t}\n\n\t\t\t\tattribute = config.attribute;\n\t\t\t\tdatatype = config.datatype;\n\n\t\t\t\tif (config.getValue && attribute == config.attribute) {\n\t\t\t\t\treturn config.getValue(element);\n\t\t\t\t}\n\n\t\t\t\tvar ret;\n\n\t\t\t\tif (attribute in element && _.useProperty(element, attribute)) {\n\t\t\t\t\t// Returning properties (if they exist) instead of attributes\n\t\t\t\t\t// is needed for dynamic elements such as checkboxes, sliders etc\n\t\t\t\t\tret = element[attribute];\n\t\t\t\t} else if (attribute) {\n\t\t\t\t\tret = element.getAttribute(attribute);\n\t\t\t\t} else {\n\t\t\t\t\tret = element.getAttribute(\"content\") || element.textContent || null;\n\t\t\t\t}\n\n\t\t\t\treturn _.safeCast(ret, datatype);\n\t\t\t},\n\n\t\t\tgetConfig: function getConfig(element, attribute) {\n\t\t\t\tif (attribute === undefined) {\n\t\t\t\t\tattribute = element.getAttribute(\"mv-attribute\") || undefined;\n\t\t\t\t}\n\n\t\t\t\tif (attribute == \"null\" || attribute == \"none\") {\n\t\t\t\t\tattribute = null;\n\t\t\t\t}\n\n\t\t\t\tvar config = Mavo.Elements.search(element, attribute);\n\n\t\t\t\tif (config.attribute === undefined) {\n\t\t\t\t\tconfig.attribute = attribute || null;\n\t\t\t\t}\n\n\t\t\t\treturn config;\n\t\t\t},\n\n\t\t\tsetValue: function setValue(element, value, _ref2) {\n\t\t\t\tvar config = _ref2.config,\n\t\t\t\t    attribute = _ref2.attribute,\n\t\t\t\t    datatype = _ref2.datatype;\n\n\t\t\t\tif ($.type(value) == \"object\" && \"value\" in value) {\n\t\t\t\t\tvar presentational = value.presentational;\n\t\t\t\t\tvalue = value.value;\n\t\t\t\t}\n\n\t\t\t\tif (element.nodeType === 1) {\n\t\t\t\t\tif (!config) {\n\t\t\t\t\t\tconfig = _.getConfig(element, attribute);\n\t\t\t\t\t}\n\n\t\t\t\t\tattribute = config.attribute;\n\n\t\t\t\t\tdatatype = datatype !== undefined ? datatype : config.datatype;\n\n\t\t\t\t\tif (config.setValue && attribute == config.attribute) {\n\t\t\t\t\t\treturn config.setValue(element, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (attribute) {\n\t\t\t\t\tif (attribute in element && _.useProperty(element, attribute) && element[attribute] !== value) {\n\t\t\t\t\t\t// Setting properties (if they exist) instead of attributes\n\t\t\t\t\t\t// is needed for dynamic elements such as checkboxes, sliders etc\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\telement[attribute] = value;\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set attribute anyway, even if we set a property because when\n\t\t\t\t\t// they're not in sync it gets really fucking confusing.\n\t\t\t\t\tif (datatype == \"boolean\") {\n\t\t\t\t\t\tif (value != element.hasAttribute(attribute)) {\n\t\t\t\t\t\t\t$.toggleAttribute(element, attribute, value, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (element.getAttribute(attribute) != value) {\n\t\t\t\t\t\t// intentionally non-strict, e.g. \"3.\" !== 3\n\t\t\t\t\t\telement.setAttribute(attribute, value);\n\n\t\t\t\t\t\tif (presentational) {\n\t\t\t\t\t\t\telement.textContent = presentational;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (datatype === \"number\" && !presentational) {\n\t\t\t\t\t\tpresentational = _.formatNumber(value);\n\t\t\t\t\t}\n\n\t\t\t\t\telement.textContent = presentational || value;\n\n\t\t\t\t\tif (presentational && element.setAttribute) {\n\t\t\t\t\t\telement.setAttribute(\"content\", value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    *  Set/get a property or an attribute?\n    * @return {Boolean} true to use a property, false to use the attribute\n    */\n\t\t\tuseProperty: function useProperty(element, attribute) {\n\t\t\t\tif ([\"href\", \"src\"].indexOf(attribute) > -1) {\n\t\t\t\t\t// URL properties resolve \"\" as location.href, fucking up emptiness checks\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (element.namespaceURI == \"http://www.w3.org/2000/svg\") {\n\t\t\t\t\t// SVG has a fucked up DOM, do not use these properties\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tlazy: {\n\t\t\t\tformatNumber: function formatNumber() {\n\t\t\t\t\tvar numberFormat = new Intl.NumberFormat(\"en-US\", { maximumFractionDigits: 2 });\n\n\t\t\t\t\treturn function (value) {\n\t\t\t\t\t\tif (value === Infinity || value === -Infinity) {\n\t\t\t\t\t\t\t// Pretty print infinity\n\t\t\t\t\t\t\treturn value < 0 ? \"-∞\" : \"∞\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn numberFormat.format(value);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t_.Popup = $.Class({\n\t\tconstructor: function constructor(primitive) {\n\t\t\tvar _this6 = this;\n\n\t\t\tthis.primitive = primitive;\n\n\t\t\tthis.popup = $.create(\"div\", {\n\t\t\t\tclassName: \"mv-popup\",\n\t\t\t\thidden: true,\n\t\t\t\tcontents: [this.primitive.label + \":\", this.editor],\n\t\t\t\tevents: {\n\t\t\t\t\tkeyup: function keyup(evt) {\n\t\t\t\t\t\tif (evt.keyCode == 13 || evt.keyCode == 27) {\n\t\t\t\t\t\t\tif (_this6.popup.contains(document.activeElement)) {\n\t\t\t\t\t\t\t\t_this6.element.focus();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t_this6.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// No point in having a dropdown in a popup\n\t\t\tif (this.editor.matches(\"select\")) {\n\t\t\t\tthis.editor.size = Math.min(10, this.editor.children.length);\n\t\t\t}\n\t\t},\n\n\t\tshow: function show() {\n\t\t\tvar _this7 = this;\n\n\t\t\t$.unbind([this.element, this.popup], \".mavo:showpopup\");\n\n\t\t\tthis.shown = true;\n\n\t\t\tthis.hideCallback = function (evt) {\n\t\t\t\tif (!_this7.popup.contains(evt.target) && !_this7.element.contains(evt.target)) {\n\t\t\t\t\t_this7.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.position = function (evt) {\n\t\t\t\tvar bounds = _this7.element.getBoundingClientRect();\n\t\t\t\tvar x = bounds.left;\n\t\t\t\tvar y = bounds.bottom;\n\n\t\t\t\t// TODO what if it doesn’t fit?\n\t\t\t\t$.style(_this7.popup, { top: y + \"px\", left: x + \"px\" });\n\t\t\t};\n\n\t\t\tthis.position();\n\n\t\t\tdocument.body.appendChild(this.popup);\n\n\t\t\trequestAnimationFrame(function (e) {\n\t\t\t\treturn _this7.popup.removeAttribute(\"hidden\");\n\t\t\t}); // trigger transition\n\n\t\t\t$.events(document, \"focus click\", this.hideCallback, true);\n\t\t\twindow.addEventListener(\"scroll\", this.position);\n\t\t},\n\n\t\thide: function hide() {\n\t\t\tvar _this8 = this;\n\n\t\t\t$.unbind(document, \"focus click\", this.hideCallback, true);\n\t\t\twindow.removeEventListener(\"scroll\", this.position);\n\t\t\tthis.popup.setAttribute(\"hidden\", \"\"); // trigger transition\n\t\t\tthis.shown = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t$.remove(_this8.popup);\n\t\t\t}, parseFloat(getComputedStyle(this.popup).transitionDuration) * 1000 || 400); // TODO transition-duration could override this\n\n\t\t\t$.events(this.element, {\n\t\t\t\t\"click.mavo:showpopup\": function clickMavoShowpopup(evt) {\n\t\t\t\t\t_this8.show();\n\t\t\t\t},\n\t\t\t\t\"keyup.mavo:showpopup\": function keyupMavoShowpopup(evt) {\n\t\t\t\t\tif ([13, 113].indexOf(evt.keyCode) > -1) {\n\t\t\t\t\t\t// Enter or F2\n\t\t\t\t\t\t_this8.show();\n\t\t\t\t\t\t_this8.editor.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclose: function close() {\n\t\t\tthis.hide();\n\t\t\t$.unbind(this.element, \".mavo:edit .mavo:preedit .mavo:showpopup\");\n\t\t},\n\n\t\tproxy: {\n\t\t\t\"editor\": \"primitive\",\n\t\t\t\"element\": \"primitive\"\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Configuration for different types of elements. Options:\n * - attribute {String}\n * - useProperty {Boolean}\n * - datatype {\"number\"|\"boolean\"|\"string\"} Default is \"string\"\n * - modes\n * - editor {Object|Function}\n * - setEditorValue temporary\n * - edit\n * - done\n * - observe\n * - default: If there is no attribute, can we use that rule to pick one?\n * @\n */\n(function ($, $$) {\n\n\tvar _ = Mavo.Elements = {};\n\n\tObject.defineProperties(_, {\n\t\t\"register\": {\n\t\t\tvalue: function value(selector, o) {\n\t\t\t\tif (_typeof(arguments[0]) === \"object\") {\n\t\t\t\t\tfor (var s in arguments[0]) {\n\t\t\t\t\t\t_.register(s, arguments[0][s]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar all = Mavo.toArray(arguments[1]);\n\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tconfig = _step.value;\n\n\t\t\t\t\t\tconfig.attribute = Mavo.toArray(config.attribute || null);\n\n\t\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator2 = config.attribute[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\t\tattribute = _step2.value;\n\n\t\t\t\t\t\t\t\tvar _o = $.extend({}, config);\n\t\t\t\t\t\t\t\t_o.attribute = attribute;\n\t\t\t\t\t\t\t\t_[selector] = _[selector] || [];\n\t\t\t\t\t\t\t\t_[selector].push(_o);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn _;\n\t\t\t}\n\t\t},\n\t\t\"search\": {\n\t\t\tvalue: function value(element, attribute, datatype) {\n\t\t\t\tvar matches = _.matches(element, attribute, datatype);\n\n\t\t\t\treturn matches[matches.length - 1] || { attribute: attribute };\n\t\t\t}\n\t\t},\n\t\t\"matches\": {\n\t\t\tvalue: function value(element, attribute, datatype) {\n\t\t\t\tvar matches = [];\n\n\t\t\t\tselectorloop: for (var selector in _) {\n\t\t\t\t\tif (element.matches(selector)) {\n\t\t\t\t\t\tvar all = _[selector];\n\n\t\t\t\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\t\t\t\tvar _didIteratorError3 = false;\n\t\t\t\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator3 = all[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\t\t\t\tvar o = _step3.value;\n\n\t\t\t\t\t\t\t\t// Passes attribute test?\n\t\t\t\t\t\t\t\tvar attributeMatches = attribute === undefined && o.default || attribute === o.attribute;\n\n\t\t\t\t\t\t\t\tif (!attributeMatches) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Passes datatype test?\n\t\t\t\t\t\t\t\tif (datatype !== undefined && datatype !== \"string\" && datatype !== o.datatype) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Passes arbitrary test?\n\t\t\t\t\t\t\t\tif (o.test && !o.test(element, attribute, datatype)) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// All tests have passed\n\t\t\t\t\t\t\t\tmatches.push(o);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t\t\t\t_iteratorError3 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn matches;\n\t\t\t}\n\t\t},\n\n\t\tisSVG: {\n\t\t\tvalue: function value(e) {\n\t\t\t\treturn e.namespaceURI == \"http://www.w3.org/2000/svg\";\n\t\t\t}\n\t\t},\n\n\t\tdefaultEditors: {\n\t\t\tvalue: {\n\t\t\t\t\"string\": { tag: \"input\" },\n\t\t\t\t\"number\": { tag: \"input\", type: \"number\" },\n\t\t\t\t\"boolean\": { tag: \"input\", type: \"checkbox\" }\n\t\t\t}\n\t\t}\n\t});\n\n\t_.register({\n\t\t\"*\": [{\n\t\t\ttest: function test(e, a) {\n\t\t\t\treturn a == \"hidden\";\n\t\t\t},\n\t\t\tattribute: \"hidden\",\n\t\t\tdatatype: \"boolean\"\n\t\t}, {\n\t\t\ttest: _.isSVG,\n\t\t\tattribute: \"y\",\n\t\t\tdatatype: \"number\"\n\t\t}, {\n\t\t\tdefault: true,\n\t\t\ttest: _.isSVG,\n\t\t\tattribute: \"x\",\n\t\t\tdatatype: \"number\"\n\t\t}],\n\n\t\t\"img, video, audio\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"src\",\n\t\t\teditor: {\n\t\t\t\t\"tag\": \"input\",\n\t\t\t\t\"type\": \"url\",\n\t\t\t\t\"placeholder\": \"http://example.com\"\n\t\t\t}\n\t\t},\n\n\t\t\"video, audio\": {\n\t\t\tattribute: [\"autoplay\", \"buffered\", \"loop\"],\n\t\t\tdatatype: \"boolean\"\n\t\t},\n\n\t\t\"a, link\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"href\"\n\t\t},\n\n\t\t\"input, select, button, textarea\": {\n\t\t\tattribute: \"disabled\",\n\t\t\tdatatype: \"boolean\"\n\t\t},\n\n\t\t\"select, input\": {\n\t\t\tattribute: \"value\",\n\t\t\tdefault: true,\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"input change\"\n\t\t},\n\n\t\t\"textarea\": {\n\t\t\tdefault: true,\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"input\",\n\t\t\tgetValue: function getValue(element) {\n\t\t\t\treturn element.value;\n\t\t\t},\n\t\t\tsetValue: function setValue(element, value) {\n\t\t\t\treturn element.value = value;\n\t\t\t}\n\t\t},\n\n\t\t\"input[type=range], input[type=number]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"value\",\n\t\t\tdatatype: \"number\",\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"input change\"\n\t\t},\n\n\t\t\"input[type=checkbox]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"checked\",\n\t\t\tdatatype: \"boolean\",\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"click\"\n\t\t},\n\n\t\t\"input[type=radio]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"checked\",\n\t\t\tmodes: \"read\",\n\t\t\tgetValue: function getValue(element) {\n\t\t\t\tif (element.form) {\n\t\t\t\t\treturn element.form[element.name].value;\n\t\t\t\t}\n\n\t\t\t\tvar checked = $(\"input[type=radio][name=\\\"\" + element.name + \"\\\"]:checked\");\n\t\t\t\treturn checked && checked.value;\n\t\t\t},\n\t\t\tsetValue: function setValue(element, value) {\n\t\t\t\tif (element.form) {\n\t\t\t\t\telement.form[element.name].value = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar toCheck = $(\"input[type=radio][name=\\\"\" + element.name + \"\\\"][value=\\\"\" + value + \"\\\"]\");\n\t\t\t\t$.properties(toCheck, { checked: true });\n\t\t\t},\n\t\t\tinit: function init(element) {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tthis.mavo.element.addEventListener(\"change\", function (evt) {\n\t\t\t\t\tif (evt.target.name == element.name) {\n\t\t\t\t\t\t_this.value = _this.getValue();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t\"button, .counter\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"mv-clicked\",\n\t\t\tdatatype: \"number\",\n\t\t\tmodes: \"read\",\n\t\t\tinit: function init(element) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tif (this.attribute === \"mv-clicked\") {\n\t\t\t\t\telement.setAttribute(\"mv-clicked\", \"0\");\n\n\t\t\t\t\telement.addEventListener(\"click\", function (evt) {\n\t\t\t\t\t\tvar clicked = +element.getAttribute(\"mv-clicked\") || 0;\n\t\t\t\t\t\t_this2.value = ++clicked;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t\"meter, progress\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"value\",\n\t\t\tdatatype: \"number\",\n\t\t\tedit: function edit() {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\tvar min = +this.element.getAttribute(\"min\") || 0;\n\t\t\t\tvar max = +this.element.getAttribute(\"max\") || 1;\n\t\t\t\tvar range = max - min;\n\t\t\t\tvar step = +this.element.getAttribute(\"mv-edit-step\") || (range > 1 ? 1 : range / 100);\n\n\t\t\t\tthis.element.addEventListener(\"mousemove.mavo:edit\", function (evt) {\n\t\t\t\t\t// Change property as mouse moves\n\t\t\t\t\tvar left = _this3.element.getBoundingClientRect().left;\n\t\t\t\t\tvar offset = Math.max(0, (evt.clientX - left) / _this3.element.offsetWidth);\n\t\t\t\t\tvar newValue = min + range * offset;\n\t\t\t\t\tvar mod = newValue % step;\n\n\t\t\t\t\tnewValue += mod > step / 2 ? step - mod : -mod;\n\t\t\t\t\tnewValue = Math.max(min, Math.min(newValue, max));\n\n\t\t\t\t\t_this3.sneak(function () {\n\t\t\t\t\t\treturn _this3.element.setAttribute(\"value\", newValue);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"mouseleave.mavo:edit\", function (evt) {\n\t\t\t\t\t// Return to actual value\n\t\t\t\t\t_this3.sneak(function () {\n\t\t\t\t\t\treturn _this3.element.setAttribute(\"value\", _this3.value);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"click.mavo:edit\", function (evt) {\n\t\t\t\t\t// Register change\n\t\t\t\t\t_this3.value = _this3.getValue();\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"keydown.mavo:edit\", function (evt) {\n\t\t\t\t\t// Edit with arrow keys\n\t\t\t\t\tif (evt.target == _this3.element && (evt.keyCode == 37 || evt.keyCode == 39)) {\n\t\t\t\t\t\tvar increment = step * (evt.keyCode == 39 ? 1 : -1) * (evt.shiftKey ? 10 : 1);\n\t\t\t\t\t\tvar newValue = _this3.value + increment;\n\t\t\t\t\t\tnewValue = Math.max(min, Math.min(newValue, max));\n\n\t\t\t\t\t\t_this3.element.setAttribute(\"value\", newValue);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tdone: function done() {\n\t\t\t\t$.unbind(this.element, \".mavo:edit\");\n\t\t\t}\n\t\t},\n\n\t\t\"meta\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"content\"\n\t\t},\n\n\t\t\"p, div, li, dt, dd, h1, h2, h3, h4, h5, h6, article, section, address\": {\n\t\t\tdefault: true,\n\t\t\teditor: function editor() {\n\t\t\t\tvar display = getComputedStyle(this.element).display;\n\t\t\t\tvar tag = display.indexOf(\"inline\") === 0 ? \"input\" : \"textarea\";\n\t\t\t\tvar editor = $.create(tag);\n\n\t\t\t\tif (tag == \"textarea\") {\n\t\t\t\t\t// Actually multiline\n\t\t\t\t\tvar width = this.element.offsetWidth;\n\n\t\t\t\t\tif (width) {\n\t\t\t\t\t\teditor.width = width;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn editor;\n\t\t\t},\n\n\t\t\tsetEditorValue: function setEditorValue(value) {\n\t\t\t\tif (this.datatype && this.datatype != \"string\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar cs = getComputedStyle(this.element);\n\t\t\t\tvalue = value || \"\";\n\n\t\t\t\tif ([\"normal\", \"nowrap\"].indexOf(cs.whiteSpace) > -1) {\n\t\t\t\t\t// Collapse lines\n\t\t\t\t\tvalue = value.replace(/\\r?\\n/g, \" \");\n\t\t\t\t}\n\n\t\t\t\tif ([\"normal\", \"nowrap\", \"pre-line\"].indexOf(cs.whiteSpace) > -1) {\n\t\t\t\t\t// Collapse whitespace\n\t\t\t\t\tvalue = value.replace(/^[ \\t]+|[ \\t]+$/gm, \"\").replace(/[ \\t]+/g, \" \");\n\t\t\t\t}\n\n\t\t\t\tthis.editor.value = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\t\"time\": {\n\t\t\tattribute: \"datetime\",\n\t\t\tdefault: true,\n\t\t\teditor: function editor() {\n\t\t\t\tvar types = {\n\t\t\t\t\t\"date\": /^[Y\\d]{4}-[M\\d]{2}-[D\\d]{2}$/i,\n\t\t\t\t\t\"month\": /^[Y\\d]{4}-[M\\d]{2}$/i,\n\t\t\t\t\t\"time\": /^[H\\d]{2}:[M\\d]{2}/i,\n\t\t\t\t\t\"week\": /[Y\\d]{4}-W[W\\d]{2}$/i,\n\t\t\t\t\t\"datetime-local\": /^[Y\\d]{4}-[M\\d]{2}-[D\\d]{2} [H\\d]{2}:[M\\d]{2}/i\n\t\t\t\t};\n\n\t\t\t\tvar datetime = this.element.getAttribute(\"datetime\") || \"YYYY-MM-DD\";\n\n\t\t\t\tfor (var type in types) {\n\t\t\t\t\tif (types[type].test(datetime)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn { tag: \"input\", type: type };\n\t\t\t},\n\t\t\thumanReadable: function humanReadable(value) {\n\t\t\t\tvar date = new Date(value);\n\n\t\t\t\tif (!value || isNaN(date)) {\n\t\t\t\t\treturn \"(No \" + this.label + \")\";\n\t\t\t\t}\n\n\t\t\t\t// TODO do this properly (account for other datetime datatypes and different formats)\n\t\t\t\tvar options = {\n\t\t\t\t\t\"date\": { day: \"numeric\", month: \"short\", year: \"numeric\" },\n\t\t\t\t\t\"month\": { month: \"long\" },\n\t\t\t\t\t\"time\": { hour: \"numeric\", minute: \"numeric\" },\n\t\t\t\t\t\"datetime-local\": { day: \"numeric\", month: \"short\", year: \"numeric\", hour: \"numeric\", minute: \"numeric\" }\n\t\t\t\t};\n\n\t\t\t\tvar format = options[this.editor && this.editor.type] || options.date;\n\t\t\t\tformat.timeZone = \"UTC\";\n\n\t\t\t\treturn date.toLocaleString(\"en-GB\", format);\n\t\t\t}\n\t\t},\n\n\t\t\"circle\": [{\n\t\t\tdefault: true,\n\t\t\tattribute: \"r\",\n\t\t\tdatatype: \"number\"\n\t\t}, {\n\t\t\tattribute: [\"cx\", \"cy\"],\n\t\t\tdatatype: \"number\"\n\t\t}],\n\n\t\t\"text\": {\n\t\t\tdefault: true,\n\t\t\tpopup: true\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tMavo.attributes.push(\"mv-multiple\", \"mv-order\", \"mv-accepts\");\n\n\tvar _ = Mavo.Collection = $.Class({\n\t\textends: Mavo.Node,\n\t\tnodeType: \"Collection\",\n\t\tconstructor: function constructor(element, mavo, o) {\n\t\t\t/*\n    * Create the template, remove it from the DOM and store it\n    */\n\t\t\tthis.templateElement = this.element;\n\n\t\t\tthis.children = [];\n\n\t\t\t// ALL descendant property names as an array\n\t\t\tif (!this.fromTemplate(\"properties\", \"mutable\", \"templateElement\", \"accepts\")) {\n\t\t\t\tthis.properties = $$(Mavo.selectors.property, this.templateElement).map(Mavo.Node.getProperty);\n\t\t\t\tthis.mutable = this.templateElement.matches(Mavo.selectors.multiple);\n\t\t\t\tthis.accepts = (this.templateElement.getAttribute(\"mv-accepts\") || \"\").split(/\\s+/);\n\n\t\t\t\t// Must clone because otherwise once expressions are parsed on the template element\n\t\t\t\t// we will not be able to pick them up from subsequent items\n\t\t\t\tthis.templateElement = this.templateElement.cloneNode(true);\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\tvar item = this.createItem(this.element);\n\t\t\t\tthis.add(item);\n\t\t\t\tthis.itemTemplate = item.template || item;\n\t\t\t}\n\n\t\t\tthis.postInit();\n\n\t\t\tMavo.hooks.run(\"collection-init-end\", this);\n\t\t},\n\n\t\tget length() {\n\t\t\treturn this.children.length;\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tdata: []\n\t\t\t};\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\titem = _step.value;\n\n\t\t\t\t\tif (!item.deleted || o.null) {\n\t\t\t\t\t\tvar itemData = item.getData(env.options);\n\n\t\t\t\t\t\tif (itemData || o.null) {\n\t\t\t\t\t\t\tenv.data.push(itemData);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.unhandled) {\n\t\t\t\tenv.data = this.unhandled.before.concat(env.data, this.unhandled.after);\n\t\t\t}\n\n\t\t\tif (!this.mutable && env.data.length == 1) {\n\t\t\t\t// See https://github.com/LeaVerou/mavo/issues/50#issuecomment-266079652\n\t\t\t\tenv.data = env.data[0];\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-getdata-end\", env);\n\n\t\t\treturn env.data;\n\t\t},\n\n\t\t// Create item but don't insert it anywhere\n\t\t// Mostly used internally\n\t\tcreateItem: function createItem(element) {\n\t\t\tif (!element) {\n\t\t\t\telement = this.templateElement.cloneNode(true);\n\t\t\t}\n\n\t\t\tvar item = Mavo.Node.create(element, this.mavo, {\n\t\t\t\tcollection: this,\n\t\t\t\ttemplate: this.itemTemplate || (this.template ? this.template.itemTemplate : null),\n\t\t\t\tproperty: this.property,\n\t\t\t\ttype: this.type\n\t\t\t});\n\n\t\t\treturn item;\n\t\t},\n\n\t\t/**\n   * Add a new item to this collection\n   * @param item {Node|Mavo.Node} Optional. Element or Mavo object for the new item\n   * @param index {Number} Optional. Index of existing item, will be added opposite to list direction\n   * @param silent {Boolean} Optional. Throw a datachange event? Mainly used internally.\n   */\n\t\tadd: function add(item, index) {\n\t\t\tvar o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\tif (item instanceof Node) {\n\t\t\t\titem = Mavo.Node.get(item) || this.createItem(item);\n\t\t\t} else {\n\t\t\t\titem = item || this.createItem();\n\t\t\t}\n\n\t\t\tif (item.collection != this) {\n\t\t\t\tthis.adopt(item);\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\t// Add it to the DOM, or fix its place\n\t\t\t\tvar rel = this.children[index] ? this.children[index].element : this.marker;\n\t\t\t\t$[this.bottomUp ? \"after\" : \"before\"](item.element, rel);\n\n\t\t\t\tif (index === undefined) {\n\t\t\t\t\tindex = this.bottomUp ? 0 : this.length;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar env = { context: this, item: item };\n\n\t\t\tenv.previousIndex = item.index;\n\n\t\t\t// Update internal data model\n\t\t\tenv.changed = this.splice({\n\t\t\t\tremove: env.item\n\t\t\t}, {\n\t\t\t\tindex: index,\n\t\t\t\tadd: env.item\n\t\t\t});\n\n\t\t\tif (!o.silent) {\n\t\t\t\tenv.changed.forEach(function (i) {\n\t\t\t\t\ti.dataChanged(i == env.item && env.previousIndex === undefined ? \"add\" : \"move\");\n\t\t\t\t\ti.unsavedChanges = true;\n\t\t\t\t});\n\n\t\t\t\tthis.unsavedChanges = this.mavo.unsavedChanges = true;\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"collection-add-end\", env);\n\n\t\t\treturn env.item;\n\t\t},\n\n\t\tsplice: function splice() {\n\t\t\tfor (var _len = arguments.length, actions = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\tactions[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = actions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar action = _step2.value;\n\n\t\t\t\t\tif (action.index === undefined && action.remove && isNaN(action.remove)) {\n\t\t\t\t\t\t// Remove is an item\n\t\t\t\t\t\taction.index = this.children.indexOf(action.remove);\n\t\t\t\t\t\taction.remove = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Sort in reverse index order\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tactions.sort(function (a, b) {\n\t\t\t\treturn b.index - a.index;\n\t\t\t});\n\n\t\t\t// FIXME this could still result in buggy behavior.\n\t\t\t// Think of e.g. adding items on i, then removing > 1 items on i-1.\n\t\t\t// The new items would get removed instead of the old ones.\n\t\t\t// Not a pressing issue though since we always remove 1 max when adding things too.\n\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\tvar _didIteratorError3 = false;\n\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator3 = actions[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\tvar _action = _step3.value;\n\n\t\t\t\t\tif (_action.index > -1 && (_action.remove || _action.add)) {\n\t\t\t\t\t\tvar _children;\n\n\t\t\t\t\t\t_action.remove = _action.remove || 0;\n\t\t\t\t\t\t_action.add = Mavo.toArray(_action.add);\n\n\t\t\t\t\t\t(_children = this.children).splice.apply(_children, [_action.index, +_action.remove].concat(_toConsumableArray(_action.add)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t_iteratorError3 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar changed = [];\n\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar _item = this.children[i];\n\n\t\t\t\tif (_item && _item.index !== i) {\n\t\t\t\t\t_item.index = i;\n\t\t\t\t\tchanged.push(_item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t},\n\n\t\tadopt: function adopt(item) {\n\t\t\tvar _this = this;\n\n\t\t\tif (item.collection) {\n\t\t\t\t// It belongs to another collection, delete from there first\n\t\t\t\titem.collection.splice({ remove: item });\n\t\t\t\titem.collection.dataChanged(\"delete\");\n\t\t\t}\n\n\t\t\t// Update collection & closestCollection properties\n\t\t\tthis.walk(function (obj) {\n\t\t\t\tif (obj.closestCollection === item.collection) {\n\t\t\t\t\tobj.closestCollection = _this;\n\t\t\t\t}\n\n\t\t\t\t// Belongs to another Mavo?\n\t\t\t\tif (item.mavo != _this.mavo) {\n\t\t\t\t\titem.mavo = _this.mavo;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\titem.collection = this;\n\n\t\t\t// Adjust templates and their copies\n\t\t\tif (item.template) {\n\t\t\t\tMavo.delete(item.template.copies, item);\n\n\t\t\t\titem.template = this.itemTemplate;\n\t\t\t}\n\t\t},\n\n\t\tdelete: function _delete(item, hard) {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (hard) {\n\t\t\t\t// Hard delete\n\t\t\t\t$.remove(item.element);\n\t\t\t\tthis.splice({ remove: item });\n\t\t\t\titem.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn $.transition(item.element, { opacity: 0 }).then(function () {\n\t\t\t\titem.deleted = true; // schedule for deletion\n\t\t\t\titem.element.style.opacity = \"\";\n\n\t\t\t\titem.dataChanged(\"delete\");\n\n\t\t\t\t_this2.unsavedChanges = item.unsavedChanges = _this2.mavo.unsavedChanges = true;\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Move existing item to a new position. Wraps around if position is out of bounds.\n   * @offset relative position\n   */\n\t\tmove: function move(item, offset) {\n\t\t\tindex = item.index + offset + (offset > 0);\n\n\t\t\tif (index < 0) {\n\t\t\t\tindex = this.children.length;\n\t\t\t} else if (index > this.children.length) {\n\t\t\t\tindex = 0;\n\t\t\t}\n\n\t\t\tthis.add(item, index);\n\t\t},\n\n\t\teditItem: function editItem(item) {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (!item.itemControls) {\n\t\t\t\titem.itemControls = $$(\".mv-item-controls\", item.element).filter(function (el) {\n\t\t\t\t\t// Remove item controls meant for other collections\n\t\t\t\t\treturn el.closest(Mavo.selectors.multiple) == item.element && !Mavo.data(el, \"item\");\n\t\t\t\t})[0];\n\n\t\t\t\titem.itemControls = item.itemControls || $.create({\n\t\t\t\t\tclassName: \"mv-item-controls mv-ui\"\n\t\t\t\t});\n\n\t\t\t\tMavo.data(item.itemControls, \"item\", item);\n\n\t\t\t\t$.set(item.itemControls, {\n\t\t\t\t\tcontents: [{\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\ttitle: \"Delete this \" + item.name,\n\t\t\t\t\t\tclassName: \"mv-delete\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\t\treturn item.collection.delete(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\ttitle: \"Add new \" + item.name.replace(/s$/i, \"\") + \" \" + (this.bottomUp ? \"after\" : \"before\"),\n\t\t\t\t\t\tclassName: \"mv-add\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\t\tvar newItem = _this3.add(null, item.index);\n\n\t\t\t\t\t\t\t\tif (evt[Mavo.superKey]) {\n\t\t\t\t\t\t\t\t\tnewItem.render(item.data);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tMavo.scrollIntoViewIfNeeded(newItem.element);\n\n\t\t\t\t\t\t\t\treturn _this3.editItem(newItem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\ttitle: \"Drag to reorder \" + item.name,\n\t\t\t\t\t\tclassName: \"mv-drag-handle\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\tclick: function click(evt) {\n\t\t\t\t\t\t\t\treturn evt.target.focus();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tkeydown: function keydown(evt) {\n\t\t\t\t\t\t\t\tif (evt.keyCode >= 37 && evt.keyCode <= 40) {\n\t\t\t\t\t\t\t\t\t// Arrow keys\n\t\t\t\t\t\t\t\t\t_this3.move(item, evt.keyCode <= 38 ? -1 : 1);\n\n\t\t\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t\t\tevt.target.focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!item.itemControls.parentNode) {\n\t\t\t\tif (!Mavo.revocably.add(item.itemControls)) {\n\t\t\t\t\tif (item instanceof Mavo.Primitive && !item.attribute) {\n\t\t\t\t\t\titem.itemControls.classList.add(\"mv-adjacent\");\n\t\t\t\t\t\t$.after(item.itemControls, item.element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.element.appendChild(item.itemControls);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\titem.edit();\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this.super.edit.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\t// Insert the add button if it's not already in the DOM\n\t\t\t\tif (!this.addButton.parentNode) {\n\t\t\t\t\tvar tag = this.element.tagName.toLowerCase();\n\t\t\t\t\tvar containerSelector = Mavo.selectors.container[tag];\n\t\t\t\t\tvar rel = containerSelector ? this.marker.parentNode.closest(containerSelector) : this.marker;\n\t\t\t\t\t$[this.bottomUp ? \"before\" : \"after\"](this.addButton, rel);\n\t\t\t\t}\n\n\t\t\t\t// Insert item controls\n\t\t\t\tthis.propagate(function (item) {\n\t\t\t\t\t_this4.editItem(item);\n\t\t\t\t});\n\n\t\t\t\t// Set up drag & drop\n\t\t\t\t_.dragula.then(function () {\n\t\t\t\t\t_this4.getDragula();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tdone: function done() {\n\t\t\tif (this.super.done.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\tif (this.addButton.parentNode) {\n\t\t\t\t\tthis.addButton.remove();\n\t\t\t\t}\n\n\t\t\t\tthis.propagate(function (item) {\n\t\t\t\t\treturn Mavo.revocably.remove(item.itemControls, \"item controls\");\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Delete all items in the collection. Not undoable.\n   */\n\t\tclear: function clear() {\n\t\t\tif (this.mutable) {\n\t\t\t\tthis.propagate(function (item) {\n\t\t\t\t\titem.element.remove();\n\t\t\t\t\titem.destroy();\n\t\t\t\t});\n\n\t\t\t\tthis.children = [];\n\n\t\t\t\tthis.dataChanged(\"clear\");\n\t\t\t}\n\t\t},\n\n\t\tdataChanged: function dataChanged(action) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\to.element = o.element || this.marker;\n\t\t\treturn this.super.dataChanged.call(this, action, o);\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\tvar _didIteratorError4 = false;\n\t\t\tvar _iteratorError4 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator4 = this.children[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\tvar _item2 = _step4.value;\n\n\t\t\t\t\tif (_item2.deleted) {\n\t\t\t\t\t\tthis.delete(_item2, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_item2.unsavedChanges = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t_iteratorError4 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpropagated: [\"save\"],\n\n\t\tdataRender: function dataRender(data) {\n\t\t\tthis.unhandled = { before: [], after: [] };\n\n\t\t\tif (!data) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata = Mavo.toArray(data);\n\n\t\t\tif (!this.mutable) {\n\t\t\t\tthis.children.forEach(function (item, i) {\n\t\t\t\t\treturn item.render(data && data[i]);\n\t\t\t\t});\n\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.unhandled.after = data.slice(this.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// First render on existing items\n\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\tif (i < data.length) {\n\t\t\t\t\t\tthis.children[i].render(data[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.delete(this.children[i], true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (data.length > i) {\n\t\t\t\t\t// There are still remaining items\n\t\t\t\t\t// Using document fragments improves performance by 60%\n\t\t\t\t\tvar fragment = document.createDocumentFragment();\n\n\t\t\t\t\tfor (var j = i; j < data.length; j++) {\n\t\t\t\t\t\tvar item = this.createItem();\n\n\t\t\t\t\t\titem.render(data[j]);\n\n\t\t\t\t\t\tthis.children.push(item);\n\t\t\t\t\t\titem.index = j;\n\n\t\t\t\t\t\tfragment.appendChild(item.element);\n\n\t\t\t\t\t\tvar env = { context: this, item: item };\n\t\t\t\t\t\tMavo.hooks.run(\"collection-add-end\", env);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.bottomUp) {\n\t\t\t\t\t\t$.after(fragment, i > 0 ? this.children[i - 1].element : this.marker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.before(fragment, this.marker);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfind: function find(property) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tvar items = this.children.filter(function (item) {\n\t\t\t\treturn !item.deleted;\n\t\t\t});\n\n\t\t\tif (this.property == property) {\n\t\t\t\treturn o.collections ? this : items;\n\t\t\t}\n\n\t\t\tif (this.properties.indexOf(property) > -1) {\n\t\t\t\tvar ret = items.map(function (item) {\n\t\t\t\t\treturn item.find(property, o);\n\t\t\t\t});\n\n\t\t\t\treturn Mavo.flatten(ret);\n\t\t\t}\n\t\t},\n\n\t\tisCompatible: function isCompatible(c) {\n\t\t\treturn c && this.itemTemplate.nodeType == c.itemTemplate.nodeType && (c === this || c.template == this || this.template == c || this.template && this.template == c.template || this.accepts.indexOf(c.property) > -1);\n\t\t},\n\n\t\tlive: {\n\t\t\tmutable: function mutable(value) {\n\t\t\t\tif (value && value !== this.mutable) {\n\t\t\t\t\t// Why is all this code here? Because we want it executed\n\t\t\t\t\t// every time mutable changes, not just in the constructor\n\t\t\t\t\t// (think multiple elements with the same property name, where only one has mv-multiple)\n\t\t\t\t\tthis._mutable = value;\n\n\t\t\t\t\t// Keep position of the template in the DOM, since we might remove it\n\t\t\t\t\tthis.marker = document.createComment(\"mv-marker\");\n\t\t\t\t\tMavo.data(this.marker, \"collection\", this);\n\t\t\t\t\t$.after(this.marker, this.templateElement);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Make sure to only call after dragula has loaded\n\t\tgetDragula: function getDragula() {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (this.dragula) {\n\t\t\t\treturn this.dragula;\n\t\t\t}\n\n\t\t\tif (this.template) {\n\t\t\t\tMavo.pushUnique(this.template.getDragula().containers, this.marker.parentNode);\n\t\t\t\treturn this.dragula = this.template.dragula || this.template.getDragula();\n\t\t\t}\n\n\t\t\tvar me = this;\n\t\t\tthis.dragula = dragula({\n\t\t\t\tcontainers: [this.marker.parentNode],\n\t\t\t\tisContainer: function isContainer(el) {\n\t\t\t\t\tif (_this5.accepts.length) {\n\t\t\t\t\t\treturn Mavo.flatten(_this5.accepts.map(function (property) {\n\t\t\t\t\t\t\treturn _this5.mavo.root.find(property, { collections: true });\n\t\t\t\t\t\t})).filter(function (c) {\n\t\t\t\t\t\t\treturn c && c instanceof _;\n\t\t\t\t\t\t}).map(function (c) {\n\t\t\t\t\t\t\treturn c.marker.parentNode;\n\t\t\t\t\t\t}).indexOf(el) > -1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tmoves: function moves(el, container, handle) {\n\t\t\t\t\treturn handle.classList.contains(\"mv-drag-handle\") && handle.closest(Mavo.selectors.multiple) == el;\n\t\t\t\t},\n\t\t\t\taccepts: function accepts(el, target, source, next) {\n\t\t\t\t\tif (el.contains(target)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar previous = next ? next.previousElementSibling : target.lastElementChild;\n\n\t\t\t\t\tvar collection = _.get(previous) || _.get(next);\n\n\t\t\t\t\tif (!collection) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar item = Mavo.Node.get(el);\n\n\t\t\t\t\treturn item && item.collection.isCompatible(collection);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.dragula.on(\"drop\", function (el, target, source) {\n\t\t\t\tvar item = Mavo.Node.get(el);\n\t\t\t\tvar oldIndex = item && item.index;\n\t\t\t\tvar next = el.nextElementSibling;\n\t\t\t\tvar previous = el.previousElementSibling;\n\t\t\t\tvar collection = _.get(previous) || _.get(next);\n\t\t\t\tvar closestItem = Mavo.Node.get(previous) || Mavo.Node.get(next);\n\n\t\t\t\tif (closestItem && closestItem.collection != collection) {\n\t\t\t\t\tclosestItem = null;\n\t\t\t\t}\n\n\t\t\t\tif (item.collection.isCompatible(collection)) {\n\t\t\t\t\tvar index = closestItem ? closestItem.index + (closestItem.element === previous) : collection.length;\n\t\t\t\t\tcollection.add(item, index);\n\t\t\t\t} else {\n\t\t\t\t\treturn _this5.dragula.cancel(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_.dragulas.push(this.dragula);\n\n\t\t\treturn this.dragula;\n\t\t},\n\n\t\tlazy: {\n\t\t\tbottomUp: function bottomUp() {\n\t\t\t\t/*\n     * Add new items at the top or bottom?\n     */\n\n\t\t\t\tif (!this.mutable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar order = this.templateElement.getAttribute(\"mv-order\");\n\t\t\t\tif (order !== null) {\n\t\t\t\t\t// Attribute has the highest priority and overrides any heuristics\n\t\t\t\t\treturn (/^desc\\b/i.test(order)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (!this.addButton.parentNode) {\n\t\t\t\t\t// If add button not in DOM, do the default\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// If add button is already in the DOM and *before* our template, then we default to prepending\n\t\t\t\treturn !!(this.addButton.compareDocumentPosition(this.marker) & Node.DOCUMENT_POSITION_FOLLOWING);\n\t\t\t},\n\n\t\t\tclosestCollection: function closestCollection() {\n\t\t\t\tvar parent = this.marker ? this.marker.parentNode : this.templateElement.parentNode;\n\n\t\t\t\treturn parent.closest(Mavo.selectors.multiple);\n\t\t\t},\n\n\t\t\taddButton: function addButton() {\n\t\t\t\tvar _this6 = this;\n\n\t\t\t\t// Find add button if provided, or generate one\n\t\t\t\tvar selector = \"button.mv-add-\" + this.property;\n\t\t\t\tvar group = this.closestCollection || this.marker.parentNode.closest(Mavo.selectors.group);\n\n\t\t\t\tif (group) {\n\t\t\t\t\tvar button = $$(selector, group).filter(function (button) {\n\t\t\t\t\t\treturn !_this6.templateElement.contains(button);\n\t\t\t\t\t})[0];\n\t\t\t\t}\n\n\t\t\t\tif (!button) {\n\t\t\t\t\tbutton = $.create(\"button\", {\n\t\t\t\t\t\tclassName: \"mv-add\",\n\t\t\t\t\t\ttextContent: \"Add \" + this.name\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tbutton.classList.add(\"mv-ui\", \"mv-add\");\n\t\t\t\tMavo.data(button, \"collection\", this);\n\n\t\t\t\tif (this.property) {\n\t\t\t\t\tbutton.classList.add(\"mv-add-\" + this.property);\n\t\t\t\t}\n\n\t\t\t\tbutton.addEventListener(\"click\", function (evt) {\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\t_this6.editItem(_this6.add());\n\t\t\t\t});\n\n\t\t\t\treturn button;\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tdragulas: [],\n\t\t\tget: function get(element) {\n\t\t\t\t// Is it an add button or a marker?\n\t\t\t\tvar collection = Mavo.data(element, \"collection\");\n\n\t\t\t\tif (collection) {\n\t\t\t\t\treturn collection;\n\t\t\t\t}\n\n\t\t\t\t// Maybe it's a collection item?\n\t\t\t\tvar item = Mavo.Node.get(element);\n\n\t\t\t\treturn item && item.collection || null;\n\t\t\t},\n\n\t\t\tlazy: {\n\t\t\t\tdragula: function dragula() {\n\t\t\t\t\treturn $.include(self.dragula, \"https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($) {\n\n\tMavo.attributes.push(\"mv-expressions\");\n\n\tvar _ = Mavo.Expression = $.Class({\n\t\tconstructor: function constructor(expression) {\n\t\t\tthis.expression = expression;\n\t\t},\n\n\t\teval: function _eval(data) {\n\t\t\tthis.oldValue = this.value;\n\n\t\t\tMavo.hooks.run(\"expression-eval-beforeeval\", this);\n\n\t\t\ttry {\n\t\t\t\tif (!this.function) {\n\t\t\t\t\tthis.function = _.compile(this.expression);\n\t\t\t\t\tthis.identifiers = this.expression.match(/[$a-z][$\\w]*/ig) || [];\n\t\t\t\t}\n\n\t\t\t\tthis.value = this.function(data);\n\t\t\t} catch (exception) {\n\t\t\t\tconsole.info(\"%cExpression error!\", \"color: red; font-weight: bold\", exception.message + \" in expression \" + this.expression);\n\t\t\t\tMavo.hooks.run(\"expression-eval-error\", { context: this, exception: exception });\n\n\t\t\t\tthis.value = exception;\n\t\t\t}\n\n\t\t\treturn this.value;\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\treturn this.expression;\n\t\t},\n\n\n\t\tchangedBy: function changedBy(evt) {\n\t\t\tif (!evt) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!this.identifiers) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.identifiers.indexOf(evt.property) > -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (Mavo.hasIntersection(evt.properties, this.identifiers)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (evt.action != \"propertychange\") {\n\t\t\t\tif (Mavo.hasIntersection([\"$index\", \"$all\", \"$previous\", \"$next\"], this.identifiers)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tvar collection = evt.node.collection || evt.node;\n\n\t\t\t\tif (Mavo.hasIntersection(collection.properties, this.identifiers)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Mavo.hasIntersection(Mavo.allIds, this.identifiers)) {\n\t\t\t\treturn true; // contains a Mavo id\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tlive: {\n\t\t\texpression: function expression(value) {\n\t\t\t\tvar code = value = value;\n\n\t\t\t\tthis.function = null;\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\t/**\n    * These serializers transform the AST into JS\n    */\n\t\t\tserializers: {\n\t\t\t\t\"BinaryExpression\": function BinaryExpression(node) {\n\t\t\t\t\treturn _.serialize(node.left) + \" \" + node.operator + \" \" + _.serialize(node.right);\n\t\t\t\t},\n\t\t\t\t\"UnaryExpression\": function UnaryExpression(node) {\n\t\t\t\t\treturn \"\" + node.operator + _.serialize(node.argument);\n\t\t\t\t},\n\t\t\t\t\"CallExpression\": function CallExpression(node) {\n\t\t\t\t\treturn _.serialize(node.callee) + \"(\" + node.arguments.map(_.serialize).join(\", \") + \")\";\n\t\t\t\t},\n\t\t\t\t\"ConditionalExpression\": function ConditionalExpression(node) {\n\t\t\t\t\treturn _.serialize(node.test) + \"? \" + _.serialize(node.consequent) + \" : \" + _.serialize(node.alternate);\n\t\t\t\t},\n\t\t\t\t\"MemberExpression\": function MemberExpression(node) {\n\t\t\t\t\treturn \"get(\" + _.serialize(node.object) + \", \\\"\" + (node.property.name || node.property.value) + \"\\\")\";\n\t\t\t\t},\n\t\t\t\t\"ArrayExpression\": function ArrayExpression(node) {\n\t\t\t\t\treturn \"[\" + node.elements.map(_.serialize).join(\", \") + \"]\";\n\t\t\t\t},\n\t\t\t\t\"Literal\": function Literal(node) {\n\t\t\t\t\treturn node.raw;\n\t\t\t\t},\n\t\t\t\t\"Identifier\": function Identifier(node) {\n\t\t\t\t\treturn node.name;\n\t\t\t\t},\n\t\t\t\t\"ThisExpression\": function ThisExpression(node) {\n\t\t\t\t\treturn \"this\";\n\t\t\t\t},\n\t\t\t\t\"Compound\": function Compound(node) {\n\t\t\t\t\treturn node.body.map(_.serialize).join(\" \");\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    * These are run before the serializers and transform the expression to support MavoScript\n    */\n\t\t\ttransformations: {\n\t\t\t\t\"BinaryExpression\": function BinaryExpression(node) {\n\t\t\t\t\tvar name = Mavo.Script.getOperatorName(node.operator);\n\t\t\t\t\tvar details = Mavo.Script.operators[name];\n\n\t\t\t\t\t// Flatten same operator calls\n\t\t\t\t\tvar nodeLeft = node;\n\t\t\t\t\tvar args = [];\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\targs.unshift(nodeLeft.right);\n\t\t\t\t\t\tnodeLeft = nodeLeft.left;\n\t\t\t\t\t} while (Mavo.Script.getOperatorName(nodeLeft.operator) === name);\n\n\t\t\t\t\targs.unshift(nodeLeft);\n\n\t\t\t\t\tif (args.length > 1) {\n\t\t\t\t\t\treturn name + \"(\" + args.map(_.serialize).join(\", \") + \")\";\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"CallExpression\": function CallExpression(node) {\n\t\t\t\t\tif (node.callee.type == \"Identifier\" && node.callee.name == \"if\") {\n\t\t\t\t\t\tnode.callee.name = \"iff\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tserialize: function serialize(node) {\n\t\t\t\tif (_.transformations[node.type]) {\n\t\t\t\t\tvar ret = _.transformations[node.type](node);\n\n\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn _.serializers[node.type](node);\n\t\t\t},\n\n\t\t\trewrite: function rewrite(code) {\n\t\t\t\ttry {\n\t\t\t\t\treturn _.serialize(_.parse(code));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Parsing as MavoScript failed, falling back to plain JS\n\t\t\t\t\treturn code;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcompile: function compile(code) {\n\t\t\t\tcode = _.rewrite(code);\n\n\t\t\t\treturn new Function(\"data\", \"with(Mavo.Functions._Trap)\\n\\t\\t\\t\\t\\twith(data) {\\n\\t\\t\\t\\t\\t\\treturn \" + code + \";\\n\\t\\t\\t\\t\\t}\");\n\t\t\t},\n\n\t\t\tparse: self.jsep\n\t\t}\n\t});\n\n\tif (self.jsep) {\n\t\tjsep.addBinaryOp(\"and\", 2);\n\t\tjsep.addBinaryOp(\"or\", 2);\n\t\tjsep.addBinaryOp(\"=\", 6);\n\t\tjsep.addBinaryOp(\"mod\", 10);\n\t\tjsep.removeBinaryOp(\"===\");\n\t}\n\n\t_.serializers.LogicalExpression = _.serializers.BinaryExpression;\n\t_.transformations.LogicalExpression = _.transformations.BinaryExpression;\n\n\t_.Syntax = $.Class({\n\t\tconstructor: function constructor(start, end) {\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t\tthis.regex = RegExp(Mavo.escapeRegExp(start) + \"([\\\\S\\\\s]+?)\" + Mavo.escapeRegExp(end), \"gi\");\n\t\t},\n\n\t\ttest: function test(str) {\n\t\t\tthis.regex.lastIndex = 0;\n\n\t\t\treturn this.regex.test(str);\n\t\t},\n\n\t\ttokenize: function tokenize(str) {\n\t\t\tvar match,\n\t\t\t    ret = [],\n\t\t\t    lastIndex = 0;\n\n\t\t\tthis.regex.lastIndex = 0;\n\n\t\t\twhile ((match = this.regex.exec(str)) !== null) {\n\t\t\t\t// Literal before the expression\n\t\t\t\tif (match.index > lastIndex) {\n\t\t\t\t\tret.push(str.substring(lastIndex, match.index));\n\t\t\t\t}\n\n\t\t\t\tlastIndex = this.regex.lastIndex;\n\n\t\t\t\tret.push(new Mavo.Expression(match[1]));\n\t\t\t}\n\n\t\t\t// Literal at the end\n\t\t\tif (lastIndex < str.length) {\n\t\t\t\tret.push(str.substring(lastIndex));\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t},\n\n\t\tstatic: {\n\t\t\tcreate: function create(element) {\n\t\t\t\tif (element) {\n\t\t\t\t\tvar syntax = element.getAttribute(\"mv-expressions\");\n\n\t\t\t\t\tif (syntax) {\n\t\t\t\t\t\tsyntax = syntax.trim();\n\t\t\t\t\t\treturn (/\\s/.test(syntax) ? new (Function.prototype.bind.apply(_.Syntax, [null].concat(_toConsumableArray(syntax.split(/\\s+/)))))() : _.Syntax.ESCAPE\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tESCAPE: -1\n\t\t}\n\t});\n\n\t_.Syntax.default = new _.Syntax(\"[\", \"]\");\n})(Bliss);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($) {\n\n\tvar _ = Mavo.DOMExpression = $.Class({\n\t\tconstructor: function constructor() {\n\t\t\tvar _this = this;\n\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.mavo = o.mavo;\n\t\t\tthis.template = o.template && o.template.template || o.template;\n\n\t\t\tvar _arr = [\"item\", \"path\", \"syntax\", \"fallback\", \"attribute\"];\n\t\t\tfor (var _i = 0; _i < _arr.length; _i++) {\n\t\t\t\tvar prop = _arr[_i];\n\t\t\t\tthis[prop] = o[prop] === undefined && this.template ? this.template[prop] : o[prop];\n\t\t\t}\n\n\t\t\tthis.node = o.node;\n\n\t\t\tif (!this.node) {\n\t\t\t\t// No node provided, figure it out from path\n\t\t\t\tthis.node = this.path.reduce(function (node, index) {\n\t\t\t\t\treturn node.childNodes[index];\n\t\t\t\t}, this.item.element);\n\t\t\t}\n\n\t\t\tthis.element = this.node;\n\t\t\tthis.attribute = this.attribute || null;\n\n\t\t\tMavo.hooks.run(\"domexpression-init-start\", this);\n\n\t\t\tif (!this.expression) {\n\t\t\t\t// Still unhandled?\n\t\t\t\tif (this.node.nodeType === 3) {\n\t\t\t\t\tthis.element = this.node.parentNode;\n\n\t\t\t\t\t// If no element siblings make this.node the element, which is more robust\n\t\t\t\t\t// Same if attribute, there are no attributes on a text node!\n\t\t\t\t\tif (!this.node.parentNode.children.length || this.attribute) {\n\t\t\t\t\t\tthis.node = this.element;\n\t\t\t\t\t\tthis.element.normalize();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.attribute) {\n\t\t\t\t\tthis.expression = this.node.getAttribute(this.attribute).trim();\n\t\t\t\t} else {\n\t\t\t\t\t// Move whitespace outside to prevent it from messing with types\n\t\t\t\t\tthis.node.normalize();\n\n\t\t\t\t\tif (this.node.firstChild && this.node.childNodes.length === 1 && this.node.firstChild.nodeType === 3) {\n\t\t\t\t\t\tvar whitespace = this.node.firstChild.textContent.match(/^\\s*|\\s*$/g);\n\n\t\t\t\t\t\tif (whitespace[1]) {\n\t\t\t\t\t\t\tthis.node.firstChild.splitText(this.node.firstChild.textContent.length - whitespace[1].length);\n\t\t\t\t\t\t\t$.after(this.node.lastChild, this.node);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (whitespace[0]) {\n\t\t\t\t\t\t\tthis.node.firstChild.splitText(whitespace[0].length);\n\t\t\t\t\t\t\tthis.node.parentNode.insertBefore(this.node.firstChild, this.node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.expression = this.node.textContent;\n\t\t\t\t}\n\n\t\t\t\tthis.parsed = o.template ? o.template.parsed : this.syntax.tokenize(this.expression);\n\t\t\t}\n\n\t\t\tthis.oldValue = this.value = this.parsed.map(function (x) {\n\t\t\t\treturn x instanceof Mavo.Expression ? x.expression : x;\n\t\t\t});\n\n\t\t\tthis.mavo.treeBuilt.then(function () {\n\t\t\t\tif (!_this.template) {\n\t\t\t\t\t_this.item = Mavo.Node.get(_this.element.closest(Mavo.selectors.multiple + \", \" + Mavo.selectors.group));\n\t\t\t\t\t_this.item.expressions = [].concat(_toConsumableArray(_this.item.expressions || []), [_this]);\n\t\t\t\t}\n\n\t\t\t\tMavo.hooks.run(\"domexpression-init-treebuilt\", _this);\n\t\t\t});\n\n\t\t\tMavo.hooks.run(\"domexpression-init-end\", this);\n\n\t\t\t_.elements.set(this.element, [].concat(_toConsumableArray(_.elements.get(this.element) || []), [this]));\n\t\t},\n\n\t\tchangedBy: function changedBy(evt) {\n\t\t\treturn !this.parsed.every(function (expr) {\n\t\t\t\treturn !(expr instanceof Mavo.Expression) || !expr.changedBy(evt);\n\t\t\t});\n\t\t},\n\n\t\tupdate: function update() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.data;\n\t\t\tvar event = arguments[1];\n\n\t\t\tvar env = { context: this, ret: {}, event: event };\n\t\t\tvar parentEnv = env;\n\t\t\tthis.data = data;\n\n\t\t\tenv.ret = {};\n\n\t\t\tMavo.hooks.run(\"domexpression-update-start\", env);\n\n\t\t\tthis.oldValue = this.value;\n\n\t\t\tenv.ret.value = this.value = this.parsed.map(function (expr, i) {\n\t\t\t\tif (expr instanceof Mavo.Expression) {\n\t\t\t\t\tif (expr.changedBy(parentEnv.event)) {\n\t\t\t\t\t\tvar env = { context: _this2, expr: expr, parentEnv: parentEnv };\n\n\t\t\t\t\t\tMavo.hooks.run(\"domexpression-update-beforeeval\", env);\n\n\t\t\t\t\t\tenv.value = env.expr.eval(data);\n\n\t\t\t\t\t\tMavo.hooks.run(\"domexpression-update-aftereval\", env);\n\n\t\t\t\t\t\tif (env.value instanceof Error) {\n\t\t\t\t\t\t\treturn _this2.fallback !== undefined ? _this2.fallback : env.expr.expression;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (env.value === undefined || env.value === null) {\n\t\t\t\t\t\t\t// Don’t print things like \"undefined\" or \"null\"\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn env.value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn _this2.oldValue[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn expr;\n\t\t\t});\n\n\t\t\tif (!this.attribute) {\n\t\t\t\t// Separate presentational & actual values only apply when content is variable\n\t\t\t\tenv.ret.presentational = this.value.map(function (value) {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\treturn value.join(\", \");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof value == \"number\") {\n\t\t\t\t\t\treturn Mavo.Primitive.formatNumber(value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t});\n\n\t\t\t\tenv.ret.presentational = env.ret.presentational.length === 1 ? env.ret.presentational[0] : env.ret.presentational.join(\"\");\n\t\t\t}\n\n\t\t\tenv.ret.value = env.ret.value.length === 1 ? env.ret.value[0] : env.ret.value.join(\"\");\n\n\t\t\tif (this.primitive && this.parsed.length === 1) {\n\t\t\t\tif (typeof env.ret.value === \"number\") {\n\t\t\t\t\tthis.primitive.datatype = \"number\";\n\t\t\t\t} else if (typeof env.ret.value === \"boolean\") {\n\t\t\t\t\tthis.primitive.datatype = \"boolean\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (env.ret.presentational === env.ret.value) {\n\t\t\t\tret = env.ret.value;\n\t\t\t}\n\n\t\t\tthis.output(env.ret);\n\n\t\t\tMavo.hooks.run(\"domexpression-update-end\", env);\n\t\t},\n\n\t\toutput: function output(value) {\n\t\t\tif (this.primitive) {\n\t\t\t\tthis.primitive.value = value;\n\t\t\t} else {\n\t\t\t\tvalue = value.presentational || value;\n\t\t\t\tMavo.Primitive.setValue(this.node, value, { attribute: this.attribute });\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\telements: new WeakMap(),\n\n\t\t\t/**\n    * Search for Mavo.DOMExpression object(s) associated with a given element\n    * and optionally an attribute.\n    *\n    * @return If one argument, array of matching DOMExpression objects.\n    *         If two arguments, the matching DOMExpression object or null\n    */\n\t\t\tsearch: function search(element, attribute) {\n\t\t\t\tvar all = _.elements.get(element) || [];\n\n\t\t\t\tif (arguments.length > 1) {\n\t\t\t\t\tif (!all.length) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn all.filter(function (et) {\n\t\t\t\t\t\treturn et.attribute === attribute;\n\t\t\t\t\t})[0] || null;\n\t\t\t\t}\n\n\t\t\t\treturn all;\n\t\t\t}\n\t\t}\n\t});\n\n\t// Link primitive with its expressionText object\n\t// We need to do it before its constructor runs, to prevent any editing UI from being generated\n\tMavo.hooks.add(\"primitive-init-start\", function () {\n\t\tvar et = Mavo.DOMExpression.search(this.element, this.attribute);\n\n\t\tif (et && !et.mavoNode) {\n\t\t\tet.primitive = this;\n\t\t\tthis.storage = this.storage || \"none\";\n\t\t\tthis.modes = \"read\";\n\t\t}\n\t});\n})(Bliss);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Expressions = $.Class({\n\t\tconstructor: function constructor(mavo) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.mavo = mavo;\n\t\t\tthis.active = true;\n\n\t\t\tthis.expressions = [];\n\n\t\t\tvar syntax = Mavo.Expression.Syntax.create(this.mavo.element.closest(\"[mv-expressions]\")) || Mavo.Expression.Syntax.default;\n\t\t\tthis.traverse(this.mavo.element, undefined, syntax);\n\n\t\t\tthis.scheduled = new Set();\n\n\t\t\tthis.mavo.treeBuilt.then(function () {\n\t\t\t\t_this.expressions = [];\n\n\t\t\t\t// Watch changes and update value\n\t\t\t\t_this.mavo.element.addEventListener(\"mavo:datachange\", function (evt) {\n\t\t\t\t\tif (!_this.active) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (evt.action == \"propertychange\" && evt.node.closestCollection) {\n\t\t\t\t\t\t// Throttle propertychange events in collections\n\t\t\t\t\t\tif (!_this.scheduled.has(evt.property)) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t_this.scheduled.delete(evt.property);\n\t\t\t\t\t\t\t\t_this.update(evt);\n\t\t\t\t\t\t\t}, _.PROPERTYCHANGE_THROTTLE);\n\n\t\t\t\t\t\t\t_this.scheduled.add(evt.property);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\treturn _this.update(evt);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_this.update();\n\t\t\t});\n\t\t},\n\n\t\tupdate: function update(evt) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar root, rootGroup;\n\n\t\t\tif (evt instanceof Element) {\n\t\t\t\troot = evt.closest(Mavo.selectors.group);\n\t\t\t\tevt = null;\n\t\t\t}\n\n\t\t\troot = root || this.mavo.element;\n\t\t\trootGroup = Mavo.Node.get(root);\n\n\t\t\tvar data = rootGroup.getData({\n\t\t\t\trelative: true,\n\t\t\t\tstore: \"*\",\n\t\t\t\tnull: true\n\t\t\t});\n\n\t\t\trootGroup.walk(function (obj, path) {\n\t\t\t\tif (obj.expressions && obj.expressions.length && !obj.isDeleted()) {\n\t\t\t\t\tvar env = { context: _this2, data: $.value.apply($, [data].concat(_toConsumableArray(path))) };\n\n\t\t\t\t\tMavo.hooks.run(\"expressions-update-start\", env);\n\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator = obj.expressions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\tvar et = _step.value;\n\n\t\t\t\t\t\t\tif (et.changedBy(evt)) {\n\t\t\t\t\t\t\t\tet.update(env.data, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\textract: function extract(node, attribute, path, syntax) {\n\t\t\tif (attribute && attribute.name == \"mv-expressions\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (attribute && _.directives.indexOf(attribute.name) > -1 || syntax.test(attribute ? attribute.value : node.textContent)) {\n\t\t\t\tthis.expressions.push(new Mavo.DOMExpression({\n\t\t\t\t\tnode: node, syntax: syntax,\n\t\t\t\t\tpath: path ? path.slice(1).split(\"/\").map(function (i) {\n\t\t\t\t\t\treturn +i;\n\t\t\t\t\t}) : [],\n\t\t\t\t\tattribute: attribute && attribute.name,\n\t\t\t\t\tmavo: this.mavo\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\n\t\t// Traverse an element, including attribute nodes, text nodes and all descendants\n\t\ttraverse: function traverse(node) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\t\t\tvar syntax = arguments[2];\n\n\t\t\tif (node.nodeType === 8) {\n\t\t\t\t// We don't want expressions to be picked up from comments!\n\t\t\t\t// Commenting stuff out is a common debugging technique\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\t// Text node\n\t\t\t\t// Leaf node, extract references from content\n\t\t\t\tthis.extract(node, null, path, syntax);\n\t\t\t} else {\n\t\t\t\tnode.normalize();\n\n\t\t\t\tsyntax = Mavo.Expression.Syntax.create(node) || syntax;\n\n\t\t\t\tif (syntax === Mavo.Expression.Syntax.ESCAPE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (Mavo.is(\"multiple\", node)) {\n\t\t\t\t\tpath = \"\";\n\t\t\t\t}\n\n\t\t\t\t$$(node.attributes).forEach(function (attribute) {\n\t\t\t\t\treturn _this3.extract(node, attribute, path, syntax);\n\t\t\t\t});\n\t\t\t\t$$(node.childNodes).forEach(function (child, i) {\n\t\t\t\t\treturn _this3.traverse(child, path + \"/\" + i, syntax);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tdirectives: [],\n\n\t\t\tPROPERTYCHANGE_THROTTLE: 50,\n\n\t\t\tdirective: function directive(name, o) {\n\t\t\t\t_.directives.push(name);\n\t\t\t\tMavo.attributes.push(name);\n\n\t\t\t\tMavo.plugin(o);\n\t\t\t}\n\t\t}\n\t});\n\n\tMavo.hooks.add({\n\t\t\"init-tree-before\": function initTreeBefore() {\n\t\t\tthis.expressions = new Mavo.Expressions(this);\n\t\t},\n\t\t// Must be at a hook that collections don't have a marker yet which messes up paths\n\t\t\"node-init-end\": function nodeInitEnd() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar template = this.template;\n\n\t\t\tif (template && template.expressions) {\n\t\t\t\t// We know which expressions we have, don't traverse again\n\t\t\t\tthis.expressions = template.expressions.map(function (et) {\n\t\t\t\t\treturn new Mavo.DOMExpression({\n\t\t\t\t\t\ttemplate: et,\n\t\t\t\t\t\titem: _this4,\n\t\t\t\t\t\tmavo: _this4.mavo\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// TODO what about granular rendering?\n\t\t\"render-start\": function renderStart() {\n\t\t\tthis.expressions.active = false;\n\t\t},\n\t\t\"render-end\": function renderEnd() {\n\t\t\tthis.expressions.active = true;\n\t\t\tthis.expressions.update();\n\t\t},\n\t\t\"collection-add-end\": function collectionAddEnd(env) {\n\t\t\tvar _this5 = this;\n\n\t\t\tthis.mavo.treeBuilt.then(function () {\n\t\t\t\treturn _this5.mavo.expressions.update(env.item.element);\n\t\t\t});\n\t\t},\n\t\t\"node-getdata-end\": self.Proxy && function (env) {\n\t\t\tvar _this6 = this;\n\n\t\t\tif (env.options.relative && (env.data && _typeof(env.data) === \"object\" || this.collection)) {\n\t\t\t\tvar data = env.data;\n\n\t\t\t\tif (this instanceof Mavo.Primitive) {\n\t\t\t\t\tvar _env$data;\n\n\t\t\t\t\tenv.data = (_env$data = {}, _defineProperty(_env$data, Symbol.toPrimitive, function () {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}), _defineProperty(_env$data, this.property, data), _env$data);\n\t\t\t\t}\n\n\t\t\t\tenv.data = new Proxy(env.data, {\n\t\t\t\t\tget: function get(data, property, proxy) {\n\t\t\t\t\t\t// Checking if property is in proxy might add it to the data\n\t\t\t\t\t\tif (property in data || property in proxy && property in data) {\n\t\t\t\t\t\t\treturn data[property];\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\thas: function has(data, property) {\n\t\t\t\t\t\tif (property in data) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Property does not exist, look for it elsewhere\n\n\t\t\t\t\t\tif (property == \"$index\") {\n\t\t\t\t\t\t\tdata[property] = _this6.index || 0;\n\t\t\t\t\t\t\treturn true; // if index is 0 it's falsy and has would return false!\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (property == \"$all\") {\n\t\t\t\t\t\t\treturn data[property] = _this6.closestCollection ? _this6.closestCollection.getData(env.options) : [env.data];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (property == \"$next\" || property == \"$previous\") {\n\t\t\t\t\t\t\tif (_this6.closestCollection) {\n\t\t\t\t\t\t\t\treturn data[property] = _this6.closestCollection.getData(env.options)[_this6.index + (property == \"$next\" ? 1 : -1)];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdata[property] = null;\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (property == _this6.mavo.id) {\n\t\t\t\t\t\t\treturn data[property] = _this6.mavo.root.getData(env.options);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_this6 instanceof Mavo.Group && property == _this6.property && _this6.collection) {\n\t\t\t\t\t\t\treturn data[property] = env.data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// First look in ancestors\n\t\t\t\t\t\tvar ret = _this6.walkUp(function (group) {\n\t\t\t\t\t\t\tif (property in group.children) {\n\t\t\t\t\t\t\t\treturn group.children[property];\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (ret === undefined) {\n\t\t\t\t\t\t\t// Still not found, look in descendants\n\t\t\t\t\t\t\tret = _this6.find(property);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\t\tif (Array.isArray(ret)) {\n\t\t\t\t\t\t\t\tret = ret.map(function (item) {\n\t\t\t\t\t\t\t\t\treturn item.getData(env.options);\n\t\t\t\t\t\t\t\t}).filter(function (item) {\n\t\t\t\t\t\t\t\t\treturn item !== null;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (ret instanceof Mavo.Node) {\n\t\t\t\t\t\t\t\tret = ret.getData(env.options);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdata[property] = ret;\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\n\t\t\t\t\tset: function set(data, property, value) {\n\t\t\t\t\t\tthrow Error(\"You can’t set data via expressions.\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\n// mv-if plugin\n(function ($, $$) {\n\n\tMavo.Expressions.directive(\"mv-if\", {\n\t\textend: {\n\t\t\t\"Primitive\": {\n\t\t\t\tlive: {\n\t\t\t\t\t\"hidden\": function hidden(value) {\n\t\t\t\t\t\tif (this._hidden !== value) {\n\t\t\t\t\t\t\tthis._hidden = value;\n\t\t\t\t\t\t\tthis.dataChanged();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"DOMExpression\": {\n\t\t\t\tlazy: {\n\t\t\t\t\t\"childProperties\": function childProperties() {\n\t\t\t\t\t\tvar _this = this;\n\n\t\t\t\t\t\tif (this.attribute != \"mv-if\") {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar properties = $$(Mavo.selectors.property, this.element).filter(function (el) {\n\t\t\t\t\t\t\treturn el.closest(\"[mv-if]\") == _this.element;\n\t\t\t\t\t\t}).map(function (el) {\n\t\t\t\t\t\t\treturn Mavo.Node.get(el);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// When the element is detached, datachange events from properties\n\t\t\t\t\t\t// do not propagate up to the group so expressions do not recalculate.\n\t\t\t\t\t\t// We must do this manually.\n\t\t\t\t\t\tthis.element.addEventListener(\"mavo:datachange\", function (evt) {\n\t\t\t\t\t\t\t// Cannot redispatch synchronously [why??]\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tif (!_this.element.parentNode) {\n\t\t\t\t\t\t\t\t\t// out of the DOM?\n\t\t\t\t\t\t\t\t\t_this.item.element.dispatchEvent(evt);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn properties;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thooks: {\n\t\t\t\"domexpression-init-start\": function domexpressionInitStart() {\n\t\t\t\tif (this.attribute != \"mv-if\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.expression = this.element.getAttribute(\"mv-if\");\n\t\t\t\tthis.parsed = [new Mavo.Expression(this.expression)];\n\t\t\t\tthis.expression = this.syntax.start + this.expression + this.syntax.end;\n\n\t\t\t\tthis.parentIf = this.element.parentNode && Mavo.DOMExpression.search(this.element.parentNode.closest(\"[mv-if]\"), \"mv-if\");\n\n\t\t\t\tif (this.parentIf) {\n\t\t\t\t\tthis.parentIf.childIfs = (this.parentIf.childIfs || new Set()).add(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"domexpression-update-end\": function domexpressionUpdateEnd() {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tif (this.attribute != \"mv-if\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar value = this.value[0];\n\t\t\t\tvar oldValue = this.oldValue[0];\n\n\t\t\t\t// Only apply this after the tree is built, otherwise any properties inside the if will go missing!\n\t\t\t\tthis.item.mavo.treeBuilt.then(function () {\n\t\t\t\t\tif (_this2.parentIf) {\n\t\t\t\t\t\tvar parentValue = _this2.parentIf.value[0];\n\t\t\t\t\t\t_this2.value[0] = value = value && parentValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (value === oldValue) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentValue !== false) {\n\t\t\t\t\t\t// If parent if was false, it wouldn't matter whether this is in the DOM or not\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t// Is removed from the DOM and needs to get back\n\t\t\t\t\t\t\tMavo.revocably.add(_this2.element);\n\t\t\t\t\t\t} else if (_this2.element.parentNode) {\n\t\t\t\t\t\t\t// Is in the DOM and needs to be removed\n\t\t\t\t\t\t\tMavo.revocably.remove(_this2.element, \"mv-if\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Mark any properties inside as hidden or not\n\t\t\t\t\tif (_this2.childProperties) {\n\t\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator = _this2.childProperties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\t\tvar property = _step.value;\n\n\t\t\t\t\t\t\t\tproperty.hidden = !value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_this2.childIfs) {\n\t\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator2 = _this2.childIfs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\t\tvar childIf = _step2.value;\n\n\t\t\t\t\t\t\t\tchildIf.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\"unit-isdatanull\": function unitIsdatanull(env) {\n\t\t\t\tenv.result = env.result || this.hidden && env.options.store == \"*\";\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// mv-value plugin\nMavo.Expressions.directive(\"mv-value\", {\n\thooks: {\n\t\t\"node-init-start\": function nodeInitStart() {\n\t\t\tif (!(this instanceof Mavo.Group || this.collection)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar et = Mavo.DOMExpression.search(this.element).filter(function (et) {\n\t\t\t\treturn et.originalAttribute == \"mv-value\";\n\t\t\t})[0];\n\n\t\t\tif (!et) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tet.mavoNode = this;\n\t\t\tthis.storage = this.storage || \"none\";\n\t\t\tthis.modes = \"read\";\n\n\t\t\tif (this.collection) {\n\t\t\t\tthis.collection.expressions = [].concat(_toConsumableArray(this.collection.expressions || []), [et]);\n\t\t\t\tet.mavoNode = this.collection;\n\t\t\t\tthis.collection.storage = this.collection.storage || \"none\";\n\t\t\t\tthis.collection.modes = \"read\";\n\t\t\t}\n\t\t},\n\t\t\"domexpression-init-start\": function domexpressionInitStart() {\n\t\t\tif (this.attribute != \"mv-value\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.originalAttribute = \"mv-value\";\n\t\t\tthis.attribute = Mavo.Primitive.getValueAttribute(this.element);\n\t\t\tthis.fallback = this.fallback || Mavo.Primitive.getValue(this.element, { attribute: this.attribute });\n\t\t\tthis.expression = this.element.getAttribute(\"mv-value\");\n\t\t\tthis.element.removeAttribute(\"mv-value\");\n\n\t\t\tthis.parsed = [new Mavo.Expression(this.expression)];\n\t\t\tthis.expression = this.syntax.start + this.expression + this.syntax.end;\n\t\t},\n\t\t\"domexpression-init-treebuilt\": function domexpressionInitTreebuilt() {\n\t\t\tif (this.originalAttribute != \"mv-value\" || !this.mavoNode || !(this.mavoNode == this.item || this.mavoNode == this.item.collection)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.mavoNode == this.item.collection) {\n\t\t\t\tMavo.delete(this.item.expressions, this);\n\t\t\t}\n\n\t\t\tthis.output = function (value) {\n\t\t\t\tvalue = value.value || value;\n\n\t\t\t\tthis.mavoNode.render(value);\n\t\t\t};\n\n\t\t\tthis.changedBy = function (evt) {\n\t\t\t\treturn true;\n\t\t\t};\n\t\t},\n\t\t\"domexpression-update-start\": function domexpressionUpdateStart() {\n\t\t\tif (this.originalAttribute != \"mv-value\" || this.mavoNode != this.item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n});\n\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * Functions available inside Mavo expressions\n */\n\n(function () {\n\n\tvar _ = Mavo.Functions = {\n\t\toperators: {\n\t\t\t\"=\": \"eq\"\n\t\t},\n\n\t\tget $now() {\n\t\t\treturn new Date();\n\t\t},\n\n\t\turlOption: function urlOption() {\n\t\t\tvar searchParams = \"searchParams\" in URL.prototype ? new URL(location).searchParams : null;\n\t\t\tvar value = null;\n\n\t\t\tfor (var _len = arguments.length, names = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\tnames[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = names[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar name = _step.value;\n\n\t\t\t\t\tif (searchParams) {\n\t\t\t\t\t\tvalue = searchParams.get(name);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar match = location.search.match(RegExp(\"[?&]\" + name + \"(?:=([^&]+))?(?=&|$)\", \"i\"));\n\t\t\t\t\t\tvalue = match && (match[1] || \"\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (value !== null) {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n   * Get a property of an object. Used by the . operator to prevent TypeErrors\n   */\n\t\tget: function get(obj, property) {\n\t\t\treturn obj && obj[property] !== undefined ? obj[property] : null;\n\t\t},\n\n\t\tunique: function unique(arr) {\n\t\t\treturn [].concat(_toConsumableArray(new Set(arr)));\n\t\t},\n\n\t\t/*********************\n   * Number functions\n   *********************/\n\n\t\t/**\n   * Aggregate sum\n   */\n\t\tsum: function sum(array) {\n\t\t\treturn numbers(array, arguments).reduce(function (prev, current) {\n\t\t\t\treturn +prev + (+current || 0);\n\t\t\t}, 0);\n\t\t},\n\n\t\t/**\n   * Average of an array of numbers\n   */\n\t\taverage: function average(array) {\n\t\t\tarray = numbers(array, arguments);\n\n\t\t\treturn array.length && _.sum(array) / array.length;\n\t\t},\n\n\t\t/**\n   * Min of an array of numbers\n   */\n\t\tmin: function min(array) {\n\t\t\treturn Math.min.apply(Math, _toConsumableArray(numbers(array, arguments)));\n\t\t},\n\n\t\t/**\n   * Max of an array of numbers\n   */\n\t\tmax: function max(array) {\n\t\t\treturn Math.max.apply(Math, _toConsumableArray(numbers(array, arguments)));\n\t\t},\n\n\t\tcount: function count(array) {\n\t\t\treturn Mavo.toArray(array).filter(function (a) {\n\t\t\t\treturn a !== null && a !== false && a !== \"\";\n\t\t\t}).length;\n\t\t},\n\n\t\tround: function round(num, decimals) {\n\t\t\tif (!num || !decimals || !isFinite(num)) {\n\t\t\t\treturn Math.round(num);\n\t\t\t}\n\n\t\t\treturn +num.toLocaleString(\"en-US\", {\n\t\t\t\tuseGrouping: false,\n\t\t\t\tmaximumFractionDigits: decimals\n\t\t\t});\n\t\t},\n\n\t\tiff: function iff(condition, iftrue) {\n\t\t\tvar iffalse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n\n\t\t\tif (Array.isArray(condition)) {\n\t\t\t\treturn condition.map(function (c, i) {\n\t\t\t\t\tvar ret = c ? iftrue : iffalse;\n\n\t\t\t\t\tif (Array.isArray(ret)) {\n\t\t\t\t\t\treturn ret[Math.min(i, ret.length - 1)];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ret;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn condition ? iftrue : iffalse;\n\t\t},\n\n\t\t/*********************\n   * String functions\n   *********************/\n\n\t\t/**\n   * Replace all occurences of a string with another string\n   */\n\t\treplace: function replace(haystack, needle) {\n\t\t\tvar replacement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n\t\t\tvar iterations = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n\t\t\tif (Array.isArray(haystack)) {\n\t\t\t\treturn haystack.map(function (item) {\n\t\t\t\t\treturn _.replace(item, needle, replacement);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Simple string replacement\n\t\t\tvar needleRegex = RegExp(Mavo.escapeRegExp(needle), \"g\");\n\t\t\tvar ret = haystack,\n\t\t\t    prev;\n\t\t\tvar counter = 0;\n\n\t\t\twhile (ret != prev && counter++ < iterations) {\n\t\t\t\tprev = ret;\n\t\t\t\tret = ret.replace(needleRegex, replacement);\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t},\n\n\t\tlen: function len(str) {\n\t\t\treturn (str || \"\").length;\n\t\t},\n\t\t/**\n   * Case insensitive search\n   */\n\t\tsearch: function search(haystack, needle) {\n\t\t\treturn haystack && needle ? haystack.toLowerCase().indexOf(needle.toLowerCase()) : -1;\n\t\t},\n\n\t\tstarts: function starts(haystack, needle) {\n\t\t\treturn _.search(haystack, needle) === 0;\n\t\t},\n\t\tends: function ends(haystack, needle) {\n\t\t\tvar i = _.search(haystack, needle);\n\t\t\treturn i > -1 && i === haystack.length - needle.length;\n\t\t},\n\n\t\tjoin: function join(array) {\n\t\t\tvar glue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n\t\t\treturn Mavo.toArray(array).join(glue);\n\t\t},\n\n\t\tidify: function idify(readable) {\n\t\t\treturn ((readable || \"\") + \"\").replace(/\\s+/g, \"-\") // Convert whitespace to hyphens\n\t\t\t.replace(/[^\\w-]/g, \"\") // Remove weird characters\n\t\t\t.toLowerCase();\n\t\t},\n\n\t\t// Convert an identifier to readable text that can be used as a label\n\t\treadable: function readable(identifier) {\n\t\t\t// Is it camelCase?\n\t\t\treturn identifier && identifier.replace(/([a-z])([A-Z])(?=[a-z])/g, function ($0, $1, $2) {\n\t\t\t\treturn $1 + \" \" + $2.toLowerCase();\n\t\t\t}) // camelCase?\n\t\t\t.replace(/([a-z])[_\\/-](?=[a-z])/g, \"$1 \") // Hyphen-separated / Underscore_separated?\n\t\t\t.replace(/^[a-z]/, function ($0) {\n\t\t\t\treturn $0.toUpperCase();\n\t\t\t}); // Capitalize\n\t\t},\n\n\t\tuppercase: function uppercase(str) {\n\t\t\treturn (str + \"\").toUpperCase();\n\t\t},\n\t\tlowercase: function lowercase(str) {\n\t\t\treturn (str + \"\").toLowerCase();\n\t\t}\n\t};\n\n\tMavo.Script = {\n\t\taddUnaryOperator: function addUnaryOperator(name, o) {\n\t\t\treturn function (operand) {\n\t\t\t\treturn Array.isArray(operand) ? operand.map(o.scalar) : o.scalar(operand);\n\t\t\t};\n\t\t},\n\n\t\t/**\n   * Extend a scalar operator to arrays, or arrays and scalars\n   * The operation between arrays is applied element-wise.\n   * The operation operation between a scalar and an array will result in\n   * the operation being applied between the scalar and every array element.\n   */\n\t\taddBinaryOperator: function addBinaryOperator(name, o) {\n\t\t\tif (o.symbol) {\n\t\t\t\t// Build map of symbols to function names for easy rewriting\n\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator2 = Mavo.toArray(o.symbol)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\tvar symbol = _step2.value;\n\n\t\t\t\t\t\tMavo.Script.symbols[symbol] = name;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.identity = o.identity === undefined ? 0 : o.identity;\n\n\t\t\treturn _[name] = o.code || function () {\n\t\t\t\tfor (var _len2 = arguments.length, operands = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\toperands[_key2] = arguments[_key2];\n\t\t\t\t}\n\n\t\t\t\tif (operands.length === 1) {\n\t\t\t\t\tif (Array.isArray(operands[0])) {\n\t\t\t\t\t\t// Operand is an array of operands, expand it out\n\t\t\t\t\t\toperands = [].concat(_toConsumableArray(operands[0]));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar prev = o.logical ? o.identity : operands[0],\n\t\t\t\t    result;\n\n\t\t\t\tvar _loop = function _loop(i) {\n\t\t\t\t\tvar a = o.logical ? operands[i - 1] : prev;\n\t\t\t\t\tvar b = operands[i];\n\n\t\t\t\t\tif (Array.isArray(b)) {\n\t\t\t\t\t\tif (typeof o.identity == \"number\") {\n\t\t\t\t\t\t\tb = numbers(b);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Array.isArray(a)) {\n\t\t\t\t\t\t\tresult = [].concat(_toConsumableArray(b.map(function (n, i) {\n\t\t\t\t\t\t\t\treturn o.scalar(a[i] === undefined ? o.identity : a[i], n);\n\t\t\t\t\t\t\t})), _toConsumableArray(a.slice(b.length)));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult = b.map(function (n) {\n\t\t\t\t\t\t\t\treturn o.scalar(a, n);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Operand is scalar\n\t\t\t\t\t\tif (typeof o.identity == \"number\") {\n\t\t\t\t\t\t\tb = +b;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Array.isArray(a)) {\n\t\t\t\t\t\t\tresult = a.map(function (n) {\n\t\t\t\t\t\t\t\treturn o.scalar(n, b);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult = o.scalar(a, b);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (o.reduce) {\n\t\t\t\t\t\tprev = o.reduce(prev, result, a, b);\n\t\t\t\t\t} else if (o.logical) {\n\t\t\t\t\t\tprev = prev && result;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprev = result;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tfor (var i = 1; i < operands.length; i++) {\n\t\t\t\t\t_loop(i);\n\t\t\t\t}\n\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t},\n\n\t\t/**\n   * Mapping of operator symbols to function name.\n   * Populated via addOperator() and addLogicalOperator()\n   */\n\t\tsymbols: {},\n\n\t\tgetOperatorName: function getOperatorName(op) {\n\t\t\treturn Mavo.Script.symbols[op] || op;\n\t\t},\n\n\t\t/**\n   * Operations for elements and scalars.\n   * Operations between arrays happen element-wise.\n   * Operations between a scalar and an array will result in the operation being performed between the scalar and every array element.\n   * Ordered by precedence (higher to lower)\n   * @param scalar {Function} The operation between two scalars\n   * @param identity The operation’s identity element. Defaults to 0.\n   */\n\t\toperators: {\n\t\t\t\"not\": {\n\t\t\t\tscalar: function scalar(a) {\n\t\t\t\t\treturn function (a) {\n\t\t\t\t\t\treturn !a;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"multiply\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a * b;\n\t\t\t\t},\n\t\t\t\tidentity: 1,\n\t\t\t\tsymbol: \"*\"\n\t\t\t},\n\t\t\t\"divide\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a / b;\n\t\t\t\t},\n\t\t\t\tidentity: 1,\n\t\t\t\tsymbol: \"/\"\n\t\t\t},\n\t\t\t\"add\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn +a + +b;\n\t\t\t\t},\n\t\t\t\tsymbol: \"+\"\n\t\t\t},\n\t\t\t\"subtract\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t},\n\t\t\t\tsymbol: \"-\"\n\t\t\t},\n\t\t\t\"mod\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a % b;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"lte\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer2 = _slicedToArray(_Mavo$Script$getNumer, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer2[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer2[1];\n\n\t\t\t\t\treturn a <= b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \"<=\"\n\t\t\t},\n\t\t\t\"lt\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer3 = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer4 = _slicedToArray(_Mavo$Script$getNumer3, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer4[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer4[1];\n\n\t\t\t\t\treturn a < b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \"<\"\n\t\t\t},\n\t\t\t\"gte\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer5 = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer6 = _slicedToArray(_Mavo$Script$getNumer5, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer6[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer6[1];\n\n\t\t\t\t\treturn a >= b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \">=\"\n\t\t\t},\n\t\t\t\"gt\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer7 = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer8 = _slicedToArray(_Mavo$Script$getNumer7, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer8[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer8[1];\n\n\t\t\t\t\treturn a > b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \">\"\n\t\t\t},\n\t\t\t\"eq\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a == b;\n\t\t\t\t},\n\t\t\t\tsymbol: [\"=\", \"==\"],\n\t\t\t\tidentity: true\n\t\t\t},\n\t\t\t\"neq\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a != b;\n\t\t\t\t},\n\t\t\t\tsymbol: [\"!=\"],\n\t\t\t\tidentity: true\n\t\t\t},\n\t\t\t\"and\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn !!a && !!b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \"&&\"\n\t\t\t},\n\t\t\t\"or\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn !!a || !!b;\n\t\t\t\t},\n\t\t\t\treduce: function reduce(p, r) {\n\t\t\t\t\treturn p || r;\n\t\t\t\t},\n\t\t\t\tidentity: false,\n\t\t\t\tsymbol: \"||\"\n\t\t\t},\n\t\t\t\"concatenate\": {\n\t\t\t\tsymbol: \"&\",\n\t\t\t\tidentity: \"\",\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn \"\" + a + b;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn b ? a : null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetNumericalOperands: function getNumericalOperands(a, b) {\n\t\t\tif (isNaN(a) || isNaN(b)) {\n\t\t\t\t// Try comparing as dates\n\t\t\t\tvar da = new Date(a),\n\t\t\t\t    db = new Date(b);\n\n\t\t\t\tif (!isNaN(da) && !isNaN(db)) {\n\t\t\t\t\t// Both valid dates\n\t\t\t\t\treturn [da, db];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [a, b];\n\t\t}\n\t};\n\n\tfor (var name in Mavo.Script.operators) {\n\t\tvar details = Mavo.Script.operators[name];\n\n\t\tif (details.scalar.length < 2) {\n\t\t\tMavo.Script.addUnaryOperator(name, details);\n\t\t} else {\n\t\t\tMavo.Script.addBinaryOperator(name, details);\n\t\t}\n\t}\n\n\tvar aliases = {\n\t\taverage: \"avg\",\n\t\tiff: \"iff IF\",\n\t\tsubtract: \"minus\",\n\t\tmultiply: \"mult product\",\n\t\tdivide: \"div\",\n\t\tlt: \"lessThan smaller\",\n\t\tgt: \"moreThan greater greaterThan bigger\",\n\t\teq: \"equal equality\"\n\t};\n\n\tvar _loop2 = function _loop2(_name) {\n\t\taliases[_name].split(/\\s+/g).forEach(function (alias) {\n\t\t\treturn _[alias] = _[_name];\n\t\t});\n\t};\n\n\tfor (var _name in aliases) {\n\t\t_loop2(_name);\n\t}\n\n\t// Make function names case insensitive\n\tMavo.Functions._Trap = self.Proxy ? new Proxy(_, {\n\t\tget: function get(functions, property) {\n\t\t\tif (property in functions) {\n\t\t\t\treturn functions[property];\n\t\t\t}\n\n\t\t\tvar propertyL = property.toLowerCase && property.toLowerCase();\n\n\t\t\tif (propertyL && functions.hasOwnProperty(propertyL)) {\n\t\t\t\treturn functions[propertyL];\n\t\t\t}\n\n\t\t\tif (property in Math || propertyL in Math) {\n\t\t\t\treturn Math[property] || Math[propertyL];\n\t\t\t}\n\n\t\t\tif (property in self) {\n\t\t\t\treturn self[property];\n\t\t\t}\n\n\t\t\t// Prevent undefined at all costs\n\t\t\treturn property;\n\t\t},\n\n\t\t// Super ugly hack, but otherwise data is not\n\t\t// the local variable it should be, but the string \"data\"\n\t\t// so all property lookups fail.\n\t\thas: function has(functions, property) {\n\t\t\treturn property != \"data\";\n\t\t}\n\t}) : Mavo.Functions;\n\n\t/**\n  * Private helper methods\n  */\n\tfunction numbers(array, args) {\n\t\tarray = Array.isArray(array) ? array : args ? $$(args) : [array];\n\n\t\treturn array.filter(function (number) {\n\t\t\treturn !isNaN(number) && number !== \"\";\n\t\t}).map(function (n) {\n\t\t\treturn +n;\n\t\t});\n\t}\n})();\n\"use strict\";\n\n(function ($) {\n\n\tif (!self.Mavo) {\n\t\treturn;\n\t}\n\n\tvar dropboxURL = \"//cdnjs.cloudflare.com/ajax/libs/dropbox.js/0.10.2/dropbox.min.js\";\n\n\tMavo.Backend.register($.Class({\n\t\textends: Mavo.Backend,\n\t\tid: \"Dropbox\",\n\t\tconstructor: function constructor() {\n\t\t\tvar _this = this;\n\n\t\t\t// Transform the dropbox shared URL into something raw and CORS-enabled\n\t\t\tthis.url = new URL(this.url, location);\n\n\t\t\tif (this.url.protocol != \"dropbox:\") {\n\t\t\t\tthis.url.hostname = \"dl.dropboxusercontent.com\";\n\t\t\t\tthis.url.search = this.url.search.replace(/\\bdl=0|^$/, \"raw=1\");\n\t\t\t\tthis.permissions.on(\"read\"); // TODO check if file actually is publicly readable\n\t\t\t}\n\n\t\t\tthis.permissions.on(\"login\");\n\n\t\t\tthis.ready = $.include(self.Dropbox, dropboxURL).then(function () {\n\t\t\t\tvar referrer = new URL(document.referrer, location);\n\n\t\t\t\tif (referrer.hostname === \"www.dropbox.com\" && location.hash.indexOf(\"#access_token=\") === 0) {\n\t\t\t\t\t// We’re in an OAuth response popup, do what you need then close this\n\t\t\t\t\tDropbox.AuthDriver.Popup.oauthReceiver();\n\t\t\t\t\t$.fire(window, \"load\"); // hack because dropbox.js didn't foresee use cases like ours :/\n\t\t\t\t\tclose();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_this.path = (_this.mavo.element.getAttribute(\"mv-dropbox-path\") || \"\") + new URL(_this.url).pathname.match(/[^/]*$/)[0];\n\n\t\t\t\t_this.key = _this.mavo.element.getAttribute(\"mv-dropbox-key\") || \"fle6gsc61w5v79j\";\n\n\t\t\t\t_this.client = new Dropbox.Client({ key: _this.key });\n\t\t\t}).then(function () {\n\t\t\t\t_this.login(true);\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Saves a file to the backend.\n   * @param {Object} file - An object with name & data keys\n   * @return {Promise} A promise that resolves when the file is saved.\n   */\n\t\tput: function put() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar file = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getFile();\n\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t_this2.client.writeFile(file.name, file.dataString, function (error, stat) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treturn reject(Error(error));\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log(\"File saved as revision \" + stat.versionTag);\n\t\t\t\t\tresolve(file);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(passive) {\n\t\t\tvar _this3 = this;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\treturn _this3.client.isAuthenticated() ? Promise.resolve() : new Promise(function (resolve, reject) {\n\t\t\t\t\t_this3.client.authDriver(new Dropbox.AuthDriver.Popup({\n\t\t\t\t\t\treceiverUrl: new URL(location) + \"\"\n\t\t\t\t\t}));\n\n\t\t\t\t\t_this3.client.authenticate({ interactive: !passive }, function (error, client) {\n\n\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\treject(Error(error));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_this3.client.isAuthenticated()) {\n\t\t\t\t\t\t\t// TODO check if can actually edit the file\n\t\t\t\t\t\t\t_this3.permissions.on([\"logout\", \"edit\"]);\n\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this3.permissions.off([\"logout\", \"edit\", \"add\", \"delete\"]);\n\n\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}).then(function () {\n\t\t\t\t// Not returning a promise here, since processes depending on login don't need to wait for this\n\t\t\t\t_this3.client.getAccountInfo(function (error, accountInfo) {\n\t\t\t\t\tif (!error) {\n\t\t\t\t\t\t$.fire(_this3.mavo.element, \"mavo:login\", $.extend({ backend: _this3 }, accountInfo));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}).catch(function () {});\n\t\t},\n\n\t\tlogout: function logout() {\n\t\t\tvar _this4 = this;\n\n\t\t\treturn !this.client.isAuthenticated() ? Promise.resolve() : new Promise(function (resolve, reject) {\n\t\t\t\t_this4.client.signOut(null, function () {\n\t\t\t\t\t_this4.permissions.off([\"edit\", \"add\", \"delete\"]).on(\"login\");\n\n\t\t\t\t\t_this4.mavo.element._.fire(\"mavo:logout\", { backend: _this4 });\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(url) {\n\t\t\t\turl = new URL(url, location);\n\t\t\t\treturn (/dropbox.com/.test(url.host) || url.protocol === \"dropbox:\"\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}));\n})(Bliss);\n\"use strict\";\n\n(function ($) {\n\n\tif (!self.Mavo) {\n\t\treturn;\n\t}\n\n\tvar _ = Mavo.Backend.register($.Class({\n\t\textends: Mavo.Backend,\n\t\tid: \"Github\",\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on(\"login\");\n\n\t\t\tthis.key = this.mavo.element.getAttribute(\"mv-github-key\") || \"7e08e016048000bc594e\";\n\n\t\t\t// Extract info for username, repo, branch, filepath from URL\n\t\t\tvar parsedURL = _.parseURL(this.url);\n\n\t\t\tif (parsedURL.username) {\n\t\t\t\t$.extend(this, parsedURL);\n\t\t\t\tthis.repo = this.repo || \"mv-data\";\n\t\t\t\tthis.branch = this.branch || \"master\";\n\t\t\t\tthis.path = this.path || this.mavo.id + \".json\";\n\t\t\t\tthis.apiCall = \"repos/\" + this.username + \"/\" + this.repo + \"/contents/\" + this.path;\n\t\t\t} else {\n\t\t\t\tthis.apiCall = this.url.pathname.slice(1);\n\t\t\t}\n\n\t\t\tthis.permissions.on(\"read\");\n\n\t\t\tthis.login(true);\n\t\t},\n\n\t\tget authenticated() {\n\t\t\treturn !!this.accessToken;\n\t\t},\n\n\t\t/**\n   * Helper method to make a request with the Github API\n   */\n\t\treq: function req(call, data) {\n\t\t\tvar _this = this;\n\n\t\t\tvar method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"GET\";\n\t\t\tvar o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : { method: method };\n\n\t\t\tif (data) {\n\t\t\t\to.data = JSON.stringify(data);\n\t\t\t}\n\n\t\t\tvar request = $.extend(o, {\n\t\t\t\tresponseType: \"json\"\n\t\t\t});\n\n\t\t\tif (this.authenticated) {\n\t\t\t\trequest.headers = {\n\t\t\t\t\t\"Authorization\": \"token \" + this.accessToken\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn $.fetch(_.apiDomain + call, request).catch(function (err) {\n\t\t\t\tif (err && err.xhr) {\n\t\t\t\t\treturn Promise.reject(err.xhr);\n\t\t\t\t} else {\n\t\t\t\t\t_this.mavo.error(\"Something went wrong while connecting to Github\", err);\n\t\t\t\t}\n\t\t\t}).then(function (xhr) {\n\t\t\t\treturn Promise.resolve(xhr.response);\n\t\t\t});\n\t\t},\n\n\t\tget: function get() {\n\t\t\tvar _this2 = this;\n\n\t\t\treturn this.req(this.apiCall).then(function (response) {\n\t\t\t\treturn Promise.resolve(_this2.repo ? _.atob(response.content) : response);\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Saves a file to the backend.\n   * @param {String} serialized - Serialized data\n   * @param {String} path - Optional file path\n   * @return {Promise} A promise that resolves when the file is saved.\n   */\n\t\tput: function put(serialized, path) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar fileCall = path ? \"repos/\" + this.username + \"/\" + this.repo + \"/contents/\" + path : this.apiCall;\n\n\t\t\treturn Promise.resolve(this.repoInfo || this.req(\"user/repos\", {\n\t\t\t\tname: this.repo\n\t\t\t}, \"POST\")).then(function (repoInfo) {\n\t\t\t\t_this3.repoInfo = repoInfo;\n\n\t\t\t\treturn _this3.req(fileCall, {\n\t\t\t\t\tref: _this3.branch\n\t\t\t\t});\n\t\t\t}).then(function (fileInfo) {\n\t\t\t\treturn _this3.req(fileCall, {\n\t\t\t\t\tmessage: \"Updated \" + (fileInfo.name || \"file\"),\n\t\t\t\t\tcontent: _.btoa(serialized),\n\t\t\t\t\tbranch: _this3.branch,\n\t\t\t\t\tsha: fileInfo.sha\n\t\t\t\t}, \"PUT\");\n\t\t\t}, function (xhr) {\n\t\t\t\tif (xhr.status == 404) {\n\t\t\t\t\t// File does not exist, create it\n\t\t\t\t\treturn _this3.req(fileCall, {\n\t\t\t\t\t\tmessage: \"Created file\",\n\t\t\t\t\t\tcontent: _.btoa(serialized),\n\t\t\t\t\t\tbranch: _this3.branch\n\t\t\t\t\t}, \"PUT\");\n\t\t\t\t}\n\n\t\t\t\treturn xhr;\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(passive) {\n\t\t\tvar _this4 = this;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\tif (_this4.authenticated) {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tif (passive) {\n\t\t\t\t\t\t_this4.accessToken = localStorage[\"mavo:githubtoken\"];\n\n\t\t\t\t\t\tif (_this4.accessToken) {\n\t\t\t\t\t\t\tresolve(_this4.accessToken);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Show window\n\t\t\t\t\t\tvar popup = {\n\t\t\t\t\t\t\twidth: Math.min(1000, innerWidth - 100),\n\t\t\t\t\t\t\theight: Math.min(800, innerHeight - 100)\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpopup.top = (innerHeight - popup.height) / 2 + (screen.top || screenTop);\n\t\t\t\t\t\tpopup.left = (innerWidth - popup.width) / 2 + (screen.left || screenLeft);\n\n\t\t\t\t\t\t_this4.authPopup = open(\"https://github.com/login/oauth/authorize?client_id=\" + _this4.key + \"&scope=repo,gist&state=\" + location.href, \"popup\", \"width=\" + popup.width + \",height=\" + popup.height + \",left=\" + popup.left + \",top=\" + popup.top);\n\n\t\t\t\t\t\taddEventListener(\"message\", function (evt) {\n\t\t\t\t\t\t\tif (evt.source === _this4.authPopup) {\n\t\t\t\t\t\t\t\t_this4.accessToken = localStorage[\"mavo:githubtoken\"] = evt.data;\n\n\t\t\t\t\t\t\t\tif (!_this4.accessToken) {\n\t\t\t\t\t\t\t\t\treject(Error(\"Authentication error\"));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tresolve(_this4.accessToken);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).then(function () {\n\t\t\t\t\treturn _this4.getUser();\n\t\t\t\t}).catch(function (xhr) {\n\t\t\t\t\tif (xhr.status == 401) {\n\t\t\t\t\t\t// Unauthorized. Access token we have is invalid, discard it\n\t\t\t\t\t\t_this4.logout();\n\t\t\t\t\t}\n\t\t\t\t}).then(function (u) {\n\t\t\t\t\tif (_this4.user) {\n\t\t\t\t\t\t_this4.permissions.on(\"logout\");\n\n\t\t\t\t\t\tif (_this4.repo) {\n\t\t\t\t\t\t\treturn _this4.req(\"repos/\" + _this4.username + \"/\" + _this4.repo).then(function (repoInfo) {\n\t\t\t\t\t\t\t\t_this4.repoInfo = repoInfo;\n\n\t\t\t\t\t\t\t\tif (repoInfo.permissions.push) {\n\t\t\t\t\t\t\t\t\t_this4.permissions.on([\"edit\", \"save\"]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}).catch(function (xhr) {\n\t\t\t\t\t\t\t\tif (xhr.status == 404) {\n\t\t\t\t\t\t\t\t\t// Repo does not exist so we can't check permissions\n\t\t\t\t\t\t\t\t\t// Just check if authenticated user is the same as our URL username\n\t\t\t\t\t\t\t\t\tif (_this4.user.login.toLowerCase() == _this4.username.toLowerCase()) {\n\t\t\t\t\t\t\t\t\t\t_this4.permissions.on([\"edit\", \"save\"]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tlogout: function logout() {\n\t\t\tif (this.authenticated) {\n\t\t\t\tlocalStorage.removeItem(\"mavo:githubtoken\");\n\t\t\t\tdelete this.accessToken;\n\n\t\t\t\tthis.permissions.off([\"edit\", \"add\", \"delete\", \"save\"]).on(\"login\");\n\n\t\t\t\tthis.mavo.element._.fire(\"mavo:logout\", { backend: this });\n\t\t\t}\n\n\t\t\treturn Promise.resolve();\n\t\t},\n\n\t\tgetUser: function getUser() {\n\t\t\tvar _this5 = this;\n\n\t\t\treturn this.req(\"user\").then(function (accountInfo) {\n\t\t\t\t_this5.user = accountInfo;\n\n\t\t\t\tvar name = accountInfo.name || accountInfo.login;\n\t\t\t\t$.fire(_this5.mavo.element, \"mavo:login\", {\n\t\t\t\t\tbackend: _this5,\n\t\t\t\t\tname: \"<a href=\\\"https://github.com/\" + accountInfo.login + \"\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\\t<img class=\\\"mv-avatar\\\" src=\\\"\" + accountInfo.avatar_url + \"\\\" /> \" + name + \"\\n\\t\\t\\t\\t\\t\\t</a>\"\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tstatic: {\n\t\t\tapiDomain: \"https://api.github.com/\",\n\n\t\t\ttest: function test(url) {\n\t\t\t\turl = new URL(url, location);\n\t\t\t\treturn (/\\bgithub.com|raw.githubusercontent.com/.test(url.host)\n\t\t\t\t);\n\t\t\t},\n\n\t\t\t/**\n    * Parse Github URLs, return username, repo, branch, path\n    */\n\t\t\tparseURL: function parseURL(url) {\n\t\t\t\tvar ret = {};\n\n\t\t\t\turl = new URL(url, location);\n\n\t\t\t\tvar path = url.pathname.slice(1).split(\"/\");\n\n\t\t\t\tret.username = path.shift();\n\t\t\t\tret.repo = path.shift();\n\n\t\t\t\tif (/raw.githubusercontent.com$/.test(url.host)) {\n\t\t\t\t\tret.branch = path.shift();\n\t\t\t\t} else if (/api.github.com$/.test(url.host)) {\n\t\t\t\t\t// raw API call, stop parsing and just return\n\t\t\t\t\treturn {};\n\t\t\t\t} else if (/github.com$/.test(url.host) && path[0] == \"blob\") {\n\t\t\t\t\tpath.shift();\n\t\t\t\t\tret.branch = path.shift();\n\t\t\t\t}\n\n\t\t\t\tret.path = path.join(\"/\");\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Fix atob() and btoa() so they can handle Unicode\n\t\t\tbtoa: function (_btoa) {\n\t\t\t\tfunction btoa(_x3) {\n\t\t\t\t\treturn _btoa.apply(this, arguments);\n\t\t\t\t}\n\n\t\t\t\tbtoa.toString = function () {\n\t\t\t\t\treturn _btoa.toString();\n\t\t\t\t};\n\n\t\t\t\treturn btoa;\n\t\t\t}(function (str) {\n\t\t\t\treturn btoa(unescape(encodeURIComponent(str)));\n\t\t\t}),\n\t\t\tatob: function atob(str) {\n\t\t\t\treturn decodeURIComponent(escape(window.atob(str)));\n\t\t\t}\n\t\t}\n\t}));\n})(Bliss);\n//# sourceMappingURL=maps/mavo.es5.js.map\n"]}