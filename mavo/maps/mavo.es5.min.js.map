{"version":3,"sources":["mavo.es5.js"],"names":["t","e","r","s","arguments","length","n","type","apply","i","o","Array","from","splice","Object","getOwnPropertyDescriptor","writable","configurable","enumerable","get","set","defineProperty","forEach","a","test","call","prototype","toString","match","toLowerCase","isNaN","self","Bliss","document","querySelector","extend","overload","property","sources","noop","$","Node","Window","querySelectorAll","defined","create","tag","createElement","each","ready","Promise","readyState","addEventListener","Class","concat","keys","classProps","hasOwnProperty","constructor","__abstract","Error","indexOf","lazy","value","live","include","resolve","async","onload","remove","onerror","src","inside","head","fetch","TypeError","url","URL","location","data","method","headers","xhr","XMLHttpRequest","toUpperCase","hooks","run","search","body","setAttribute","open","href","user","password","console","error","setRequestHeader","removeAttribute","status","statusText","ontimeout","send","slice","reduce","Hooks","add","isArray","context","Element","subject","bliss","setProps","transition","style","transitionDuration","transitionProperty","join","once","clearTimeout","setTimeout","bind","fire","createEvent","initEvent","dispatchEvent","unbind","split","listeners","className","callback","removeEventListener","capture","setProperty","attributes","properties","events","u","c","delegate","target","closest","contents","createTextNode","appendChild","before","parentNode","insertBefore","after","nextSibling","start","firstChild","around","nodeName","content","all","$$","element","array","map","shift","HTMLElement","shy","clone","cloneNode","_","EventTarget","filter","push","expr","con","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","Stretchy","selectors","base","script","currentScript","pop","resize","resizes","cs","getComputedStyle","offset","placeholder","height","boxSizing","offsetHeight","clientHeight","scrollHeight","width","offsetWidth","clientWidth","scrollLeft","Math","max","scrollWidth","selectedIndex","option","textContent","options","appearance","removeChild","resizeAll","elements","active","init","getAttribute","listener","evt","documentElement","MutationObserver","mutations","mutation","addedNodes","observe","childList","subtree","b","d","m","q","x","index","description","y","z","A","B","C","D","E","G","H","operator","left","right","I","J","String","fromCharCode","K","L","j","charAt","charCodeAt","M","N","O","P","Q","S","consequent","alternate","R","substr","f","g","h","T","prec","U","V","Y","argument","prefix","parseFloat","raw","W","name","X","Z","computed","object","callee","version","addUnaryOp","addBinaryOp","addLiteral","removeUnaryOp","removeBinaryOp","removeLiteral","exports","jsep","noConflict","module","parse","_toConsumableArray","arr","arr2","Mavo","_this","treeBuilt","defer","selector","attribute","_iteratorError","_iteratorNormalCompletion","_didIteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","id","autoEdit","classList","contains","autoSave","hasAttribute","autoSaveDelay","_iteratorError2","_iteratorNormalCompletion2","_didIteratorError2","_step2","_iterator2","primitive","hasChildren","not","formControl","config","Primitive","getConfig","isCollection","is","expressions","Expressions","root","Group","permissions","Permissions","_iteratorError3","backendTypes","_iteratorNormalCompletion3","_didIteratorError3","_step3","role","_iterator3","updateBackend","backendObserver","Observer","records","changed","roles","record","attributeName","replace","source","load","storage","can","Functions","$url","primaryBackend","login","backend","unsavedChanges","bar","UI","Bar","activeElement","preventDefault","needsEdit","some","obj","modes","mode","setUnsavedChanges","onchange","_ref","action","trim","modeObserver","_iteratorError4","_iteratorNormalCompletion4","_didIteratorError4","_step4","_iterator4","_element","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","nodeloop","_step5","_iterator5","children","node","previousMode","getStyle","edit","destroy","debouncedSave","debounce","save","saved","requestAnimationFrame","keyCode","superKey","editing","getData","toJSON","message","_message","Message","classes","dismiss","_len","log","_key","_console","render","_this2","env","update","clear","_this3","confirm","store","then","multiple","parent","toggle","walk","previous","equals","Backend","mavo","format","_this4","inProgress","catch","reject","_this5","upload","file","_this6","path","uploadBackend","_this7","lastSaved","Date","now","ret","toggleAttribute","_storage","_primaryBackend","removeProperty","static","platform","protocol","dependencies","container","specificProperty","group","ui","or","selector1","selector2","and","s1","s2","andNot","rootGroup","output","isDecentBrowser","window","Intl","Plugins","inited","_typeof","updateWithin","cl","el","loaded","Set","has","pathname","readFile","reader","FileReader","result","onabort","JSON","stringify","toArray","delete","hasIntersection","arr1","every","flatten","prev","pushUnique","item","thing","getPropertyValue","revocably","comment","isRemoved","replaceChild","commentText","createComment","inViewport","getBoundingClientRect","bottom","innerHeight","top","innerWidth","scrollIntoViewIfNeeded","scrollIntoView","behavior","_len2","_key2","subset","cache","WeakSet","key","fn","delay","_code","timer","args","escapeRegExp","observer","attributeFilter","attributeOldValue","oldValue","characterData","characterDataOldValue","stop","disconnect","running","sneak","res","rej","promise","iterable","resolved","rr","proxy","propagated","proto","names","existing","propagate","hash","plugins","plugin","size","responseType","response","repo","register","_Mavo$dependencies","innerHTML","noResize","order","controls","targetHeight","_loop","label","readable","title","permission","condition","ResizeObserver","previousRect","resizeObserver","entries","contentRect","prepare","cleanup","html","avatar","logout","closed","click","prop","button","close","timeout","closeTimeout","mouseenter","mouseleave","submit","opacity","triggers","parentChanged","on","actions","off","cannot","able","current","localValue","fireTriggers","trigger","_parent","oldParent","change","setter","Formats","searchParams","responseText","_ref$format","serialize","serialized","put","isAuthenticated","accessToken","oAuthParams","request","req","p","encodeURIComponent","apiDomain","oAuthenticate","passive","localStorage","popup","min","screen","screenTop","screenLeft","state","authPopup","oAuth","token","oAuthLogout","removeItem","types","Remote","extends","_defineProperty","Base","abstract","extensions","json","text","Text","getNames","me","csv","CSV","defaultOptions","header","dynamicTyping","skipEmptyLines","Papa","delimiter","meta","linebreak","aborted","errors","unparse","Format","extension","uid","maxId","nodeType","template","copies","parentGroup","fromTemplate","getProperty","normalize","collection","et","DOMExpression","isRoot","postInit","isDataNull","deleted","walker","_node","walkUp","_node2","oldData","inPath","dataRender","dataChanged","getClosestCollection","closestCollection","isDeleted","_mode","Collection","_modes","elementContents","createDocumentFragment","childNodes","_deleted","WeakMap","prioritizePrimitive","nodes","unique","getValueAttribute","constructorOptions","mutable","vocabElement","vocab","super","DEFAULT_TYPE","find","score","expressionText","sort","prop1","prop2","reverse","_property","datatype","mavoNode","changeEvents","getValue","editor","original","setValue","force","silent","editorValue","templateValue","_default","default","defaultObserver","initialValue","emptyValue","getEditorValue","setEditorValue","editorDefaults","savedValue","initEdit","Elements","defaultEditors","string","select","stopPropagation","dataInput","Popup","prevTabindex","tabIndex","preEdit","empty","show","toPrimitive","_arr","_i","presentational","safeCast","_value","humanReadable","selectedOptions","dataOnly","hide","existingType","cast","useProperty","_ref2","formatNumber","namespaceURI","numberFormat","NumberFormat","maximumFractionDigits","Infinity","position","bounds","popupBounds","hidden","keyup","focus","transitionend","shown","hideCallback","defineProperties","_o","selectorloop","attributeMatches","isSVG","mainInput","uploadEvents","clipboardData","items","kind","getAsFile","dataTransfer","files","accept","form","checked","toCheck","clicked","range","step","clientX","newValue","mod","increment","shiftKey","display","whiteSpace","datetime","date","day","month","year","hour","minute","timeZone","toLocaleString","templateElement","accepts","createItem","itemTemplate","itemData","rendered","adopt","rel","marker","bottomUp","previousIndex","_action","_children","_item","hard","move","editItem","itemControls","Itembar","addButton","tagName","containerSelector","dragula","getDragula","_item2","fragment","collections","isCompatible","_mutable","containers","isContainer","moves","handle","previousElementSibling","lastElementChild","oldIndex","nextElementSibling","closestItem","cancel","dragulas","compareDocumentPosition","DOCUMENT_POSITION_FOLLOWING","newItem","keydown","Expression","expression","eval","function","compile","identifiers","exception","info","changedBy","serializers","transformations","Script","getOperatorName","details","operators","nodeLeft","unshift","rewrite","code","Function","LogicalExpression","BinaryExpression","Syntax","end","regex","RegExp","str","lastIndex","tokenize","exec","substring","syntax","ESCAPE","whitespace","splitText","lastChild","parsed","event","parentEnv","fallback","traverse","scheduled","PROPERTYCHANGE_THROTTLE","extract","directives","child","directive","Proxy","_env$data","_hidden","parentIf","childIfs","parentValue","childProperties","childIf","originalAttribute","_slicedToArray","sliceIterator","_n","_d","_e","_s","numbers","number","toDate","timezone","local","localTimezone","minutes","abs","hours","sign","twodigits","getDateComponent","component","locale","lang","_$$extend","getDay","Number","shortname","twodigit","sum","average","count","round","num","decimals","isFinite","useGrouping","iff","iftrue","iffalse","haystack","needle","replacement","iterations","needleRegex","counter","len","starts","ends","glue","idify","identifier","$0","$1","$2","uppercase","lowercase","$now","weekday","hour12","second","_date","time","seconds","floor","days","weeks","months","years","getTimezoneOffset","pair","addUnaryOperator","operand","scalar","addBinaryOperator","symbol","symbols","identity","operands","logical","op","dateA","dateB","_Mavo$Script$getNumer","getNumericalOperands","_Mavo$Script$getNumer2","_Mavo$Script$getNumer3","_Mavo$Script$getNumer4","_Mavo$Script$getNumer5","_Mavo$Script$getNumer6","_Mavo$Script$getNumer7","_Mavo$Script$getNumer8","da","db","aliases","subtract","multiply","divide","lt","gt","eq","_loop2","_name","alias","_Trap","functions","propertyL","minimumIntegerDigits","fixShareURL","getURL","shareInfo","getUser","username","email","display_name","profile_photo_url","path_lower","host","hostname","parsedURL","parseURL","apiCall","atob","dataURL","base64","media","isEncoded","fileInfo","commit","sha","repoCall","fileCall","commitPrefix","repoInfo","btoa","canPush","forkInfo","full_name","until","ref","branch","prs","pullRequest","previewURL","notice","prInfo","html_url","edits","default_branch","avatar_url","_this8","pagesInfo","_btoa","unescape","decodeURIComponent","escape"],"mappings":"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","file":"../mavo.es5.min.js","sourcesContent":["!function(){\"use strict\";function t(e,r,s){return r=void 0===r?1:r,s=s||r+1,1>=s-r?function(){if(arguments.length<=r||\"string\"===n.type(arguments[r]))return e.apply(this,arguments);var t,s=arguments[r];for(var i in s){var o=Array.from(arguments);o.splice(r,1,i,s[i]),t=e.apply(this,o)}return t}:t(t(e,r+1,s),r,s-1)}function e(t,n,s){var i=r(s);if(\"string\"===i){var o=Object.getOwnPropertyDescriptor(n,s);!o||o.writable&&o.configurable&&o.enumerable&&!o.get&&!o.set?t[s]=n[s]:(delete t[s],Object.defineProperty(t,s,o))}else if(\"array\"===i)s.forEach(function(r){r in n&&e(t,n,r)});else for(var a in n)s&&(\"regexp\"===i&&!s.test(a)||\"function\"===i&&!s.call(n,a))||e(t,n,a);return t}function r(t){if(null===t)return\"null\";if(void 0===t)return\"undefined\";var e=(Object.prototype.toString.call(t).match(/^\\[object\\s+(.*?)\\]$/)[1]||\"\").toLowerCase();return\"number\"==e&&isNaN(t)?\"nan\":e}var n=self.Bliss=e(function(t,e){return 2==arguments.length&&!e||!t?null:\"string\"===n.type(t)?(e||document).querySelector(t):t||null},self.Bliss);e(n,{extend:e,overload:t,type:r,property:n.property||\"_\",sources:{},noop:function(){},$:function(t,e){return t instanceof Node||t instanceof Window?[t]:2!=arguments.length||e?Array.from(\"string\"==typeof t?(e||document).querySelectorAll(t):t||[]):[]},defined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},create:function(t,e){return t instanceof Node?n.set(t,e):(1===arguments.length&&(\"string\"===n.type(t)?e={}:(e=t,t=e.tag,e=n.extend({},e,function(t){return\"tag\"!==t}))),n.set(document.createElement(t||\"div\"),e))},each:function(t,e,r){r=r||{};for(var n in t)r[n]=e.call(t,n,t[n]);return r},ready:function(t){return t=t||document,new Promise(function(e,r){\"loading\"!==t.readyState?e():t.addEventListener(\"DOMContentLoaded\",function(){e()})})},Class:function(t){var e,r=[\"constructor\",\"extends\",\"abstract\",\"static\"].concat(Object.keys(n.classProps)),s=t.hasOwnProperty(\"constructor\")?t.constructor:n.noop;2==arguments.length?(e=arguments[0],t=arguments[1]):(e=function(){if(this.constructor.__abstract&&this.constructor===e)throw new Error(\"Abstract classes cannot be directly instantiated.\");e[\"super\"]&&e[\"super\"].apply(this,arguments),s.apply(this,arguments)},e[\"super\"]=t[\"extends\"]||null,e.prototype=n.extend(Object.create(e[\"super\"]?e[\"super\"].prototype:Object),{constructor:e}),e.prototype[\"super\"]=e[\"super\"]?e[\"super\"].prototype:null,e.__abstract=!!t[\"abstract\"]);var i=function(t){return this.hasOwnProperty(t)&&-1===r.indexOf(t)};if(t[\"static\"]){n.extend(e,t[\"static\"],i);for(var o in n.classProps)o in t[\"static\"]&&n.classProps[o](e,t[\"static\"][o])}n.extend(e.prototype,t,i);for(var o in n.classProps)o in t&&n.classProps[o](e.prototype,t[o]);return e},classProps:{lazy:t(function(t,e,r){return Object.defineProperty(t,e,{get:function(){var t=r.call(this);return Object.defineProperty(this,e,{value:t,configurable:!0,enumerable:!0,writable:!0}),t},set:function(t){Object.defineProperty(this,e,{value:t,configurable:!0,enumerable:!0,writable:!0})},configurable:!0,enumerable:!0}),t}),live:t(function(t,e,r){return\"function\"===n.type(r)&&(r={set:r}),Object.defineProperty(t,e,{get:function(){var t=this[\"_\"+e],n=r.get&&r.get.call(this,t);return void 0!==n?n:t},set:function(t){var n=this[\"_\"+e],s=r.set&&r.set.call(this,t,n);this[\"_\"+e]=void 0!==s?s:t},configurable:r.configurable,enumerable:r.enumerable}),t})},include:function(){var t=arguments[arguments.length-1],e=2===arguments.length?arguments[0]:!1,r=document.createElement(\"script\");return e?Promise.resolve():new Promise(function(e,s){n.set(r,{async:!0,onload:function(){e(),n.remove(r)},onerror:function(){s()},src:t,inside:document.head})})},fetch:function(t,r){if(!t)throw new TypeError(\"URL parameter is mandatory and cannot be \"+t);var s=e({url:new URL(t,location),data:\"\",method:\"GET\",headers:{},xhr:new XMLHttpRequest},r);s.method=s.method.toUpperCase(),n.hooks.run(\"fetch-args\",s),\"GET\"===s.method&&s.data&&(s.url.search+=s.data),document.body.setAttribute(\"data-loading\",s.url),s.xhr.open(s.method,s.url.href,s.async!==!1,s.user,s.password);for(var i in r)if(i in s.xhr)try{s.xhr[i]=r[i]}catch(o){self.console&&console.error(o)}\"GET\"===s.method||s.headers[\"Content-type\"]||s.headers[\"Content-Type\"]||s.xhr.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\");for(var a in s.headers)s.xhr.setRequestHeader(a,s.headers[a]);return new Promise(function(t,e){s.xhr.onload=function(){document.body.removeAttribute(\"data-loading\"),0===s.xhr.status||s.xhr.status>=200&&s.xhr.status<300||304===s.xhr.status?t(s.xhr):e(n.extend(Error(s.xhr.statusText),{xhr:s.xhr,get status(){return this.xhr.status}}))},s.xhr.onerror=function(){document.body.removeAttribute(\"data-loading\"),e(n.extend(Error(\"Network Error\"),{xhr:s.xhr}))},s.xhr.ontimeout=function(){document.body.removeAttribute(\"data-loading\"),e(n.extend(Error(\"Network Timeout\"),{xhr:s.xhr}))},s.xhr.send(\"GET\"===s.method?null:s.data)})},value:function(t){var e=\"string\"!==n.type(t);return n.$(arguments).slice(+e).reduce(function(t,e){return t&&t[e]},e?t:self)}}),n.Hooks=new n.Class({add:function(t,e,r){if(\"string\"==typeof arguments[0])(Array.isArray(t)?t:[t]).forEach(function(t){this[t]=this[t]||[],e&&this[t][r?\"unshift\":\"push\"](e)},this);else for(var t in arguments[0])this.add(t,arguments[0][t],arguments[1])},run:function(t,e){this[t]=this[t]||[],this[t].forEach(function(t){t.call(e&&e.context?e.context:e,e)})}}),n.hooks=new n.Hooks;var s=n.property;n.Element=function(t){this.subject=t,this.data={},this.bliss={}},n.Element.prototype={set:t(function(t,e){t in n.setProps?n.setProps[t].call(this,e):t in this?this[t]=e:this.setAttribute(t,e)},0),transition:function(t,e){return e=+e||400,new Promise(function(r,s){if(\"transition\"in this.style){var i=n.extend({},this.style,/^transition(Duration|Property)$/);n.style(this,{transitionDuration:(e||400)+\"ms\",transitionProperty:Object.keys(t).join(\", \")}),n.once(this,\"transitionend\",function(){clearTimeout(o),n.style(this,i),r(this)});var o=setTimeout(r,e+50,this);n.style(this,t)}else n.style(this,t),r(this)}.bind(this))},fire:function(t,e){var r=document.createEvent(\"HTMLEvents\");return r.initEvent(t,!0,!0),this.dispatchEvent(n.extend(r,e))},unbind:t(function(t,e){(t||\"\").split(/\\s+/).forEach(function(t){if(s in this&&(t.indexOf(\".\")>-1||!e)){t=(t||\"\").split(\".\");var r=t[1];t=t[0];var n=this[s].bliss.listeners=this[s].bliss.listeners||{};for(var i in n)if(!t||i===t)for(var o,a=0;o=n[i][a];a++)r&&r!==o.className||e&&e!==o.callback||(this.removeEventListener(i,o.callback,o.capture),a--)}else this.removeEventListener(t,e)},this)},0)},n.setProps={style:function(t){for(var e in t)e in this.style?this.style[e]=t[e]:this.style.setProperty(e,t[e])},attributes:function(t){for(var e in t)this.setAttribute(e,t[e])},properties:function(t){n.extend(this,t)},events:function(t){if(t&&t.addEventListener){var e=this;if(t[s]&&t[s].bliss){var r=t[s].bliss.listeners;for(var i in r)r[i].forEach(function(t){e.addEventListener(i,t.callback,t.capture)})}for(var o in t)0===o.indexOf(\"on\")&&(this[o]=t[o])}else if(arguments.length>1&&\"string\"===n.type(t)){var a=arguments[1],u=arguments[2];t.split(/\\s+/).forEach(function(t){this.addEventListener(t,a,u)},this)}else for(var c in t)n.events(this,c,t[c])},once:t(function(t,e){t=t.split(/\\s+/);var r=this,n=function(){return t.forEach(function(t){r.removeEventListener(t,n)}),e.apply(r,arguments)};t.forEach(function(t){r.addEventListener(t,n)})},0),delegate:t(function(t,e,r){this.addEventListener(t,function(t){t.target.closest(e)&&r.call(this,t)})},0,2),contents:function(t){(t||0===t)&&(Array.isArray(t)?t:[t]).forEach(function(t){var e=n.type(t);/^(string|number)$/.test(e)?t=document.createTextNode(t+\"\"):\"object\"===e&&(t=n.create(t)),t instanceof Node&&this.appendChild(t)},this)},inside:function(t){t.appendChild(this)},before:function(t){t.parentNode.insertBefore(this,t)},after:function(t){t.parentNode.insertBefore(this,t.nextSibling)},start:function(t){t.insertBefore(this,t.firstChild)},around:function(t){t.parentNode&&n.before(this,t),(/^template$/i.test(this.nodeName)?this.content||this:this).appendChild(t)}},n.Array=function(t){this.subject=t},n.Array.prototype={all:function(t){var e=$$(arguments).slice(1);return this[t].apply(this,e)}},n.add=t(function(t,e,r,s){r=n.extend({$:!0,element:!0,array:!0},r),\"function\"==n.type(e)&&(!r.element||t in n.Element.prototype&&s||(n.Element.prototype[t]=function(){return this.subject&&n.defined(e.apply(this.subject,arguments),this.subject)}),!r.array||t in n.Array.prototype&&s||(n.Array.prototype[t]=function(){var t=arguments;return this.subject.map(function(r){return r&&n.defined(e.apply(r,t),r)})}),r.$&&(n.sources[t]=n[t]=e,(r.array||r.element)&&(n[t]=function(){var e=[].slice.apply(arguments),s=e.shift(),i=r.array&&Array.isArray(s)?\"Array\":\"Element\";return n[i].prototype[t].apply({subject:s},e)})))},0),n.add(n.Array.prototype,{element:!1}),n.add(n.Element.prototype),n.add(n.setProps),n.add(n.classProps,{element:!1,array:!1});var i=document.createElement(\"_\");n.add(n.extend({},HTMLElement.prototype,function(t){return\"function\"===n.type(i[t])}),null,!0)}(),function(t){\"use strict\";if(Bliss&&!Bliss.shy){var e=Bliss.property;if(t.add({clone:function(){var e=this.cloneNode(!0),r=t.$(\"*\",e).concat(e);return t.$(\"*\",this).concat(this).forEach(function(e,n,s){t.events(r[n],e),r[n]._.data=t.extend({},e._.data)}),e}},{array:!1}),Object.defineProperty(Node.prototype,e,{get:function o(){return Object.defineProperty(Node.prototype,e,{get:void 0}),Object.defineProperty(this,e,{value:new t.Element(this)}),Object.defineProperty(Node.prototype,e,{get:o}),this[e]},configurable:!0}),Object.defineProperty(Array.prototype,e,{get:function(){return Object.defineProperty(this,e,{value:new t.Array(this)}),this[e]},configurable:!0}),self.EventTarget&&\"addEventListener\"in EventTarget.prototype){var r=EventTarget.prototype.addEventListener,n=EventTarget.prototype.removeEventListener,s=function(t,e,r){return r.callback===t&&r.capture==e},i=function(){return!s.apply(this,arguments)};EventTarget.prototype.addEventListener=function(t,n,i){if(this&&this[e]&&this[e].bliss&&n){var o=this[e].bliss.listeners=this[e].bliss.listeners||{};if(t.indexOf(\".\")>-1){t=t.split(\".\");var a=t[1];t=t[0]}o[t]=o[t]||[],0===o[t].filter(s.bind(null,n,i)).length&&o[t].push({callback:n,capture:i,className:a})}return r.call(this,t,n,i)},EventTarget.prototype.removeEventListener=function(t,r,s){if(this&&this[e]&&this[e].bliss&&r){var o=this[e].bliss.listeners=this[e].bliss.listeners||{};o[t]&&(o[t]=o[t].filter(i.bind(null,r,s)))}return n.call(this,t,r,s)}}self.$=self.$||t,self.$$=self.$$||t.$}}(Bliss);\n/*\n * Stretchy: Form element autosizing, the way it should be.\n * by Lea Verou http://lea.verou.me\n * MIT license\n */\n(function() {\n\nif (!self.Element) {\n\treturn; // super old browser\n}\n\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector || Element.prototype.oMatchesSelector || null;\n}\n\nif (!Element.prototype.matches) {\n\treturn;\n}\n\nfunction $$(expr, con) {\n\treturn expr instanceof Node || expr instanceof Window? [expr] :\n\t       [].slice.call(typeof expr == \"string\"? (con || document).querySelectorAll(expr) : expr || []);\n}\n\nvar _ = self.Stretchy = {\n\tselectors: {\n\t\tbase: 'textarea, select:not([size]), input:not([type]), input[type=\"' + \"text url email tel\".split(\" \").join('\"], input[type=\"') + '\"]',\n\t\tfilter: \"*\"\n\t},\n\n\t// Script element this was included with, if any\n\tscript: document.currentScript || $$(\"script\").pop(),\n\n\t// Autosize one element. The core of Stretchy.\n\tresize: function(element) {\n\t\tif (!_.resizes(element)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar cs = getComputedStyle(element);\n\t\tvar offset = 0;\n\n\t\tif (!element.value && element.placeholder) {\n\t\t\tvar empty = true;\n\t\t\telement.value = element.placeholder;\n\t\t}\n\n\t\tvar type = element.nodeName.toLowerCase();\n\n\t\tif (type == \"textarea\") {\n\t\t\telement.style.height = \"0\";\n\n\t\t\tif (cs.boxSizing == \"border-box\") {\n\t\t\t\toffset = element.offsetHeight;\n\t\t\t}\n\t\t\telse if (cs.boxSizing == \"content-box\") {\n\t\t\t\toffset = -element.clientHeight;\n\t\t\t}\n\n\t\t\telement.style.height = element.scrollHeight + offset + \"px\";\n\t\t}\n\t\telse if(type == \"input\") {\n\t\t\t// First test that it is actually visible, otherwise all measurements are off\n\t\t\telement.style.width = \"1000px\";\n\n\t\t\tif (element.offsetWidth) {\n\t\t\t\telement.style.width = \"0\";\n\n\t\t\t\tif (cs.boxSizing == \"border-box\") {\n\t\t\t\t\toffset = element.offsetWidth;\n\t\t\t\t}\n\t\t\t\telse if (cs.boxSizing == \"padding-box\") {\n\t\t\t\t\toffset = element.clientWidth;\n\t\t\t\t}\n\n\t\t\t\t// Safari misreports scrollWidth, so we will instead set scrollLeft to a\n\t\t\t\t// huge number, and read that back to see what it was clipped to\n\t\t\t\telement.scrollLeft = 1e+10;\n\n\t\t\t\tvar width = Math.max(element.scrollLeft + offset, element.scrollWidth - element.clientWidth);\n\n\t\t\t\telement.style.width = width + \"px\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Element is invisible, just set to something reasonable\n\t\t\t\telement.style.width = element.value.length + 1 + \"ch\";\n\t\t\t}\n\t\t}\n\t\telse if (type == \"select\") {\n\t\t\tvar selectedIndex = element.selectedIndex > 0? element.selectedIndex : 0;\n\n\t\t\t// Need to use dummy element to measure :(\n\t\t\tvar option = document.createElement(\"_\");\n\t\t\toption.textContent = element.options[selectedIndex].textContent;\n\t\t\telement.parentNode.insertBefore(option, element.nextSibling);\n\n\t\t\t// The name of the appearance property, as it might be prefixed\n\t\t\tvar appearance;\n\n\t\t\tfor (var property in cs) {\n\t\t\t\tvar value = cs[property];\n\t\t\t\tif (!/^(width|webkitLogicalWidth|length)$/.test(property) && typeof value == \"string\") {\n\t\t\t\t\t//console.log(property, option.offsetWidth, cs[property]);\n\t\t\t\t\toption.style[property] = value;\n\n\t\t\t\t\tif (/appearance$/i.test(property)) {\n\t\t\t\t\t\tappearance = property;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toption.style.width = \"\";\n\n\t\t\tif (option.offsetWidth > 0) {\n\t\t\t\telement.style.width = option.offsetWidth + \"px\";\n\n\t\t\t\tif (!cs[appearance] || cs[appearance] !== \"none\") {\n\t\t\t\t\t// Account for arrow\n\t\t\t\t\telement.style.width = \"calc(\" + element.style.width + \" + 2em)\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\toption.parentNode.removeChild(option);\n\t\t\toption = null;\n\t\t}\n\n\t\tif (empty) {\n\t\t\telement.value = \"\";\n\t\t}\n\t},\n\n\t// Autosize multiple elements\n\tresizeAll: function(elements) {\n\t\t$$(elements || _.selectors.base).forEach(function (element) {\n\t\t\t_.resize(element);\n\t\t});\n\t},\n\n\tactive: true,\n\n\t// Will stretchy do anything for this element?\n\tresizes: function(element) {\n\t\treturn element &&\n\t\t       element.parentNode &&\n\t\t       element.matches &&\n\t\t       element.matches(_.selectors.base) &&\n\t\t       element.matches(_.selectors.filter);\n\t},\n\n\tinit: function(){\n\t\t_.selectors.filter = _.script.getAttribute(\"data-filter\") ||\n\t\t                     ($$(\"[data-stretchy-filter]\").pop() || document.body).getAttribute(\"data-stretchy-filter\") || Stretchy.selectors.filter || \"*\";\n\n\t\t_.resizeAll();\n\t},\n\n\t$$: $$\n};\n\n// Autosize all elements once the DOM is loaded\n\n// DOM already loaded?\nif (document.readyState !== \"loading\") {\n\t_.init();\n}\nelse {\n\t// Wait for it\n\tdocument.addEventListener(\"DOMContentLoaded\", _.init);\n}\n\n// Listen for changes\nvar listener = function(evt) {\n\tif (_.active) {\n\t\t_.resize(evt.target);\n\t}\n};\n\ndocument.documentElement.addEventListener(\"input\", listener);\n\n// Firefox fires a change event instead of an input event\ndocument.documentElement.addEventListener(\"change\", listener);\n\n// Listen for new elements\nif (self.MutationObserver) {\n\t(new MutationObserver(function(mutations) {\n\t\tif (_.active) {\n\t\t\tmutations.forEach(function(mutation) {\n\t\t\t\tif (mutation.type == \"childList\") {\n\t\t\t\t\tStretchy.resizeAll(mutation.addedNodes);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t})).observe(document.documentElement, {\n\t\tchildList: true,\n\t\tsubtree: true\n\t});\n}\n\n})();\n\n/* jsep v0.3.1 (http://jsep.from.so/) */\n!function(a){\"use strict\";var b=\"Compound\",c=\"Identifier\",d=\"MemberExpression\",e=\"Literal\",f=\"ThisExpression\",g=\"CallExpression\",h=\"UnaryExpression\",i=\"BinaryExpression\",j=\"LogicalExpression\",k=\"ConditionalExpression\",l=\"ArrayExpression\",m=46,n=44,o=39,p=34,q=40,r=41,s=91,t=93,u=63,v=59,w=58,x=function(a,b){var c=new Error(a+\" at character \"+b);throw c.index=b,c.description=a,c},y=!0,z={\"-\":y,\"!\":y,\"~\":y,\"+\":y},A={\"||\":1,\"&&\":2,\"|\":3,\"^\":4,\"&\":5,\"==\":6,\"!=\":6,\"===\":6,\"!==\":6,\"<\":7,\">\":7,\"<=\":7,\">=\":7,\"<<\":8,\">>\":8,\">>>\":8,\"+\":9,\"-\":9,\"*\":10,\"/\":10,\"%\":10},B=function(a){var b,c=0;for(var d in a)(b=d.length)>c&&a.hasOwnProperty(d)&&(c=b);return c},C=B(z),D=B(A),E={\"true\":!0,\"false\":!1,\"null\":null},F=\"this\",G=function(a){return A[a]||0},H=function(a,b,c){var d=\"||\"===a||\"&&\"===a?j:i;return{type:d,operator:a,left:b,right:c}},I=function(a){return a>=48&&a<=57},J=function(a){return 36===a||95===a||a>=65&&a<=90||a>=97&&a<=122||a>=128&&!A[String.fromCharCode(a)]},K=function(a){return 36===a||95===a||a>=65&&a<=90||a>=97&&a<=122||a>=48&&a<=57||a>=128&&!A[String.fromCharCode(a)]},L=function(a){for(var i,j,y=0,B=a.charAt,L=a.charCodeAt,M=function(b){return B.call(a,b)},N=function(b){return L.call(a,b)},O=a.length,P=function(){for(var a=N(y);32===a||9===a;)a=N(++y)},Q=function(){var a,b,c=S();return P(),N(y)!==u?c:(y++,a=Q(),a||x(\"Expected expression\",y),P(),N(y)===w?(y++,b=Q(),b||x(\"Expected expression\",y),{type:k,test:c,consequent:a,alternate:b}):void x(\"Expected :\",y))},R=function(){P();for(var b=a.substr(y,D),c=b.length;c>0;){if(A.hasOwnProperty(b))return y+=c,b;b=b.substr(0,--c)}return!1},S=function(){var a,b,c,d,e,f,g,h;if(f=T(),b=R(),!b)return f;for(e={value:b,prec:G(b)},g=T(),g||x(\"Expected expression after \"+b,y),d=[f,e,g];(b=R())&&(c=G(b),0!==c);){for(e={value:b,prec:c};d.length>2&&c<=d[d.length-2].prec;)g=d.pop(),b=d.pop().value,f=d.pop(),a=H(b,f,g),d.push(a);a=T(),a||x(\"Expected expression after \"+b,y),d.push(e,a)}for(h=d.length-1,a=d[h];h>1;)a=H(d[h-1].value,d[h-2],a),h-=2;return a},T=function(){var b,c,d;if(P(),b=N(y),I(b)||b===m)return U();if(b===o||b===p)return V();if(J(b)||b===q)return Y();if(b===s)return $();for(c=a.substr(y,C),d=c.length;d>0;){if(z.hasOwnProperty(c))return y+=d,{type:h,operator:c,argument:T(),prefix:!0};c=c.substr(0,--d)}return!1},U=function(){for(var a,b,c=\"\";I(N(y));)c+=M(y++);if(N(y)===m)for(c+=M(y++);I(N(y));)c+=M(y++);if(a=M(y),\"e\"===a||\"E\"===a){for(c+=M(y++),a=M(y),\"+\"!==a&&\"-\"!==a||(c+=M(y++));I(N(y));)c+=M(y++);I(N(y-1))||x(\"Expected exponent (\"+c+M(y)+\")\",y)}return b=N(y),J(b)?x(\"Variable names cannot start with a number (\"+c+M(y)+\")\",y):b===m&&x(\"Unexpected period\",y),{type:e,value:parseFloat(c),raw:c}},V=function(){for(var a,b=\"\",c=M(y++),d=!1;y<O;){if(a=M(y++),a===c){d=!0;break}if(\"\\\\\"===a)switch(a=M(y++)){case\"n\":b+=\"\\n\";break;case\"r\":b+=\"\\r\";break;case\"t\":b+=\"\\t\";break;case\"b\":b+=\"\\b\";break;case\"f\":b+=\"\\f\";break;case\"v\":b+=\"\\x0B\";break;default:b+=\"\\\\\"+a}else b+=a}return d||x('Unclosed quote after \"'+b+'\"',y),{type:e,value:b,raw:c+b+c}},W=function(){var b,d=N(y),g=y;for(J(d)?y++:x(\"Unexpected \"+M(y),y);y<O&&(d=N(y),K(d));)y++;return b=a.slice(g,y),E.hasOwnProperty(b)?{type:e,value:E[b],raw:b}:b===F?{type:f}:{type:c,name:b}},X=function(a){for(var c,d,e=[],f=!1;y<O;){if(P(),c=N(y),c===a){f=!0,y++;break}c===n?y++:(d=Q(),d&&d.type!==b||x(\"Expected comma\",y),e.push(d))}return f||x(\"Expected \"+String.fromCharCode(a),y),e},Y=function(){var a,b;for(a=N(y),b=a===q?Z():W(),P(),a=N(y);a===m||a===s||a===q;)y++,a===m?(P(),b={type:d,computed:!1,object:b,property:W()}):a===s?(b={type:d,computed:!0,object:b,property:Q()},P(),a=N(y),a!==t&&x(\"Unclosed [\",y),y++):a===q&&(b={type:g,arguments:X(r),callee:b}),P(),a=N(y);return b},Z=function(){y++;var a=Q();return P(),N(y)===r?(y++,a):void x(\"Unclosed (\",y)},$=function(){return y++,{type:l,elements:X(t)}},_=[];y<O;)i=N(y),i===v||i===n?y++:(j=Q())?_.push(j):y<O&&x('Unexpected \"'+M(y)+'\"',y);return 1===_.length?_[0]:{type:b,body:_}};if(L.version=\"0.3.1\",L.toString=function(){return\"JavaScript Expression Parser (JSEP) v\"+L.version},L.addUnaryOp=function(a){return C=Math.max(a.length,C),z[a]=y,this},L.addBinaryOp=function(a,b){return D=Math.max(a.length,D),A[a]=b,this},L.addLiteral=function(a,b){return E[a]=b,this},L.removeUnaryOp=function(a){return delete z[a],a.length===C&&(C=B(z)),this},L.removeBinaryOp=function(a){return delete A[a],a.length===D&&(D=B(A)),this},L.removeLiteral=function(a){return delete E[a],this},\"undefined\"==typeof exports){var M=a.jsep;a.jsep=L,L.noConflict=function(){return a.jsep===L&&(a.jsep=M),L}}else\"undefined\"!=typeof module&&module.exports?exports=module.exports=L:exports.parse=L}(this);\n//# sourceMappingURL=jsep.min.js.map\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = self.Mavo = $.Class({\n\t\tconstructor: function constructor(element) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.treeBuilt = Mavo.defer();\n\n\t\t\tthis.element = element;\n\n\t\t\t// Index among other mavos in the page, 1 is first\n\t\t\tthis.index = _.length + 1;\n\t\t\tObject.defineProperty(_.all, this.index - 1, { value: this });\n\n\t\t\t// Convert any data-mv-* attributes to mv-*\n\t\t\tvar selector = _.attributes.map(function (attribute) {\n\t\t\t\treturn \"[data-\" + attribute + \"]\";\n\t\t\t}).join(\", \");\n\n\t\t\t[this.element].concat(_toConsumableArray($$(selector, this.element))).forEach(function (element) {\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = _.attributes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar attribute = _step.value;\n\n\t\t\t\t\t\tvar value = element.getAttribute(\"data-\" + attribute);\n\n\t\t\t\t\t\tif (value !== null) {\n\t\t\t\t\t\t\telement.setAttribute(attribute, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Assign a unique (for the page) id to this mavo instance\n\t\t\tthis.id = Mavo.getAttribute(this.element, \"mv-app\", \"id\") || \"mavo\" + this.index;\n\n\t\t\tif (this.id in _.all) {\n\t\t\t\t// Duplicate app name\n\t\t\t\tfor (var i = 2; this.id + i in _.all; i++) {}\n\t\t\t\tthis.id = this.id + i;\n\t\t\t}\n\n\t\t\t_.all[this.id] = this;\n\t\t\tthis.element.setAttribute(\"mv-app\", this.id);\n\n\t\t\t// Should we start in edit mode?\n\t\t\tthis.autoEdit = this.element.classList.contains(\"mv-autoedit\");\n\n\t\t\t// Should we save automatically?\n\t\t\tthis.autoSave = this.element.hasAttribute(\"mv-autosave\");\n\t\t\tthis.autoSaveDelay = (this.element.getAttribute(\"mv-autosave\") || 3) * 1000;\n\n\t\t\tthis.element.setAttribute(\"typeof\", \"\");\n\n\t\t\tMavo.hooks.run(\"init-start\", this);\n\n\t\t\t// Apply heuristic for groups\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = $$(_.selectors.primitive, this.element)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar element = _step2.value;\n\n\t\t\t\t\tvar hasChildren = $(_.selectors.not(_.selectors.formControl) + \", \" + _.selectors.property, element);\n\n\t\t\t\t\tif (hasChildren) {\n\t\t\t\t\t\tvar config = Mavo.Primitive.getConfig(element);\n\t\t\t\t\t\tvar isCollection = Mavo.is(\"multiple\", element);\n\n\t\t\t\t\t\tif (isCollection || !config.attribute && !config.hasChildren) {\n\t\t\t\t\t\t\telement.setAttribute(\"typeof\", \"\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.expressions = new Mavo.Expressions(this);\n\n\t\t\t// Build mavo objects\n\t\t\tMavo.hooks.run(\"init-tree-before\", this);\n\n\t\t\tthis.root = new Mavo.Group(this.element, this);\n\t\t\tthis.treeBuilt.resolve();\n\n\t\t\tMavo.hooks.run(\"init-tree-after\", this);\n\n\t\t\tthis.permissions = new Mavo.Permissions();\n\n\t\t\tvar backendTypes = [\"source\", \"storage\", \"init\"]; // order is significant!\n\n\t\t\t// Figure out backends for storage, data reads, and initialization respectively\n\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\tvar _didIteratorError3 = false;\n\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator3 = backendTypes[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\tvar role = _step3.value;\n\n\t\t\t\t\tthis.updateBackend(role);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t_iteratorError3 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.backendObserver = new Mavo.Observer(this.element, backendTypes.map(function (role) {\n\t\t\t\treturn \"mv-\" + role;\n\t\t\t}), function (records) {\n\t\t\t\tvar changed = {};\n\n\t\t\t\tvar roles = records.map(function (record) {\n\t\t\t\t\tvar role = record.attributeName.replace(/^mv-/, \"\");\n\t\t\t\t\tchanged[role] = _this.updateBackend(role);\n\n\t\t\t\t\treturn role;\n\t\t\t\t});\n\n\t\t\t\t// Do we need to re-load data?\n\t\t\t\tif (changed.source) {\n\t\t\t\t\t// if source changes, always reload\n\t\t\t\t\t_this.load();\n\t\t\t\t} else if (!_this.source) {\n\t\t\t\t\tif (changed.storage || changed.init && !_this.root.data) {\n\t\t\t\t\t\t_this.load();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.permissions.can(\"login\", function () {\n\t\t\t\t// We also support a URL param to trigger login, in case the user doesn't want visible login UI\n\t\t\t\tif (\"login\" in Mavo.Functions.$url && _this.index == 1 || _this.id + \"-login\" in Mavo.Functions.$url) {\n\t\t\t\t\t_this.primaryBackend.login();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Update login status\n\t\t\tthis.element.addEventListener(\"mavo:login.mavo\", function (evt) {\n\t\t\t\tif (evt.backend == (_this.source || _this.storage)) {\n\t\t\t\t\t// If last time we rendered we got nothing, maybe now we'll have better luck?\n\t\t\t\t\tif (!_this.root.data && !_this.unsavedChanges) {\n\t\t\t\t\t\t_this.load();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bar = new Mavo.UI.Bar(this);\n\n\t\t\t// Prevent editing properties inside <summary> to open and close the summary (fix bug #82)\n\t\t\tif ($(\"summary [property]:not([typeof])\")) {\n\t\t\t\tthis.element.addEventListener(\"click\", function (evt) {\n\t\t\t\t\tif (evt.target != document.activeElement) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Is there any control that requires an edit button?\n\t\t\tthis.needsEdit = this.some(function (obj) {\n\t\t\t\treturn obj != _this.root && !obj.modes && obj.mode == \"read\";\n\t\t\t});\n\n\t\t\tthis.setUnsavedChanges(false);\n\n\t\t\tthis.permissions.onchange(function (_ref) {\n\t\t\t\tvar action = _ref.action,\n\t\t\t\t    value = _ref.value;\n\n\t\t\t\tvar permissions = _this.element.getAttribute(\"mv-permissions\") || \"\";\n\t\t\t\tpermissions = permissions.trim().split(/\\s+/).filter(function (a) {\n\t\t\t\t\treturn a != action;\n\t\t\t\t});\n\n\t\t\t\tif (value) {\n\t\t\t\t\tpermissions.push(action);\n\t\t\t\t}\n\n\t\t\t\t_this.element.setAttribute(\"mv-permissions\", permissions.join(\" \"));\n\t\t\t});\n\n\t\t\tif (this.needsEdit) {\n\t\t\t\tthis.permissions.can([\"edit\", \"add\", \"delete\"], function () {\n\t\t\t\t\t// Observe entire tree for mv-mode changes\n\t\t\t\t\t_this.modeObserver = new Mavo.Observer(_this.element, \"mv-mode\", function (records) {\n\t\t\t\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\t\t\t\tvar _didIteratorError4 = false;\n\t\t\t\t\t\tvar _iteratorError4 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator4 = records[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\t\t\t\tvar record = _step4.value;\n\n\t\t\t\t\t\t\t\tvar _element = record.target;\n\n\t\t\t\t\t\t\t\tvar _iteratorNormalCompletion5 = true;\n\t\t\t\t\t\t\t\tvar _didIteratorError5 = false;\n\t\t\t\t\t\t\t\tvar _iteratorError5 = undefined;\n\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tnodeloop: for (var _iterator5 = _.Node.children(_element)[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n\t\t\t\t\t\t\t\t\t\tvar node = _step5.value;\n\n\t\t\t\t\t\t\t\t\t\tvar previousMode = node.mode,\n\t\t\t\t\t\t\t\t\t\t    mode = void 0;\n\n\t\t\t\t\t\t\t\t\t\tif (node.element == _element) {\n\t\t\t\t\t\t\t\t\t\t\t// If attribute set directly on a Mavo node, then it forces it into that mode\n\t\t\t\t\t\t\t\t\t\t\t// otherwise, descendant nodes still inherit, unless they are also mode-restricted\n\t\t\t\t\t\t\t\t\t\t\tmode = node.element.getAttribute(\"mv-mode\");\n\t\t\t\t\t\t\t\t\t\t\tnode.modes = mode;\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t// Inherited\n\t\t\t\t\t\t\t\t\t\t\tif (node.modes) {\n\t\t\t\t\t\t\t\t\t\t\t\t// Mode-restricted, we cannot change to the other mode\n\t\t\t\t\t\t\t\t\t\t\t\tcontinue nodeloop;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tmode = _.getStyle(node.element.parentNode, \"--mv-mode\");\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tnode.mode = mode;\n\n\t\t\t\t\t\t\t\t\t\tif (previousMode != node.mode) {\n\t\t\t\t\t\t\t\t\t\t\tnode[node.mode == \"edit\" ? \"edit\" : \"done\"]();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\t_didIteratorError5 = true;\n\t\t\t\t\t\t\t\t\t_iteratorError5 = err;\n\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion5 && _iterator5.return) {\n\t\t\t\t\t\t\t\t\t\t\t_iterator5.return();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\t\tif (_didIteratorError5) {\n\t\t\t\t\t\t\t\t\t\t\tthrow _iteratorError5;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t\t\t\t_iteratorError4 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, { subtree: true });\n\n\t\t\t\t\tif (_this.autoEdit) {\n\t\t\t\t\t\t_this.edit();\n\t\t\t\t\t}\n\t\t\t\t}, function () {\n\t\t\t\t\t// cannot\n\t\t\t\t\t_this.modeObserver && _this.modeObserver.destroy();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.storage || this.source) {\n\t\t\t\t// Fetch existing data\n\t\t\t\tthis.permissions.can(\"read\", function () {\n\t\t\t\t\treturn _this.load();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// No storage or source\n\t\t\t\t$.fire(this.element, \"mavo:load\");\n\t\t\t}\n\n\t\t\tthis.permissions.can(\"save\", function () {\n\t\t\t\tif (_this.autoSave) {\n\t\t\t\t\t_this.element.addEventListener(\"mavo:load.mavo:autosave\", function (evt) {\n\t\t\t\t\t\tvar debouncedSave = _.debounce(function () {\n\t\t\t\t\t\t\t_this.save();\n\t\t\t\t\t\t}, _this.autoSaveDelay);\n\n\t\t\t\t\t\tvar callback = function callback(evt) {\n\t\t\t\t\t\t\tif (evt.node.saved) {\n\t\t\t\t\t\t\t\tdebouncedSave();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t_this.permissions.can(\"save\", function () {\n\t\t\t\t\t\t\t\t_this.element.addEventListener(\"mavo:datachange.mavo:autosave\", callback);\n\t\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\t\t_this.element.removeEventListener(\"mavo:datachange.mavo:autosave\", callback);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Ctrl + S or Cmd + S to save\n\t\t\t\t_this.element.addEventListener(\"keydown.mavo:save\", function (evt) {\n\t\t\t\t\tif (evt.keyCode == 83 && evt[_.superKey]) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t_this.save();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, function () {\n\t\t\t\t$.unbind(_this.element, \".mavo:save .mavo:autosave\");\n\t\t\t});\n\n\t\t\tMavo.hooks.run(\"init-end\", this);\n\t\t},\n\n\t\tget editing() {\n\t\t\treturn this.root.editing;\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\treturn this.root.getData();\n\t\t},\n\n\t\ttoJSON: function toJSON() {\n\t\t\treturn _.toJSON(this.getData());\n\t\t},\n\n\t\tmessage: function message(_message, options) {\n\t\t\treturn new _.UI.Message(this, _message, options);\n\t\t},\n\n\t\terror: function error(message) {\n\t\t\tthis.message(message, {\n\t\t\t\tclasses: \"mv-error\",\n\t\t\t\tdismiss: [\"button\", \"timeout\"]\n\t\t\t});\n\n\t\t\t// Log more info for programmers\n\n\t\t\tfor (var _len = arguments.length, log = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\tlog[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\tif (log.length > 0) {\n\t\t\t\tvar _console;\n\n\t\t\t\t(_console = console).log.apply(_console, [\"%c\" + this.id + \": \" + message, \"color: red; font-weight: bold\"].concat(log));\n\t\t\t}\n\t\t},\n\n\t\trender: function render(data) {\n\t\t\tvar _this2 = this;\n\n\t\t\tthis.expressions.active = false;\n\n\t\t\tvar env = { context: this, data: data };\n\t\t\t_.hooks.run(\"render-start\", env);\n\n\t\t\tif (env.data) {\n\t\t\t\tthis.root.render(env.data);\n\t\t\t}\n\n\t\t\tthis.unsavedChanges = false;\n\n\t\t\tthis.expressions.active = true;\n\t\t\trequestAnimationFrame(function () {\n\t\t\t\treturn _this2.expressions.update();\n\t\t\t});\n\n\t\t\t_.hooks.run(\"render-end\", env);\n\t\t},\n\n\t\tclear: function clear() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (confirm(\"This will delete all your data. Are you sure?\")) {\n\t\t\t\tthis.store(null).then(function () {\n\t\t\t\t\treturn _this3.root.clear();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tthis.root.edit();\n\n\t\t\t$.events(this.element, \"mouseenter.mavo:edit mouseleave.mavo:edit\", function (evt) {\n\t\t\t\tif (evt.target.matches(_.selectors.multiple)) {\n\t\t\t\t\tevt.target.classList.remove(\"mv-has-hovered-item\");\n\n\t\t\t\t\tvar parent = evt.target.parentNode.closest(_.selectors.multiple);\n\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tparent.classList.toggle(\"mv-has-hovered-item\", evt.type == \"mouseenter\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, true);\n\n\t\t\tthis.setUnsavedChanges();\n\t\t},\n\n\t\t/**\n   * Set this mavo instance’s unsavedChanges flag.\n   * @param {Boolean} [value]\n   *        If true, just sets the flag to true, no traversal.\n   *        If false, sets the flag of the Mavo instance and every tree node to false\n   *        If not provided, traverses the tree and recalculates the flag value.\n   */\n\t\tsetUnsavedChanges: function setUnsavedChanges(value) {\n\t\t\tvar unsavedChanges = !!value;\n\n\t\t\tif (!value) {\n\t\t\t\tthis.walk(function (obj) {\n\t\t\t\t\tif (obj.unsavedChanges) {\n\t\t\t\t\t\tunsavedChanges = true;\n\n\t\t\t\t\t\tif (value === false) {\n\t\t\t\t\t\t\tobj.unsavedChanges = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.unsavedChanges = unsavedChanges;\n\t\t},\n\n\t\t// Conclude editing\n\t\tdone: function done() {\n\t\t\tthis.root.done();\n\t\t\t$.unbind(this.element, \".mavo:edit\");\n\t\t\tthis.unsavedChanges = false;\n\t\t},\n\n\t\t/**\n   * Update the backend for a given role\n   * @return {Boolean} true if a change occurred, false otherwise\n   */\n\t\tupdateBackend: function updateBackend(role) {\n\t\t\tvar previous = this[role],\n\t\t\t    backend;\n\n\t\t\tif (this.index == 1) {\n\t\t\t\tbackend = _.Functions.$url[role];\n\t\t\t}\n\n\t\t\tif (!backend) {\n\t\t\t\tbackend = _.Functions.$url[this.id + \"-\" + role] || this.element.getAttribute(\"mv-\" + role) || null;\n\t\t\t}\n\n\t\t\tif (backend) {\n\t\t\t\tbackend = backend.trim();\n\n\t\t\t\tif (backend == \"none\") {\n\t\t\t\t\tbackend = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (backend && (!previous || !previous.equals(backend))) {\n\t\t\t\t// We have a string, convert to a backend object if different than existing\n\t\t\t\tthis[role] = backend = _.Backend.create(backend, {\n\t\t\t\t\tmavo: this,\n\t\t\t\t\tformat: this.element.getAttribute(\"mv-format-\" + role) || this.element.getAttribute(\"mv-format\")\n\t\t\t\t});\n\t\t\t} else if (!backend) {\n\t\t\t\t// We had a backend and now we will un-have it\n\t\t\t\tthis[role] = null;\n\t\t\t}\n\n\t\t\tvar changed = backend ? !backend.equals(previous) : !!previous;\n\n\t\t\tif (changed) {\n\t\t\t\t// A change occured\n\t\t\t\tif (!this.storage && !this.source && this.init) {\n\t\t\t\t\t// If init is present with no storage and no source, init is equivalent to source\n\t\t\t\t\tthis.source = this.init;\n\t\t\t\t\tthis.init = null;\n\t\t\t\t}\n\n\t\t\t\tvar permissions = this.storage ? this.storage.permissions : new Mavo.Permissions({ edit: true, save: false });\n\t\t\t\tpermissions.parent = this.source && this.source.permissions;\n\t\t\t\tthis.permissions.parent = permissions;\n\n\t\t\t\tthis.primaryBackend = this.storage || this.source;\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t},\n\n\t\t/**\n   * load - Fetch data from source and render it.\n   *\n   * @return {Promise}  A promise that resolves when the data is loaded.\n   */\n\t\tload: function load() {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar backend = this.source || this.storage;\n\n\t\t\tif (!backend) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\tthis.inProgress = \"Loading\";\n\n\t\t\treturn backend.ready.then(function () {\n\t\t\t\treturn backend.load();\n\t\t\t}).catch(function (err) {\n\t\t\t\t// Try again with init\n\t\t\t\tif (_this4.init && _this4.init != backend) {\n\t\t\t\t\tbackend = _this4.init;\n\t\t\t\t\treturn _this4.init.ready.then(function () {\n\t\t\t\t\t\treturn _this4.init.load();\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// No init, propagate error\n\t\t\t\treturn Promise.reject(err);\n\t\t\t}).catch(function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tvar xhr = err instanceof XMLHttpRequest ? err : err.xhr;\n\n\t\t\t\t\tif (xhr && xhr.status == 404) {\n\t\t\t\t\t\t_this4.render(null);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar message = \"Problem loading data\";\n\n\t\t\t\t\t\tif (xhr) {\n\t\t\t\t\t\t\tmessage += xhr.status ? \": HTTP error \" + err.status + \": \" + err.statusText : \": Can’t connect to the Internet\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_this4.error(message, err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}).then(function (data) {\n\t\t\t\treturn _this4.render(data);\n\t\t\t}).then(function () {\n\t\t\t\t_this4.inProgress = false;\n\t\t\t\t$.fire(_this4.element, \"mavo:load\");\n\t\t\t});\n\t\t},\n\n\t\tstore: function store() {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (!this.storage) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\tthis.inProgress = \"Saving\";\n\n\t\t\treturn this.storage.login().then(function () {\n\t\t\t\treturn _this5.storage.store(_this5.getData());\n\t\t\t}).catch(function (err) {\n\t\t\t\tif (err) {\n\t\t\t\t\tvar message = \"Problem saving data\";\n\n\t\t\t\t\tif (err instanceof XMLHttpRequest) {\n\t\t\t\t\t\tmessage += err.status ? \": HTTP error \" + err.status + \": \" + err.statusText : \": Can’t connect to the Internet\";\n\t\t\t\t\t}\n\n\t\t\t\t\t_this5.error(message, err);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}).then(function (saved) {\n\t\t\t\t_this5.inProgress = false;\n\t\t\t\treturn saved;\n\t\t\t});\n\t\t},\n\n\t\tupload: function upload(file) {\n\t\t\tvar _this6 = this;\n\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"images/\" + file.name;\n\n\t\t\tif (!this.uploadBackend) {\n\t\t\t\treturn Promise.reject();\n\t\t\t}\n\n\t\t\tthis.inProgress = \"Uploading\";\n\n\t\t\treturn this.uploadBackend.upload(file, path).then(function (url) {\n\t\t\t\t_this6.inProgress = false;\n\t\t\t\treturn url;\n\t\t\t}).catch(function (err) {\n\t\t\t\t_this6.error(\"Error uploading file\", err);\n\t\t\t\t_this6.inProgress = false;\n\t\t\t\treturn null;\n\t\t\t});\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tvar _this7 = this;\n\n\t\t\treturn this.store().then(function (saved) {\n\t\t\t\tif (saved) {\n\t\t\t\t\t$.fire(_this7.element, \"mavo:save\", saved);\n\n\t\t\t\t\t_this7.lastSaved = Date.now();\n\t\t\t\t\t_this7.root.save();\n\t\t\t\t\t_this7.unsavedChanges = false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\twalk: function walk(callback) {\n\t\t\treturn this.root.walk(callback);\n\t\t},\n\n\t\t/**\n   * Executes a test on every node. If ANY node passes (test returns true),\n   * the function returns true. Otherwise, it returns false.\n   * Similar semantics to Array.prototype.some().\n   */\n\t\tsome: function some(test) {\n\t\t\treturn !this.walk(function (obj, path) {\n\t\t\t\tvar ret = test(obj, path);\n\n\t\t\t\tif (ret === true) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlive: {\n\t\t\tinProgress: function inProgress(value) {\n\t\t\t\t$.toggleAttribute(this.element, \"mv-progress\", value, value);\n\t\t\t},\n\n\t\t\tunsavedChanges: function unsavedChanges(value) {\n\t\t\t\tthis.element.classList.toggle(\"mv-unsaved-changes\", value);\n\t\t\t},\n\n\t\t\tneedsEdit: function needsEdit(value) {\n\t\t\t\tthis.bar.toggle(\"edit\", value);\n\t\t\t},\n\n\t\t\tstorage: function storage(value) {\n\t\t\t\tif (value !== this._storage && !value) {\n\t\t\t\t\tvar permissions = new Mavo.Permissions({ edit: true, save: false });\n\t\t\t\t\tpermissions.parent = this.permissions.parent;\n\t\t\t\t\tthis.permissions.parent = permissions;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tprimaryBackend: function primaryBackend(value) {\n\t\t\t\tvalue = value || null;\n\n\t\t\t\tif (value != this._primaryBackend) {\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tthis.element.style.setProperty(\"--mv-backend\", \"\\\"\" + value.id + \"\\\"\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.element.style.removeProperty(\"--mv-backend\");\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tuploadBackend: {\n\t\t\t\tget: function get() {\n\t\t\t\t\tif (this.storage && this.storage.upload) {\n\t\t\t\t\t\t// Prioritize storage\n\t\t\t\t\t\treturn this.storage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tall: {},\n\n\t\t\tget length() {\n\t\t\t\treturn Object.keys(_.all).length;\n\t\t\t},\n\n\t\t\tget: function get(id) {\n\t\t\t\tif (id instanceof Element) {\n\t\t\t\t\t// Get by element\n\t\t\t\t\tfor (var name in _.all) {\n\t\t\t\t\t\tif (_.all[name].element == id) {\n\t\t\t\t\t\t\treturn _.all[name];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tvar name = typeof id === \"number\" ? Object.keys(_.all)[id] : id;\n\n\t\t\t\treturn _.all[name] || null;\n\t\t\t},\n\n\t\t\tsuperKey: navigator.platform.indexOf(\"Mac\") === 0 ? \"metaKey\" : \"ctrlKey\",\n\t\t\tbase: location.protocol == \"about:\" ? document.currentScript ? document.currentScript.src : \"http://mavo.io\" : location,\n\t\t\tdependencies: [],\n\n\t\t\tinit: function init() {\n\t\t\t\tvar container = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n\t\t\t\treturn $$(_.selectors.init, container).filter(function (element) {\n\t\t\t\t\treturn !_.get(element);\n\t\t\t\t}) // not already inited\n\t\t\t\t.map(function (element) {\n\t\t\t\t\treturn new _(element);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tUI: {},\n\n\t\t\thooks: new $.Hooks(),\n\n\t\t\tattributes: [\"mv-app\", \"mv-storage\", \"mv-source\", \"mv-init\", \"mv-path\", \"mv-format\", \"mv-attribute\", \"mv-default\", \"mv-mode\", \"mv-edit\", \"mv-permisssions\", \"mv-rel\"]\n\t\t}\n\t});\n\n\t{\n\n\t\tvar s = _.selectors = {\n\t\t\tinit: \".mv-app, [mv-app], [data-mv-app]\",\n\t\t\tproperty: \"[property], [itemprop]\",\n\t\t\tspecificProperty: function specificProperty(name) {\n\t\t\t\treturn \"[property=\" + name + \"], [itemprop=\" + name + \"]\";\n\t\t\t},\n\t\t\tgroup: \"[typeof], [itemscope], [itemtype], [mv-group]\",\n\t\t\tmultiple: \"[mv-multiple]\",\n\t\t\tformControl: \"input, select, option, textarea\",\n\t\t\tui: \".mv-ui\",\n\t\t\tcontainer: {\n\t\t\t\t// \"li\": \"ul, ol\",\n\t\t\t\t\"tr\": \"table\",\n\t\t\t\t\"option\": \"select\"\n\t\t\t}\n\t\t};\n\n\t\tvar arr = s.arr = function (selector) {\n\t\t\treturn selector.split(/\\s*,\\s*/g);\n\t\t};\n\t\tvar not = s.not = function (selector) {\n\t\t\treturn arr(selector).map(function (s) {\n\t\t\t\treturn \":not(\" + s + \")\";\n\t\t\t}).join(\"\");\n\t\t};\n\t\tvar or = s.or = function (selector1, selector2) {\n\t\t\treturn selector1 + \", \" + selector2;\n\t\t};\n\t\tvar and = s.and = function (selector1, selector2) {\n\t\t\tvar ret = [],\n\t\t\t    arr2 = arr(selector2);\n\n\t\t\tarr(selector1).forEach(function (s1) {\n\t\t\t\treturn ret.push.apply(ret, _toConsumableArray(arr2.map(function (s2) {\n\t\t\t\t\treturn s1 + s2;\n\t\t\t\t})));\n\t\t\t});\n\n\t\t\treturn ret.join(\", \");\n\t\t};\n\t\tvar andNot = s.andNot = function (selector1, selector2) {\n\t\t\treturn and(selector1, not(selector2));\n\t\t};\n\n\t\t$.extend(_.selectors, {\n\t\t\tprimitive: andNot(s.property, s.group),\n\t\t\trootGroup: andNot(s.group, s.property),\n\t\t\toutput: or(s.specificProperty(\"output\"), \".mv-output\")\n\t\t});\n\t}\n\n\t// Init mavo. Async to give other scripts a chance to modify stuff.\n\trequestAnimationFrame(function () {\n\t\tvar isDecentBrowser = Array.from && window.Intl && document.documentElement.closest && self.URL && \"searchParams\" in URL.prototype;\n\n\t\t_.dependencies.push($.ready(), _.Plugins.load(), $.include(isDecentBrowser, \"https://cdn.polyfill.io/v2/polyfill.min.js?features=blissfuljs,Intl.~locale.en\"));\n\n\t\t_.ready = _.all(_.dependencies);\n\t\t_.inited = _.ready.catch(console.error).then(function () {\n\t\t\treturn Mavo.init();\n\t\t});\n\t});\n\n\tStretchy.selectors.filter = \".mv-editor:not([property]), .mv-autosize\";\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = $.extend(Mavo, {\n\t\t/**\n   * Load a file, only once\n   */\n\t\tload: function load(url) {\n\t\t\tvar base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.currentScript ? document.currentScript.src : location;\n\n\t\t\t_.loaded = _.loaded || new Set();\n\n\t\t\tif (_.loaded.has(url + \"\")) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\turl = new URL(url, base);\n\n\t\t\tif (/\\.css$/.test(url.pathname)) {\n\t\t\t\t// CSS file\n\t\t\t\t$.create(\"link\", {\n\t\t\t\t\t\"href\": url,\n\t\t\t\t\t\"rel\": \"stylesheet\",\n\t\t\t\t\t\"inside\": document.head\n\t\t\t\t});\n\n\t\t\t\t// No need to wait for stylesheets\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\t// JS file\n\t\t\treturn $.include(url);\n\t\t},\n\n\t\treadFile: function readFile(file) {\n\t\t\tvar format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"DataURL\";\n\n\t\t\tvar reader = new FileReader();\n\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\treader.onload = function (f) {\n\t\t\t\t\treturn resolve(reader.result);\n\t\t\t\t};\n\t\t\t\treader.onerror = reader.onabort = reject;\n\t\t\t\treader[\"readAs\" + format](file);\n\t\t\t});\n\t\t},\n\n\t\ttoJSON: function toJSON(data) {\n\t\t\tif (data === null) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\tif (typeof data === \"string\") {\n\t\t\t\t// Do not stringify twice!\n\t\t\t\treturn data;\n\t\t\t}\n\n\t\t\treturn JSON.stringify(data, null, \"\\t\");\n\t\t},\n\n\t\t/**\n   * Array utlities\n   */\n\n\t\t// If the passed value is not an array, convert to an array\n\t\ttoArray: function toArray(arr) {\n\t\t\treturn arr === undefined ? [] : Array.isArray(arr) ? arr : [arr];\n\t\t},\n\n\t\tdelete: function _delete(arr, element) {\n\t\t\tvar index = arr && arr.indexOf(element);\n\n\t\t\tif (index > -1) {\n\t\t\t\tarr.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Do two arrays have a non-empty intersection?\n   * @return {Boolean}\n   */\n\t\thasIntersection: function hasIntersection(arr1, arr2) {\n\t\t\treturn arr1 && arr2 && !arr1.every(function (el) {\n\t\t\t\treturn arr2.indexOf(el) == -1;\n\t\t\t});\n\t\t},\n\n\t\t// Recursively flatten a multi-dimensional array\n\t\tflatten: function flatten(arr) {\n\t\t\tif (!Array.isArray(arr)) {\n\t\t\t\treturn [arr];\n\t\t\t}\n\n\t\t\treturn arr.reduce(function (prev, c) {\n\t\t\t\treturn _.toArray(prev).concat(_.flatten(c));\n\t\t\t}, []);\n\t\t},\n\n\t\t// Push an item to an array iff it's not already in there\n\t\tpushUnique: function pushUnique(arr, item) {\n\t\t\tif (arr.indexOf(item) === -1) {\n\t\t\t\tarr.push(item);\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * DOM element utilities\n   */\n\n\t\tis: function is(thing) {\n\t\t\tfor (var _len = arguments.length, elements = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\telements[_key - 1] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar element = _step.value;\n\n\t\t\t\t\tif (element && element.matches && element.matches(_.selectors[thing])) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n   * Get the current value of a CSS property on an element\n   */\n\t\tgetStyle: function getStyle(element, property) {\n\t\t\treturn element && getComputedStyle(element).getPropertyValue(property).trim();\n\t\t},\n\n\t\t/**\n   * Get/set data on an element\n   */\n\t\tdata: function data(element, name, value) {\n\t\t\tif (arguments.length == 2) {\n\t\t\t\treturn $.value(element, \"_\", \"data\", \"mavo\", name);\n\t\t\t} else {\n\t\t\t\telement._.data.mavo = element._.data.mavo || {};\n\t\t\t\treturn element._.data.mavo[name] = value;\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Revocably add/remove elements from the DOM\n   */\n\t\trevocably: {\n\t\t\tadd: function add(element, parent) {\n\t\t\t\tvar comment = _.revocably.isRemoved(element);\n\n\t\t\t\tif (comment && comment.parentNode) {\n\t\t\t\t\tcomment.parentNode.replaceChild(element, comment);\n\t\t\t\t} else if (element && parent && !element.parentNode) {\n\t\t\t\t\t// Has not been revocably removed because it has never even been added\n\t\t\t\t\tparent.appendChild(element);\n\t\t\t\t}\n\n\t\t\t\treturn comment;\n\t\t\t},\n\n\t\t\tremove: function remove(element, commentText) {\n\t\t\t\tif (!element) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar comment = _.data(element, \"commentstub\");\n\n\t\t\t\tif (!comment) {\n\t\t\t\t\tcommentText = commentText || element.id || element.className || element.nodeName;\n\t\t\t\t\tcomment = _.data(element, \"commentstub\", document.createComment(commentText));\n\t\t\t\t}\n\n\t\t\t\tif (element.parentNode) {\n\t\t\t\t\t// In DOM, remove\n\t\t\t\t\telement.parentNode.replaceChild(comment, element);\n\t\t\t\t}\n\n\t\t\t\treturn comment;\n\t\t\t},\n\n\t\t\tisRemoved: function isRemoved(element) {\n\t\t\t\tif (!element || element.parentNode) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar comment = _.data(element, \"commentstub\");\n\n\t\t\t\tif (comment && comment.parentNode) {\n\t\t\t\t\treturn comment;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tinViewport: function inViewport(element) {\n\t\t\tvar r = element.getBoundingClientRect();\n\n\t\t\treturn (0 <= r.bottom && r.bottom <= innerHeight || 0 <= r.top && r.top <= innerHeight) && ( // vertical\n\t\t\t0 <= r.right && r.right <= innerWidth || 0 <= r.left && r.left <= innerWidth); // horizontal\n\t\t},\n\n\t\tscrollIntoViewIfNeeded: function scrollIntoViewIfNeeded(element) {\n\t\t\tif (element && !Mavo.inViewport(element)) {\n\t\t\t\telement.scrollIntoView({ behavior: \"smooth\" });\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Get the value of an attribute, with fallback attributes in priority order.\n   */\n\t\tgetAttribute: function getAttribute(element) {\n\t\t\tfor (var _len2 = arguments.length, attributes = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t\t\t\tattributes[_key2 - 1] = arguments[_key2];\n\t\t\t}\n\n\t\t\tfor (var i = 0, attribute; attribute = attributes[i]; i++) {\n\t\t\t\tvar value = element.getAttribute(attribute);\n\n\t\t\t\tif (value) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n   * Object utilities\n   */\n\n\t\tsubset: function subset(obj, path, value) {\n\t\t\tif (arguments.length == 3) {\n\t\t\t\t// Put\n\t\t\t\tif (path.length) {\n\t\t\t\t\tvar parent = $.value.apply($, [obj].concat(_toConsumableArray(path.slice(0, -1))));\n\t\t\t\t\tparent[path[path.length - 1]] = value;\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t} else if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) == \"object\" && path && path.length) {\n\t\t\t\t// Get\n\t\t\t\treturn path.reduce(function (obj, property, i) {\n\t\t\t\t\tif (obj && property in obj) {\n\t\t\t\t\t\treturn obj[property];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Array.isArray(obj) && isNaN(property)) {\n\t\t\t\t\t\t// Non-numeric property on array, try getting by id\n\t\t\t\t\t\tfor (var j = 0; j < obj.length; j++) {\n\t\t\t\t\t\t\tif (obj[j] && obj[j].id == property) {\n\t\t\t\t\t\t\t\tpath[i] = j;\n\t\t\t\t\t\t\t\treturn obj[j];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn obj;\n\t\t\t\t}, obj);\n\t\t\t} else {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Deep clone an object. Only supports object literals, arrays, and primitives\n   */\n\t\tclone: function clone(o) {\n\t\t\tvar cache = new WeakSet();\n\n\t\t\treturn JSON.parse(JSON.stringify(o, function (key, value) {\n\t\t\t\tif ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value !== null) {\n\t\t\t\t\t// No circular reference found\n\n\t\t\t\t\tif (cache.has(value)) {\n\t\t\t\t\t\treturn; // Circular reference found!\n\t\t\t\t\t}\n\n\t\t\t\t\tcache.add(value);\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t}));\n\t\t},\n\n\t\t// Credit: https://remysharp.com/2010/07/21/throttling-function-calls\n\t\tdebounce: function debounce(fn, delay) {\n\t\t\tif (!delay) {\n\t\t\t\t// No throttling\n\t\t\t\treturn fn;\n\t\t\t}\n\n\t\t\tvar timer = null,\n\t\t\t    _code;\n\n\t\t\treturn function () {\n\t\t\t\tvar context = this,\n\t\t\t\t    args = arguments;\n\t\t\t\t_code = function code() {\n\t\t\t\t\tfn.apply(context, args);\n\t\t\t\t\tremoveEventListener(\"beforeunload\", _code);\n\t\t\t\t};\n\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(_code, delay);\n\t\t\t\taddEventListener(\"beforeunload\", _code);\n\t\t\t};\n\t\t},\n\n\t\tescapeRegExp: function escapeRegExp(s) {\n\t\t\treturn s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n\t\t},\n\n\t\tObserver: $.Class({\n\t\t\tconstructor: function constructor(element, attribute, callback) {\n\t\t\t\tvar o = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n\t\t\t\tif (callback instanceof MutationObserver) {\n\t\t\t\t\tthis.observer = callback;\n\t\t\t\t}\n\n\t\t\t\tthis.observer = this.observer || new MutationObserver(callback);\n\t\t\t\tthis.element = element;\n\t\t\t\tthis.callback = callback;\n\t\t\t\tthis.attribute = attribute;\n\n\t\t\t\tthis.options = $.extend({}, o);\n\n\t\t\t\tif (attribute) {\n\t\t\t\t\t$.extend(this.options, {\n\t\t\t\t\t\tattributes: true,\n\t\t\t\t\t\tattributeFilter: this.attribute == \"all\" ? undefined : Mavo.toArray(this.attribute),\n\t\t\t\t\t\tattributeOldValue: !!o.oldValue\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!this.attribute || this.attribute == \"all\") {\n\t\t\t\t\t$.extend(this.options, {\n\t\t\t\t\t\tcharacterData: true,\n\t\t\t\t\t\tchildList: true,\n\t\t\t\t\t\tsubtree: true,\n\t\t\t\t\t\tcharacterDataOldValue: !!o.oldValue\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tthis.run();\n\t\t\t},\n\n\t\t\tstop: function stop() {\n\t\t\t\tthis.observer.disconnect();\n\t\t\t\tthis.running = false;\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\trun: function run() {\n\t\t\t\tif (this.observer) {\n\t\t\t\t\tthis.observer.observe(this.element, this.options);\n\t\t\t\t\tthis.running = true;\n\t\t\t\t}\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t/**\n    * Disconnect an observer, run some code, then observe again\n    */\n\t\t\tsneak: function sneak(callback) {\n\t\t\t\tif (this.running) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t\tvar ret = callback();\n\t\t\t\t\tthis.run();\n\t\t\t\t} else {\n\t\t\t\t\tvar ret = callback();\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\tdestroy: function destroy() {\n\t\t\t\tthis.observer.disconnect();\n\t\t\t\tthis.observer = this.element = null;\n\t\t\t},\n\n\t\t\tstatic: {\n\t\t\t\tsneak: function sneak(observer, callback) {\n\t\t\t\t\treturn observer ? observer.sneak(callback) : callback();\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\n\t\tdefer: function defer(constructor) {\n\t\t\tvar res, rej;\n\n\t\t\tvar promise = new Promise(function (resolve, reject) {\n\t\t\t\tif (constructor) {\n\t\t\t\t\tconstructor(resolve, reject);\n\t\t\t\t}\n\n\t\t\t\tres = resolve;\n\t\t\t\trej = reject;\n\t\t\t});\n\n\t\t\tpromise.resolve = function (a) {\n\t\t\t\tres(a);\n\t\t\t\treturn promise;\n\t\t\t};\n\n\t\t\tpromise.reject = function (a) {\n\t\t\t\trej(a);\n\t\t\t\treturn promise;\n\t\t\t};\n\n\t\t\treturn promise;\n\t\t},\n\n\t\t/**\n   * Similar to Promise.all() but can handle post-hoc additions\n   * and does not reject if one promise rejects.\n   */\n\t\tall: function all(iterable) {\n\t\t\t// Turn rejected promises into resolved ones\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = iterable[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar promise = _step2.value;\n\n\t\t\t\t\tif ($.type(promise) == \"promise\") {\n\t\t\t\t\t\tpromise = promise.catch(function (err) {\n\t\t\t\t\t\t\treturn err;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn Promise.all(iterable).then(function (resolved) {\n\t\t\t\tif (iterable.length != resolved.length) {\n\t\t\t\t\t// The list of promises or values changed. Return a new Promise.\n\t\t\t\t\t// The original promise won't resolve until the new one does.\n\t\t\t\t\treturn _.all(iterable);\n\t\t\t\t}\n\n\t\t\t\t// The list of promises or values stayed the same.\n\t\t\t\t// Return results immediately.\n\t\t\t\treturn resolved;\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Run & Return a function\n   */\n\t\trr: function rr(f) {\n\t\t\tf();\n\t\t\treturn f;\n\t\t}\n\t});\n\n\t// Bliss plugins\n\n\t$.add(\"toggleAttribute\", function (name, value) {\n\t\tvar test = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : value !== null;\n\n\t\tif (test) {\n\t\t\tthis.setAttribute(name, value);\n\t\t} else {\n\t\t\tthis.removeAttribute(name);\n\t\t}\n\t});\n\n\t// Provide shortcuts to long property chains\n\t$.proxy = $.classProps.proxy = $.overload(function (obj, property, proxy) {\n\t\tObject.defineProperty(obj, property, {\n\t\t\tget: function get() {\n\t\t\t\treturn this[proxy][property];\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tthis[proxy][property] = value;\n\t\t\t},\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true\n\t\t});\n\n\t\treturn obj;\n\t});\n\n\t$.classProps.propagated = function (proto, names) {\n\t\tMavo.toArray(names).forEach(function (name) {\n\t\t\tvar existing = proto[name];\n\n\t\t\tproto[name] = function () {\n\t\t\t\tvar ret = existing && existing.apply(this, arguments);\n\n\t\t\t\tif (this.propagate && ret !== false) {\n\t\t\t\t\tthis.propagate(name);\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\t// :focus-within and :target-within shim\n\tfunction updateWithin(cl, element) {\n\t\tcl = \"mv-\" + cl + \"-within\";\n\t\t$$(\".\" + cl).forEach(function (el) {\n\t\t\treturn el.classList.remove(cl);\n\t\t});\n\n\t\twhile (element && element.classList) {\n\t\t\telement.classList.add(cl);\n\t\t\telement = element.parentNode;\n\t\t}\n\t};\n\n\tdocument.addEventListener(\"focus\", function (evt) {\n\t\tupdateWithin(\"focus\", evt.target);\n\t}, true);\n\n\tdocument.addEventListener(\"blur\", function (evt) {\n\t\tupdateWithin(\"focus\", null);\n\t}, true);\n\n\taddEventListener(\"hashchange\", function (evt) {\n\t\tupdateWithin(\"target\", $(location.hash));\n\t});\n\n\tdocument.documentElement.addEventListener(\"mavo:datachange\", function (evt) {\n\t\t// TODO debounce\n\t\tupdateWithin(\"target\", $(location.hash));\n\t});\n\n\tupdateWithin(\"focus\", document.activeElement !== document.body ? document.activeElement : null);\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($) {\n\n\tMavo.attributes.push(\"mv-plugins\");\n\n\tvar _ = Mavo.Plugins = {\n\t\tloaded: {},\n\n\t\tload: function load() {\n\t\t\t_.plugins = new Set();\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = $$(\"[mv-plugins]\")[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar element = _step.value;\n\n\t\t\t\t\tvar plugins = element.getAttribute(\"mv-plugins\").trim().split(/\\s+/);\n\n\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator2 = plugins[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\tvar plugin = _step2.value;\n\n\t\t\t\t\t\t\t_.plugins.add(plugin);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!_.plugins.size) {\n\t\t\t\treturn Promise.resolve();\n\t\t\t}\n\n\t\t\t// Fetch plugin index\n\t\t\treturn $.fetch(_.url + \"/plugins.json\", {\n\t\t\t\tresponseType: \"json\"\n\t\t\t}).then(function (xhr) {\n\t\t\t\t// Fetch plugins\n\t\t\t\treturn Mavo.all(xhr.response.plugin.filter(function (plugin) {\n\t\t\t\t\treturn _.plugins.has(plugin.id);\n\t\t\t\t}).map(function (plugin) {\n\t\t\t\t\t// Load plugin\n\n\t\t\t\t\tif (plugin.repo) {\n\t\t\t\t\t\t// Plugin hosted in a separate repo\n\t\t\t\t\t\tvar base = \"https://raw.githubusercontent.com/\" + plugin.repo + \"/\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Plugin hosted in the mavo-plugins repo\n\t\t\t\t\t\tvar base = _.url + \"/\" + plugin.id + \"/\";\n\t\t\t\t\t}\n\n\t\t\t\t\tvar url = base + \"mavo-\" + plugin.id + \".js\";\n\n\t\t\t\t\treturn $.include(_.loaded[plugin.id], url);\n\t\t\t\t}));\n\t\t\t});\n\t\t},\n\n\t\tregister: function register(o) {\n\t\t\tif (o.name && _.loaded[o.name]) {\n\t\t\t\t// Do not register same plugin twice\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tMavo.hooks.add(o.hooks);\n\n\t\t\tfor (var Class in o.extend) {\n\t\t\t\tvar existing = Class == \"Mavo\" ? Mavo : Mavo[Class];\n\n\t\t\t\tif ($.type(existing) === \"function\") {\n\t\t\t\t\t$.Class(existing, o.extend[Class]);\n\t\t\t\t} else {\n\t\t\t\t\t$.extend(existing, o.extend[Class]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar ready = [];\n\n\t\t\tif (o.ready) {\n\t\t\t\tready.push(o.ready);\n\t\t\t}\n\n\t\t\tif (o.dependencies) {\n\t\t\t\tvar base = document.currentScript ? document.currentScript.src : location;\n\t\t\t\tvar dependencies = o.dependencies.map(function (url) {\n\t\t\t\t\treturn Mavo.load(url, base);\n\t\t\t\t});\n\t\t\t\tready.push.apply(ready, _toConsumableArray(dependencies));\n\t\t\t}\n\n\t\t\tif (ready.length) {\n\t\t\t\tvar _Mavo$dependencies;\n\n\t\t\t\t(_Mavo$dependencies = Mavo.dependencies).push.apply(_Mavo$dependencies, ready);\n\t\t\t}\n\n\t\t\tif (o.name) {\n\t\t\t\t_.loaded[o.name] = o;\n\t\t\t}\n\n\t\t\tif (o.init) {\n\t\t\t\tPromise.all(ready).then(function () {\n\t\t\t\t\treturn o.init();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\turl: \"https://plugins.mavo.io/\"\n\t};\n})(Bliss);\n\"use strict\";\n\n(function ($, $$) {\n\n\tMavo.attributes.push(\"mv-bar\");\n\n\tvar _ = Mavo.UI.Bar = $.Class({\n\t\tconstructor: function constructor(mavo) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.mavo = mavo;\n\n\t\t\tthis.element = $(\".mv-bar\", this.mavo.element) || $.create({\n\t\t\t\tclassName: \"mv-bar mv-ui\",\n\t\t\t\tstart: this.mavo.element,\n\t\t\t\tinnerHTML: \"<button>&nbsp;</button>\"\n\t\t\t});\n\n\t\t\tif (this.element.classList.contains(\"mv-compact\")) {\n\t\t\t\tthis.noResize = true;\n\t\t\t}\n\n\t\t\tthis.order = this.mavo.element.getAttribute(\"mv-bar\") || this.element.getAttribute(\"mv-bar\");\n\n\t\t\tif (this.order) {\n\t\t\t\tthis.order = this.order == \"none\" ? [] : this.order.split(/\\s+/);\n\t\t\t} else {\n\t\t\t\tthis.order = Object.keys(_.controls);\n\t\t\t}\n\n\t\t\tthis.order = this.order.filter(function (id) {\n\t\t\t\treturn _.controls[id];\n\t\t\t});\n\n\t\t\tif (this.order.length) {\n\t\t\t\t// Measure height of 1 row\n\t\t\t\tthis.targetHeight = this.element.offsetHeight;\n\t\t\t}\n\n\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\tvar _loop = function _loop(id) {\n\t\t\t\tvar o = _.controls[id];\n\n\t\t\t\tif (o.create) {\n\t\t\t\t\t_this[id] = o.create.call(_this.mavo);\n\t\t\t\t} else {\n\t\t\t\t\tlabel = o.label || Mavo.Functions.readable(id);\n\n\n\t\t\t\t\t_this[id] = $.create(\"button\", {\n\t\t\t\t\t\tclassName: \"mv-\" + id,\n\t\t\t\t\t\ttextContent: label,\n\t\t\t\t\t\ttitle: label\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// We initially add all of them to retain order,\n\t\t\t\t// then we remove revocably when/if needed\n\t\t\t\t_this.add(id);\n\n\t\t\t\tif (o.permission) {\n\t\t\t\t\t_this.permissions.can(o.permission, function () {\n\t\t\t\t\t\t_this.toggle(id, !o.condition || o.condition.call(_this.mavo));\n\t\t\t\t\t}, function () {\n\t\t\t\t\t\t_this.remove(id);\n\t\t\t\t\t});\n\t\t\t\t} else if (o.condition && !o.condition.call(_this.mavo)) {\n\t\t\t\t\t_this.remove(id);\n\t\t\t\t}\n\n\t\t\t\tfor (events in o.events) {\n\t\t\t\t\t$.events(_this[id], events, o.events[events].bind(_this.mavo));\n\t\t\t\t}\n\n\t\t\t\tif (o.action) {\n\t\t\t\t\t$.delegate(_this.element, \"click\", \".mv-\" + id, function () {\n\t\t\t\t\t\tif (!o.permission || _this.permissions.is(o.permission)) {\n\t\t\t\t\t\t\to.action.call(_this.mavo);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = this.order[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar id = _step.value;\n\t\t\t\t\tvar label;\n\t\t\t\t\tvar events;\n\n\t\t\t\t\t_loop(id);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.order.length && !this.noResize) {\n\t\t\t\tthis.resize();\n\n\t\t\t\tif (self.ResizeObserver) {\n\t\t\t\t\tvar previousRect = null;\n\n\t\t\t\t\tthis.resizeObserver = new ResizeObserver(function (entries) {\n\t\t\t\t\t\tvar contentRect = entries[entries.length - 1].contentRect;\n\n\t\t\t\t\t\tif (previousRect && previousRect.width == contentRect.width && previousRect.height == contentRect.height) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_this.resize();\n\n\t\t\t\t\t\tpreviousRect = contentRect;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.resizeObserver.observe(this.element);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tresize: function resize() {\n\t\t\tif (!this.targetHeight) {\n\t\t\t\t// We don't have a correct measurement for target height, abort\n\t\t\t\tthis.targetHeight = this.element.offsetHeight;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.resizeObserver && this.resizeObserver.disconnect();\n\n\t\t\tthis.element.classList.remove(\"mv-compact\", \"mv-tiny\");\n\n\t\t\t// Exceeded single row?\n\t\t\tif (this.element.offsetHeight > this.targetHeight * 1.5) {\n\t\t\t\tthis.element.classList.add(\"mv-compact\");\n\n\t\t\t\tif (this.element.offsetHeight > this.targetHeight * 1.2) {\n\t\t\t\t\t// Still too tall\n\t\t\t\t\tthis.element.classList.add(\"mv-tiny\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.resizeObserver && this.resizeObserver.observe(this.element);\n\t\t},\n\n\t\tadd: function add(id) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar o = _.controls[id];\n\n\t\t\tif (o.prepare) {\n\t\t\t\to.prepare.call(this.mavo);\n\t\t\t}\n\n\t\t\tMavo.revocably.add(this[id], this.element);\n\n\t\t\tif (!this.resizeObserver && !this.noResize) {\n\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\treturn _this2.resize();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tremove: function remove(id) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar o = _.controls[id];\n\n\t\t\tMavo.revocably.remove(this[id], \"mv-\" + id);\n\n\t\t\tif (o.cleanup) {\n\t\t\t\to.cleanup.call(this.mavo);\n\t\t\t}\n\n\t\t\tif (!this.resizeObserver && !this.noResize) {\n\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\treturn _this3.resize();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function toggle(id, add) {\n\t\t\treturn this[add ? \"add\" : \"remove\"](id);\n\t\t},\n\n\t\tproxy: {\n\t\t\t\"permissions\": \"mavo\"\n\t\t},\n\n\t\tstatic: {\n\t\t\tcontrols: {\n\t\t\t\tstatus: {\n\t\t\t\t\tcreate: function create() {\n\t\t\t\t\t\tvar status = $.create({\n\t\t\t\t\t\t\tclassName: \"mv-status\"\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn status;\n\t\t\t\t\t},\n\t\t\t\t\tprepare: function prepare() {\n\t\t\t\t\t\tvar backend = this.primaryBackend;\n\n\t\t\t\t\t\tif (backend && backend.user) {\n\t\t\t\t\t\t\tvar user = backend.user;\n\t\t\t\t\t\t\tvar html = user.name || \"\";\n\n\t\t\t\t\t\t\tif (user.avatar) {\n\t\t\t\t\t\t\t\thtml = \"<img class=\\\"mv-avatar\\\" src=\\\"\" + user.avatar + \"\\\" /> \" + html;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (user.url) {\n\t\t\t\t\t\t\t\thtml = \"<a href=\\\"\" + user.url + \"\\\" target=\\\"_blank\\\">\" + html + \"</a>\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.bar.status.innerHTML = html;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tpermission: \"logout\"\n\t\t\t\t},\n\n\t\t\t\tedit: {\n\t\t\t\t\taction: function action() {\n\t\t\t\t\t\tif (this.editing) {\n\t\t\t\t\t\t\tthis.done();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.edit();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tpermission: [\"edit\", \"add\", \"delete\"],\n\t\t\t\t\tcleanup: function cleanup() {\n\t\t\t\t\t\tif (this.editing) {\n\t\t\t\t\t\t\tthis.done();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tsave: {\n\t\t\t\t\taction: function action() {\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t},\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t\"mouseenter focus\": function mouseenterFocus() {\n\t\t\t\t\t\t\tthis.element.classList.add(\"mv-highlight-unsaved\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"mouseleave blur\": function mouseleaveBlur() {\n\t\t\t\t\t\t\tthis.element.classList.remove(\"mv-highlight-unsaved\");\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tpermission: \"save\",\n\t\t\t\t\tcondition: function condition() {\n\t\t\t\t\t\treturn !this.autoSave || this.autoSaveDelay > 0;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tclear: {\n\t\t\t\t\taction: function action() {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t},\n\t\t\t\t\tpermission: \"delete\"\n\t\t\t\t},\n\n\t\t\t\tlogin: {\n\t\t\t\t\taction: function action() {\n\t\t\t\t\t\tthis.primaryBackend.login();\n\t\t\t\t\t},\n\t\t\t\t\tpermission: \"login\"\n\t\t\t\t},\n\n\t\t\t\tlogout: {\n\t\t\t\t\taction: function action() {\n\t\t\t\t\t\tthis.primaryBackend.logout();\n\t\t\t\t\t},\n\t\t\t\t\tpermission: \"logout\"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\n(function ($, $$) {\n\n\tvar _ = Mavo.UI.Message = $.Class({\n\t\tconstructor: function constructor(mavo, message, o) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.mavo = mavo;\n\t\t\tthis.message = message;\n\t\t\tthis.closed = Mavo.defer();\n\n\t\t\tthis.element = $.create({\n\t\t\t\tclassName: \"mv-ui mv-message\",\n\t\t\t\tinnerHTML: this.message,\n\t\t\t\tevents: {\n\t\t\t\t\tclick: function click(e) {\n\t\t\t\t\t\treturn Mavo.scrollIntoViewIfNeeded(_this.mavo.element);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tafter: this.mavo.bar.element\n\t\t\t});\n\n\t\t\tif (o.classes) {\n\t\t\t\tthis.element.classList.add(o.classes);\n\t\t\t}\n\n\t\t\to.dismiss = o.dismiss || {};\n\n\t\t\tif (typeof o.dismiss == \"string\" || Array.isArray(o.dismiss)) {\n\t\t\t\tvar dismiss = {};\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = Mavo.toArray(o.dismiss)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar prop = _step.value;\n\n\t\t\t\t\t\tdismiss[prop] = true;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\to.dismiss = dismiss;\n\t\t\t}\n\n\t\t\tif (o.dismiss.button) {\n\t\t\t\t$.create(\"button\", {\n\t\t\t\t\tclassName: \"mv-close mv-ui\",\n\t\t\t\t\ttextContent: \"×\",\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\treturn _this.close();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tstart: this.element\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (o.dismiss.timeout) {\n\t\t\t\tvar timeout = typeof o.dismiss.timeout === \"number\" ? o.dismiss.timeout : 5000;\n\t\t\t\tvar closeTimeout;\n\n\t\t\t\t$.events(this.element, {\n\t\t\t\t\tmouseenter: function mouseenter(e) {\n\t\t\t\t\t\treturn clearTimeout(closeTimeout);\n\t\t\t\t\t},\n\t\t\t\t\tmouseleave: Mavo.rr(function (e) {\n\t\t\t\t\t\treturn closeTimeout = setTimeout(function () {\n\t\t\t\t\t\t\treturn _this.close();\n\t\t\t\t\t\t}, timeout);\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (o.dismiss.submit) {\n\t\t\t\tthis.element.addEventListener(\"submit\", function (evt) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t_this.close(evt.target);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tclose: function close(resolve) {\n\t\t\tvar _this2 = this;\n\n\t\t\t$.transition(this.element, { opacity: 0 }).then(function () {\n\t\t\t\t$.remove(_this2.element);\n\t\t\t\t_this2.closed.resolve(resolve);\n\t\t\t});\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\n(function ($) {\n\n\tvar _ = Mavo.Permissions = $.Class({\n\t\tconstructor: function constructor(o) {\n\t\t\tthis.triggers = [];\n\t\t\tthis.hooks = new $.Hooks();\n\n\t\t\t// If we don’t do this, there is no way to retrieve this from inside parentChanged\n\t\t\tthis.parentChanged = _.prototype.parentChanged.bind(this);\n\n\t\t\tthis.set(o);\n\t\t},\n\n\t\t// Set multiple permissions at once\n\t\tset: function set(o) {\n\t\t\tfor (var action in o) {\n\t\t\t\tthis[action] = o[action];\n\t\t\t}\n\t\t},\n\n\t\t// Set a bunch of permissions to true. Chainable.\n\t\ton: function on(actions) {\n\t\t\tvar _this = this;\n\n\t\t\tMavo.toArray(actions).forEach(function (action) {\n\t\t\t\treturn _this[action] = true;\n\t\t\t});\n\n\t\t\treturn this;\n\t\t},\n\n\t\t// Set a bunch of permissions to false. Chainable.\n\t\toff: function off(actions) {\n\t\t\tvar _this2 = this;\n\n\t\t\tactions = Array.isArray(actions) ? actions : [actions];\n\n\t\t\tactions.forEach(function (action) {\n\t\t\t\treturn _this2[action] = false;\n\t\t\t});\n\n\t\t\treturn this;\n\t\t},\n\n\t\t// Fired once at least one of the actions passed can be performed\n\t\t// Kind of like a Promise that can be resolved multiple times.\n\t\tcan: function can(actions, callback, cannot) {\n\t\t\tthis.observe(actions, true, callback);\n\n\t\t\tif (cannot) {\n\t\t\t\t// Fired once the action cannot be done anymore, even though it could be done before\n\t\t\t\tthis.cannot(actions, cannot);\n\t\t\t}\n\t\t},\n\n\t\t// Fired once NONE of the actions can be performed\n\t\tcannot: function cannot(actions, callback) {\n\t\t\tthis.observe(actions, false, callback);\n\t\t},\n\n\t\t// Schedule a callback for when a set of permissions changes value\n\t\tobserve: function observe(actions, value, callback) {\n\t\t\tactions = Mavo.toArray(actions);\n\n\t\t\tif (this.is(actions, value)) {\n\t\t\t\t// Should be fired immediately\n\t\t\t\tcallback();\n\t\t\t}\n\n\t\t\t// For future transitions\n\t\t\tthis.triggers.push({ actions: actions, value: value, callback: callback, active: true });\n\t\t},\n\n\t\t// Compare a set of permissions with true or false\n\t\t// If comparing with true, we want at least one to be true, i.e. OR\n\t\t// If comparing with false, we want ALL to be false, i.e. NOR\n\t\tis: function is(actions) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar able = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\t\t\tvar or = Mavo.toArray(actions).map(function (action) {\n\t\t\t\treturn !!_this3[action];\n\t\t\t}).reduce(function (prev, current) {\n\t\t\t\treturn prev || current;\n\t\t\t});\n\n\t\t\treturn able ? or : !or;\n\t\t},\n\n\t\t// Monitor all changes\n\t\tonchange: function onchange(callback) {\n\t\t\t// Future changes\n\t\t\tthis.hooks.add(\"change\", callback);\n\n\t\t\t// Fire for current values\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = _.actions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\tvar action = _step.value;\n\n\t\t\t\t\tcallback.call(this, { action: action, value: this[action] });\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tparentChanged: function parentChanged() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar localValue = this[\"_\" + o.action];\n\n\t\t\tif (localValue !== undefined || o.from == o.value) {\n\t\t\t\t// We have a local value so we don’t care about parent changes OR nothing changed\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.fireTriggers(o.action);\n\n\t\t\tthis.hooks.run(\"change\", $.extend({ context: this }, o));\n\t\t},\n\n\t\t// A single permission changed value\n\t\tchanged: function changed(action, value, from) {\n\t\t\tfrom = !!from;\n\t\t\tvalue = !!value;\n\n\t\t\tif (value == from) {\n\t\t\t\t// Nothing changed\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// $.live() calls the setter before the actual property is set so we\n\t\t\t// need to set it manually, otherwise it still has its previous value\n\t\t\tthis[\"_\" + action] = value;\n\n\t\t\tthis.fireTriggers(action);\n\n\t\t\tthis.hooks.run(\"change\", { action: action, value: value, from: from, context: this });\n\t\t},\n\n\t\tfireTriggers: function fireTriggers(action) {\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = this.triggers[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar trigger = _step2.value;\n\n\t\t\t\t\tvar match = this.is(trigger.actions, trigger.value);\n\n\t\t\t\t\tif (trigger.active && trigger.actions.indexOf(action) > -1 && match) {\n\n\t\t\t\t\t\ttrigger.active = false;\n\t\t\t\t\t\ttrigger.callback();\n\t\t\t\t\t} else if (!match) {\n\t\t\t\t\t\t// This is so that triggers can only be executed in an actual transition\n\t\t\t\t\t\t// And that if there is a trigger for [a,b] it won't be executed twice\n\t\t\t\t\t\t// if a and b are set to true one after the other\n\t\t\t\t\t\ttrigger.active = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tor: function or(permissions) {\n\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\tvar _didIteratorError3 = false;\n\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator3 = _.actions[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\tvar action = _step3.value;\n\n\t\t\t\t\tthis[action] = this[action] || permissions[action];\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t_iteratorError3 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\tlive: {\n\t\t\tparent: function parent(_parent) {\n\t\t\t\tvar oldParent = this._parent;\n\n\t\t\t\tif (oldParent == _parent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._parent = _parent;\n\n\t\t\t\t// Remove previous trigger, if any\n\t\t\t\tif (oldParent) {\n\t\t\t\t\tMavo.delete(oldParent.hooks.change, this.parentChanged);\n\t\t\t\t}\n\n\t\t\t\t// What changes does this cause? Fire triggers for them\n\t\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\t\tvar _didIteratorError4 = false;\n\t\t\t\tvar _iteratorError4 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator4 = _.actions[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\t\tvar action = _step4.value;\n\n\t\t\t\t\t\tthis.parentChanged({\n\t\t\t\t\t\t\taction: action,\n\t\t\t\t\t\t\tvalue: _parent ? _parent[action] : undefined,\n\t\t\t\t\t\t\tfrom: oldParent ? oldParent[action] : undefined\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t\t_iteratorError4 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (_parent) {\n\t\t\t\t\t// Add new trigger\n\t\t\t\t\t_parent.onchange(this.parentChanged);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tactions: [],\n\n\t\t\t// Register a new permission type\n\t\t\tregister: function register(action, setter) {\n\t\t\t\tif (Array.isArray(action)) {\n\t\t\t\t\taction.forEach(function (action) {\n\t\t\t\t\t\treturn _.register(action, setter);\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t$.live(_.prototype, action, {\n\t\t\t\t\tget: function get() {\n\t\t\t\t\t\tvar ret = this[\"_\" + action];\n\n\t\t\t\t\t\tif (ret === undefined && this.parent) {\n\t\t\t\t\t\t\treturn this.parent[action];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t},\n\t\t\t\t\tset: function set(able, previous) {\n\t\t\t\t\t\tif (setter) {\n\t\t\t\t\t\t\tsetter.call(this, able, previous);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.changed(action, able, previous);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_.actions.push(action);\n\t\t\t}\n\t\t}\n\t});\n\n\t_.register([\"read\", \"save\"]);\n\n\t_.register(\"login\", function (can) {\n\t\tif (can && this.logout) {\n\t\t\tthis.logout = false;\n\t\t}\n\t});\n\n\t_.register(\"logout\", function (can) {\n\t\tif (can && this.login) {\n\t\t\tthis.login = false;\n\t\t}\n\t});\n\n\t_.register(\"edit\", function (can) {\n\t\tif (can) {\n\t\t\tthis.add = this.delete = true;\n\t\t}\n\t});\n\n\t_.register([\"add\", \"delete\"], function (can) {\n\t\tif (!can) {\n\t\t\tthis.edit = false;\n\t\t}\n\t});\n})(Bliss);\n\"use strict\";\n\n(function ($) {\n\n\t/**\n  * Base class for all backends\n  */\n\tvar _ = Mavo.Backend = $.Class({\n\t\tconstructor: function constructor(url) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tthis.source = url;\n\t\t\tthis.url = new URL(this.source, Mavo.base);\n\t\t\tthis.mavo = o.mavo;\n\t\t\tthis.format = Mavo.Formats.create(o.format, this);\n\n\t\t\t// Permissions of this particular backend.\n\t\t\tthis.permissions = new Mavo.Permissions();\n\t\t},\n\n\t\tget: function get() {\n\t\t\tvar url = new URL(this.url);\n\t\t\turl.searchParams.set(\"timestamp\", Date.now()); // ensure fresh copy\n\n\t\t\treturn $.fetch(this.url.href).then(function (xhr) {\n\t\t\t\treturn Promise.resolve(xhr.responseText);\n\t\t\t}, function () {\n\t\t\t\treturn Promise.resolve(null);\n\t\t\t});\n\t\t},\n\n\t\tload: function load() {\n\t\t\tvar _this = this;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\treturn _this.get();\n\t\t\t}).then(function (response) {\n\t\t\t\tif (typeof response != \"string\") {\n\t\t\t\t\t// Backend did the parsing, we're done here\n\t\t\t\t\treturn response;\n\t\t\t\t}\n\n\t\t\t\tresponse = response.replace(/^\\ufeff/, \"\"); // Remove Unicode BOM\n\n\t\t\t\treturn _this.format.parse(response);\n\t\t\t});\n\t\t},\n\n\t\tstore: function store(data) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t\t    path = _ref.path,\n\t\t\t    _ref$format = _ref.format,\n\t\t\t    format = _ref$format === undefined ? this.format : _ref$format;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\tvar serialize = typeof data === \"string\" ? Promise.resolve(data) : format.stringify(data);\n\n\t\t\t\treturn serialize.then(function (serialized) {\n\t\t\t\t\treturn _this2.put(serialized, path).then(function () {\n\t\t\t\t\t\treturn { data: data, serialized: serialized };\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t// To be be overriden by subclasses\n\t\tready: Promise.resolve(),\n\t\tlogin: function login() {\n\t\t\treturn Promise.resolve();\n\t\t},\n\t\tlogout: function logout() {\n\t\t\treturn Promise.resolve();\n\t\t},\n\n\t\tisAuthenticated: function isAuthenticated() {\n\t\t\treturn !!this.accessToken;\n\t\t},\n\n\t\t// Any extra params to be passed to the oAuth URL.\n\t\toAuthParams: function oAuthParams() {\n\t\t\treturn \"\";\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\treturn this.id + \" (\" + this.url + \")\";\n\t\t},\n\n\t\tequals: function equals(backend) {\n\t\t\treturn backend === this || backend && this.id == backend.id && this.source == backend.source;\n\t\t},\n\n\t\t/**\n   * Helper for making OAuth requests with JSON-based APIs.\n   */\n\t\trequest: function request(call, data) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"GET\";\n\t\t\tvar req = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n\t\t\treq.method = req.method || method;\n\t\t\treq.responseType = req.responseType || \"json\";\n\t\t\treq.headers = req.headers || {};\n\t\t\treq.headers[\"Content-Type\"] = req.headers[\"Content-Type\"] || \"application/json; charset=utf-8\";\n\t\t\treq.data = data;\n\n\t\t\tif (this.isAuthenticated()) {\n\t\t\t\treq.headers[\"Authorization\"] = req.headers[\"Authorization\"] || \"Bearer \" + this.accessToken;\n\t\t\t}\n\n\t\t\tif ($.type(req.data) === \"object\") {\n\t\t\t\tif (req.method == \"GET\") {\n\t\t\t\t\treq.data = Object.keys(req.data).map(function (p) {\n\t\t\t\t\t\treturn p + \"=\" + encodeURIComponent(req.data[p]);\n\t\t\t\t\t}).join(\"&\");\n\t\t\t\t} else {\n\t\t\t\t\treq.data = JSON.stringify(req.data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcall = new URL(call, this.constructor.apiDomain);\n\n\t\t\treturn $.fetch(call, req).catch(function (err) {\n\t\t\t\tif (err && err.xhr) {\n\t\t\t\t\treturn Promise.reject(err.xhr);\n\t\t\t\t} else {\n\t\t\t\t\t_this3.mavo.error(\"Something went wrong while connecting to \" + _this3.id, err);\n\t\t\t\t}\n\t\t\t}).then(function (xhr) {\n\t\t\t\treturn req.method == \"HEAD\" ? xhr : xhr.response;\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Helper method for authenticating in OAuth APIs\n   */\n\t\toAuthenticate: function oAuthenticate(passive) {\n\t\t\tvar _this4 = this;\n\n\t\t\treturn this.ready.then(function () {\n\t\t\t\tif (_this4.isAuthenticated()) {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tvar id = _this4.id.toLowerCase();\n\n\t\t\t\t\tif (passive) {\n\t\t\t\t\t\t_this4.accessToken = localStorage[\"mavo:\" + id + \"token\"];\n\n\t\t\t\t\t\tif (_this4.accessToken) {\n\t\t\t\t\t\t\tresolve(_this4.accessToken);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Show window\n\t\t\t\t\t\tvar popup = {\n\t\t\t\t\t\t\twidth: Math.min(1000, innerWidth - 100),\n\t\t\t\t\t\t\theight: Math.min(800, innerHeight - 100)\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpopup.top = (innerHeight - popup.height) / 2 + (screen.top || screenTop);\n\t\t\t\t\t\tpopup.left = (innerWidth - popup.width) / 2 + (screen.left || screenLeft);\n\n\t\t\t\t\t\tvar state = {\n\t\t\t\t\t\t\turl: location.href,\n\t\t\t\t\t\t\tbackend: _this4.id\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t_this4.authPopup = open(_this4.constructor.oAuth + \"?client_id=\" + _this4.key + \"&state=\" + encodeURIComponent(JSON.stringify(state)) + _this4.oAuthParams(), \"popup\", \"width=\" + popup.width + \",height=\" + popup.height + \",left=\" + popup.left + \",top=\" + popup.top);\n\n\t\t\t\t\t\taddEventListener(\"message\", function (evt) {\n\t\t\t\t\t\t\tif (evt.source === _this4.authPopup) {\n\t\t\t\t\t\t\t\tif (evt.data.backend == _this4.id) {\n\t\t\t\t\t\t\t\t\t_this4.accessToken = localStorage[\"mavo:\" + id + \"token\"] = evt.data.token;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (!_this4.accessToken) {\n\t\t\t\t\t\t\t\t\treject(Error(\"Authentication error\"));\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tresolve(_this4.accessToken);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * oAuth logout helper\n   */\n\t\toAuthLogout: function oAuthLogout() {\n\t\t\tif (this.isAuthenticated()) {\n\t\t\t\tvar id = this.id.toLowerCase();\n\n\t\t\t\tlocalStorage.removeItem(\"mavo:\" + id + \"token\");\n\t\t\t\tdelete this.accessToken;\n\n\t\t\t\tthis.permissions.off([\"edit\", \"add\", \"delete\", \"save\"]).on(\"login\");\n\n\t\t\t\tthis.mavo.element._.fire(\"mavo:logout\", { backend: this });\n\t\t\t}\n\n\t\t\treturn Promise.resolve();\n\t\t},\n\n\t\tstatic: {\n\t\t\t// Return the appropriate backend(s) for this url\n\t\t\tcreate: function create(url, o) {\n\t\t\t\tif (url) {\n\t\t\t\t\tvar Backend = _.types.filter(function (Backend) {\n\t\t\t\t\t\treturn Backend.test(url);\n\t\t\t\t\t})[0] || _.Remote;\n\n\t\t\t\t\treturn new Backend(url, o);\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t},\n\n\t\t\ttypes: [],\n\n\t\t\tregister: function register(Class) {\n\t\t\t\t_[Class.prototype.id] = Class;\n\t\t\t\t_.types.push(Class);\n\t\t\t\treturn Class;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n  * Save in an HTML element\n  */\n\t_.register($.Class({\n\t\tid: \"Element\",\n\t\textends: _,\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on([\"read\", \"edit\", \"save\"]);\n\n\t\t\tthis.element = $(this.source) || $.create(\"script\", {\n\t\t\t\ttype: \"application/json\",\n\t\t\t\tid: this.source.slice(1),\n\t\t\t\tinside: document.body\n\t\t\t});\n\t\t},\n\n\t\tget: function get() {\n\t\t\treturn Promise.resolve(this.element.textContent);\n\t\t},\n\n\t\tput: function put(serialized) {\n\t\t\treturn Promise.resolve(this.element.textContent = serialized);\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(url) {\n\t\t\t\treturn url.indexOf(\"#\") === 0;\n\t\t\t}\n\t\t}\n\t}));\n\n\t// Load from a remote URL, no save\n\t_.register($.Class({\n\t\tid: \"Remote\",\n\t\textends: _,\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on(\"read\");\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(url) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}));\n\n\t// Save in localStorage\n\t_.register($.Class({\n\t\textends: _,\n\t\tid: \"Local\",\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on([\"read\", \"edit\", \"save\"]);\n\t\t\tthis.key = this.mavo.id;\n\t\t},\n\n\t\tget: function get() {\n\t\t\treturn Promise[this.key in localStorage ? \"resolve\" : \"reject\"](localStorage[this.key]);\n\t\t},\n\n\t\tput: function put(serialized) {\n\t\t\tif (!serialized) {\n\t\t\t\tdelete localStorage[this.key];\n\t\t\t} else {\n\t\t\t\tlocalStorage[this.key] = serialized;\n\t\t\t}\n\n\t\t\treturn Promise.resolve(serialized);\n\t\t},\n\n\t\tstatic: {\n\t\t\ttest: function test(value) {\n\t\t\t\treturn value == \"local\";\n\t\t\t}\n\t\t}\n\t}));\n})(Bliss);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Formats = {};\n\n\tvar base = _.Base = $.Class({\n\t\tabstract: true,\n\t\tconstructor: function constructor(backend) {\n\t\t\tthis.backend = backend;\n\t\t},\n\t\tproxy: {\n\t\t\t\"mavo\": \"backend\"\n\t\t},\n\n\t\t// So that child classes can only override the static methods if they don't\n\t\t// need access to any instance variables.\n\t\tparse: function parse(content) {\n\t\t\treturn this.constructor.parse(content, this);\n\t\t},\n\t\tstringify: function stringify(data) {\n\t\t\treturn this.constructor.stringify(data, this);\n\t\t},\n\n\t\tstatic: {\n\t\t\tparse: function parse(serialized) {\n\t\t\t\treturn Promise.resolve(serialized);\n\t\t\t},\n\t\t\tstringify: function stringify(data) {\n\t\t\t\treturn Promise.resolve(data);\n\t\t\t},\n\t\t\textensions: [],\n\t\t\tdependencies: [],\n\t\t\tready: function ready() {\n\t\t\t\treturn Promise.all(this.dependencies.map(function (d) {\n\t\t\t\t\treturn $.include(d.test(), d.url);\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t});\n\n\tvar json = _.JSON = $.Class({\n\t\textends: _.Base,\n\t\tstatic: {\n\t\t\tparse: function parse(serialized) {\n\t\t\t\treturn Promise.resolve(serialized ? JSON.parse(serialized) : null);\n\t\t\t},\n\t\t\tstringify: function stringify(data) {\n\t\t\t\treturn Promise.resolve(Mavo.toJSON(data));\n\t\t\t},\n\t\t\textensions: [\".json\", \".jsonld\"]\n\t\t}\n\t});\n\n\tvar text = _.Text = $.Class({\n\t\textends: _.Base,\n\t\tconstructor: function constructor(backend) {\n\t\t\tthis.property = this.mavo.root.getNames(\"Primitive\")[0];\n\t\t},\n\n\t\tstatic: {\n\t\t\textensions: [\".txt\"],\n\t\t\tparse: function parse(serialized, me) {\n\t\t\t\treturn Promise.resolve(_defineProperty({}, me ? me.property : \"content\", serialized));\n\t\t\t},\n\t\t\tstringify: function stringify(data, me) {\n\t\t\t\treturn Promise.resolve(data[me ? me.property : \"content\"]);\n\t\t\t}\n\t\t}\n\t});\n\n\tvar csv = _.CSV = $.Class({\n\t\textends: _.Base,\n\t\tconstructor: function constructor(backend) {\n\t\t\tthis.property = this.mavo.root.getNames(\"Collection\")[0];\n\t\t\tthis.options = $.extend({}, _.CSV.defaultOptions);\n\t\t},\n\n\t\tstatic: {\n\t\t\textensions: [\".csv\", \".tsv\"],\n\t\t\tdefaultOptions: {\n\t\t\t\theader: true,\n\t\t\t\tdynamicTyping: true,\n\t\t\t\tskipEmptyLines: true\n\t\t\t},\n\t\t\tdependencies: [{\n\t\t\t\ttest: function test() {\n\t\t\t\t\treturn self.Papa;\n\t\t\t\t},\n\t\t\t\turl: \"https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.4/papaparse.min.js\"\n\t\t\t}],\n\t\t\tready: base.ready,\n\t\t\tparse: function parse(serialized, me) {\n\t\t\t\treturn csv.ready().then(function () {\n\t\t\t\t\tvar data = Papa.parse(serialized, csv.defaultOptions);\n\t\t\t\t\tvar property = me ? me.property : \"content\";\n\n\t\t\t\t\tif (me) {\n\t\t\t\t\t\t// Get delimiter & linebreak for serialization\n\t\t\t\t\t\tme.options.delimiter = data.meta.delimiter;\n\t\t\t\t\t\tme.options.linebreak = data.meta.linebreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (data.meta.aborted) {\n\t\t\t\t\t\tthrow data.meta.errors.pop();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn _defineProperty({}, property, data.data);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tstringify: function stringify(serialized, me) {\n\t\t\t\treturn csv.ready().then(function () {\n\t\t\t\t\tvar property = me ? me.property : \"content\";\n\t\t\t\t\tvar options = me ? me.options : csv.defaultOptions;\n\t\t\t\t\treturn Papa.unparse(data[property], options);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n\n\tObject.defineProperty(_, \"create\", {\n\t\tvalue: function value(format, backend) {\n\t\t\tif (format && (typeof format === \"undefined\" ? \"undefined\" : _typeof(format)) === \"object\") {\n\t\t\t\treturn format;\n\t\t\t}\n\n\t\t\tif (typeof format === \"string\") {\n\t\t\t\t// Search by id\n\t\t\t\tformat = format.toLowerCase();\n\n\t\t\t\tfor (var id in _) {\n\t\t\t\t\tvar Format = _[id];\n\n\t\t\t\t\tif (id.toLowerCase() == format) {\n\t\t\t\t\t\treturn new Format(backend);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!format) {\n\t\t\t\tvar url = backend.url ? backend.url.pathname : backend.source;\n\t\t\t\tvar extension = (url.match(/\\.\\w+$/) || [])[0] || \".json\";\n\t\t\t\tvar Format = _.JSON;\n\n\t\t\t\tfor (var id in _) {\n\t\t\t\t\tif (_[id].extensions.indexOf(extension) > -1) {\n\t\t\t\t\t\t// Do not return match, as we may find another match later\n\t\t\t\t\t\t// and last match wins\n\t\t\t\t\t\tFormat = _[id];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn new Format(backend);\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Node = $.Class({\n\t\tabstract: true,\n\t\tconstructor: function constructor(element, mavo) {\n\t\t\tvar _this = this;\n\n\t\t\tvar options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\tif (!element || !mavo) {\n\t\t\t\tthrow new Error(\"Mavo.Node constructor requires an element argument and a mavo object\");\n\t\t\t}\n\n\t\t\tvar env = { context: this, options: options };\n\n\t\t\t// Set these first, for debug reasons\n\t\t\tthis.uid = ++_.maxId;\n\t\t\tthis.nodeType = this.nodeType;\n\t\t\tthis.property = null;\n\t\t\tthis.element = element;\n\n\t\t\t$.extend(this, env.options);\n\n\t\t\t_.all.set(element, [].concat(_toConsumableArray(_.all.get(this.element) || []), [this]));\n\n\t\t\tthis.template = env.options.template;\n\n\t\t\tif (this.template) {\n\t\t\t\t// TODO remove if this is deleted\n\t\t\t\tthis.template.copies.push(this);\n\t\t\t} else {\n\t\t\t\tthis.copies = [];\n\t\t\t}\n\n\t\t\tthis.mavo = mavo;\n\t\t\tthis.group = this.parentGroup = env.options.group;\n\n\t\t\tif (!this.fromTemplate(\"property\", \"type\")) {\n\t\t\t\tthis.property = _.getProperty(element);\n\t\t\t\tthis.type = Mavo.Group.normalize(element);\n\t\t\t\tthis.storage = this.element.getAttribute(\"mv-storage\"); // TODO rename to storage\n\t\t\t}\n\n\t\t\tthis.modes = this.element.getAttribute(\"mv-mode\");\n\n\t\t\tMavo.hooks.run(\"node-init-start\", env);\n\n\t\t\tthis.mode = Mavo.getStyle(this.element, \"--mv-mode\") || \"read\";\n\n\t\t\tthis.collection = env.options.collection;\n\n\t\t\tif (this.collection) {\n\t\t\t\t// This is a collection item\n\t\t\t\tthis.group = this.parentGroup = this.collection.parentGroup;\n\t\t\t}\n\n\t\t\t// Must run before collections have a marker which messes up paths\n\t\t\tvar template = this.template;\n\n\t\t\tif (template && template.expressions) {\n\t\t\t\t// We know which expressions we have, don't traverse again\n\t\t\t\tthis.expressions = template.expressions.map(function (et) {\n\t\t\t\t\treturn new Mavo.DOMExpression({\n\t\t\t\t\t\ttemplate: et,\n\t\t\t\t\t\titem: _this,\n\t\t\t\t\t\tmavo: _this.mavo\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-init-end\", env);\n\t\t},\n\n\t\tget editing() {\n\t\t\treturn this.mode == \"edit\";\n\t\t},\n\n\t\tget isRoot() {\n\t\t\treturn !this.property;\n\t\t},\n\n\t\tget name() {\n\t\t\treturn Mavo.Functions.readable(this.property || this.type).toLowerCase();\n\t\t},\n\n\t\tget saved() {\n\t\t\treturn this.storage !== \"none\";\n\t\t},\n\n\t\tget path() {\n\t\t\tvar path = this.parentGroup ? this.parentGroup.path : [];\n\n\t\t\treturn this.property ? [].concat(_toConsumableArray(path), [this.property]) : path;\n\t\t},\n\n\t\t/**\n   * Runs after the constructor is done (including the constructor of the inheriting class), synchronously\n   */\n\t\tpostInit: function postInit() {\n\t\t\tif (this.modes == \"edit\") {\n\t\t\t\tthis.edit();\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\tif (this.template) {\n\t\t\t\tMavo.delete(this.template.copies, this);\n\t\t\t}\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tif (this.isDataNull(o)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t},\n\n\t\tisDataNull: function isDataNull(o) {\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tresult: this.deleted || !this.saved && !o.live\n\t\t\t};\n\n\t\t\tMavo.hooks.run(\"unit-isdatanull\", env);\n\n\t\t\treturn env.result;\n\t\t},\n\n\t\t/**\n   * Execute a callback on every node of the Mavo tree\n   * If callback returns (strict) false, walk stops.\n   * @return false if was stopped via a false return value, true otherwise\n   */\n\t\twalk: function walk(callback) {\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n\t\t\tvar walker = function walker(obj, path) {\n\t\t\t\tvar ret = callback(obj, path);\n\n\t\t\t\tif (ret !== false) {\n\t\t\t\t\tfor (var i in obj.children) {\n\t\t\t\t\t\tvar _node = obj.children[i];\n\n\t\t\t\t\t\tif (_node instanceof Mavo.Node) {\n\t\t\t\t\t\t\tvar ret = walker.call(_node, _node, [].concat(_toConsumableArray(path), [i]));\n\n\t\t\t\t\t\t\tif (ret === false) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn ret !== false;\n\t\t\t};\n\n\t\t\treturn walker(this, path);\n\t\t},\n\n\t\twalkUp: function walkUp(callback) {\n\t\t\tvar group = this;\n\n\t\t\twhile (group = group.parentGroup) {\n\t\t\t\tvar ret = callback(group);\n\n\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tthis.mode = \"edit\";\n\n\t\t\tif (this.mode != \"edit\") {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-edit-end\", this);\n\t\t},\n\n\t\tdone: function done() {\n\t\t\tthis.mode = Mavo.getStyle(this.element.parentNode, \"--mv-mode\") || \"read\";\n\n\t\t\tif (this.mode != \"read\") {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$.unbind(this.element, \".mavo:edit\");\n\n\t\t\tthis.propagate(\"done\");\n\n\t\t\tMavo.hooks.run(\"node-done-end\", this);\n\t\t},\n\n\t\tpropagate: function propagate(callback) {\n\t\t\tfor (var i in this.children) {\n\t\t\t\tvar _node2 = this.children[i];\n\n\t\t\t\tif (_node2 instanceof Mavo.Node) {\n\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\tcallback.call(_node2, _node2);\n\t\t\t\t\t} else if (callback in _node2) {\n\t\t\t\t\t\t_node2[callback]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpropagated: [\"save\", \"destroy\"],\n\n\t\ttoJSON: Mavo.prototype.toJSON,\n\n\t\tfromTemplate: function fromTemplate() {\n\t\t\tif (this.template) {\n\t\t\t\tfor (var _len = arguments.length, properties = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\tproperties[_key] = arguments[_key];\n\t\t\t\t}\n\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = properties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar property = _step.value;\n\n\t\t\t\t\t\tthis[property] = this.template[property];\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!this.template;\n\t\t},\n\n\t\trender: function render(data) {\n\t\t\tthis.oldData = this.data;\n\t\t\tthis.data = data;\n\n\t\t\tdata = Mavo.subset(data, this.inPath);\n\n\t\t\tvar env = { context: this, data: data };\n\n\t\t\tMavo.hooks.run(\"node-render-start\", env);\n\n\t\t\tif (this.nodeType != \"Collection\" && Array.isArray(data)) {\n\t\t\t\t// We are rendering an array on a singleton, what to do?\n\t\t\t\tvar properties;\n\t\t\t\tif (this.isRoot && (properties = Object.keys(this.children)).length === 1 && this.children[properties[0]].nodeType === \"Collection\") {\n\t\t\t\t\t// If it's root with only one collection property, render on that property\n\t\t\t\t\tenv.data = _defineProperty({}, properties[0], env.data);\n\t\t\t\t} else {\n\t\t\t\t\t// Otherwise, render first item\n\t\t\t\t\tthis.inPath.push(\"0\");\n\t\t\t\t\tenv.data = env.data[0];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.editing) {\n\t\t\t\tthis.done();\n\t\t\t\tthis.dataRender(env.data);\n\t\t\t\tthis.edit();\n\t\t\t} else {\n\t\t\t\tthis.dataRender(env.data);\n\t\t\t}\n\n\t\t\tthis.save();\n\n\t\t\tMavo.hooks.run(\"node-render-end\", env);\n\t\t},\n\n\t\tdataChanged: function dataChanged(action) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\t$.fire(o.element || this.element, \"mavo:datachange\", $.extend({\n\t\t\t\tproperty: this.property,\n\t\t\t\taction: action,\n\t\t\t\tmavo: this.mavo,\n\t\t\t\tnode: this\n\t\t\t}, o));\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\treturn \"#\" + this.uid + \": \" + this.nodeType + \" (\" + this.property + \")\";\n\t\t},\n\n\t\tgetClosestCollection: function getClosestCollection() {\n\t\t\treturn this.collection || this.group.collection || (this.parentGroup ? this.parentGroup.closestCollection : null);\n\t\t},\n\n\t\t/**\n   * Check if this unit is either deleted or inside a deleted group\n   */\n\t\tisDeleted: function isDeleted() {\n\t\t\tvar ret = this.deleted;\n\n\t\t\tif (this.deleted) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn !!this.parentGroup && this.parentGroup.isDeleted();\n\t\t},\n\n\t\tlazy: {\n\t\t\tclosestCollection: function closestCollection() {\n\t\t\t\treturn this.getClosestCollection();\n\t\t\t},\n\n\t\t\t// Are were only rendering and editing a subset of the data?\n\t\t\tinPath: function inPath() {\n\t\t\t\tif (this.nodeType != \"Collection\") {\n\t\t\t\t\treturn (this.element.getAttribute(\"mv-path\") || \"\").split(\"/\").filter(function (p) {\n\t\t\t\t\t\treturn p.length;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t},\n\n\t\tlive: {\n\t\t\tstore: function store(value) {\n\t\t\t\t$.toggleAttribute(this.element, \"mv-storage\", value);\n\t\t\t},\n\n\t\t\tunsavedChanges: function unsavedChanges(value) {\n\t\t\t\tif (value && (!this.saved || !this.editing)) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\n\t\t\t\tthis.element.classList.toggle(\"mv-unsaved-changes\", value);\n\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tmode: function mode(value) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tif (this._mode != value) {\n\t\t\t\t\t// Is it allowed?\n\t\t\t\t\tif (this.modes && value != this.modes) {\n\t\t\t\t\t\tvalue = this.modes;\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we don't do this, setting the attribute below will\n\t\t\t\t\t// result in infinite recursion\n\t\t\t\t\tthis._mode = value;\n\n\t\t\t\t\tif (!(this instanceof Mavo.Collection) && [null, \"\", \"read\", \"edit\"].indexOf(this.element.getAttribute(\"mv-mode\")) > -1) {\n\t\t\t\t\t\t// If attribute is not one of the recognized values, leave it alone\n\t\t\t\t\t\tvar set = this.modes || value == \"edit\";\n\t\t\t\t\t\tMavo.Observer.sneak(this.mavo.modeObserver, function () {\n\t\t\t\t\t\t\t$.toggleAttribute(_this2.element, \"mv-mode\", value, set);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tmodes: function modes(value) {\n\t\t\t\tif (value && value != \"read\" && value != \"edit\") {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tthis._modes = value;\n\n\t\t\t\tif (value && this.mode != value) {\n\t\t\t\t\tthis.mode = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tdeleted: function deleted(value) {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\tthis.element.classList.toggle(\"mv-deleted\", value);\n\n\t\t\t\tif (value) {\n\t\t\t\t\t// Soft delete, store element contents in a fragment\n\t\t\t\t\t// and replace them with an undo prompt.\n\t\t\t\t\tthis.elementContents = document.createDocumentFragment();\n\t\t\t\t\t$$(this.element.childNodes).forEach(function (node) {\n\t\t\t\t\t\t_this3.elementContents.appendChild(node);\n\t\t\t\t\t});\n\n\t\t\t\t\t$.contents(this.element, [{\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\tclassName: \"mv-close mv-ui\",\n\t\t\t\t\t\ttextContent: \"×\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\t\t$.remove(this.parentNode);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, \"Deleted \" + this.name, {\n\t\t\t\t\t\ttag: \"button\",\n\t\t\t\t\t\tclassName: \"mv-undo mv-ui\",\n\t\t\t\t\t\ttextContent: \"Undo\",\n\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\t\treturn _this3.deleted = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]);\n\n\t\t\t\t\tthis.element.classList.remove(\"mv-highlight\");\n\t\t\t\t} else if (this.deleted) {\n\t\t\t\t\t// Undelete\n\t\t\t\t\tthis.element.textContent = \"\";\n\t\t\t\t\tthis.element.appendChild(this.elementContents);\n\n\t\t\t\t\t// otherwise expressions won't update because this will still seem as deleted\n\t\t\t\t\t// Alternatively, we could fire datachange with a timeout.\n\t\t\t\t\tthis._deleted = false;\n\n\t\t\t\t\tthis.dataChanged(\"undelete\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tmaxId: 0,\n\n\t\t\tall: new WeakMap(),\n\n\t\t\tcreate: function create(element, mavo) {\n\t\t\t\tvar o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\t\tif (Mavo.is(\"multiple\", element) && !o.collection) {\n\t\t\t\t\treturn new Mavo.Collection(element, mavo, o);\n\t\t\t\t}\n\n\t\t\t\treturn new Mavo[Mavo.is(\"group\", element) ? \"Group\" : \"Primitive\"](element, mavo, o);\n\t\t\t},\n\n\t\t\t/**\n    * Get & normalize property name, if exists\n    */\n\t\t\tgetProperty: function getProperty(element) {\n\t\t\t\tvar property = element.getAttribute(\"property\") || element.getAttribute(\"itemprop\");\n\n\t\t\t\tif (!property && element.hasAttribute(\"property\")) {\n\t\t\t\t\tproperty = element.name || element.id || element.classList[0];\n\t\t\t\t}\n\n\t\t\t\tif (property) {\n\t\t\t\t\telement.setAttribute(\"property\", property);\n\t\t\t\t}\n\n\t\t\t\treturn property;\n\t\t\t},\n\n\t\t\tget: function get(element, prioritizePrimitive) {\n\t\t\t\tvar nodes = (_.all.get(element) || []).filter(function (node) {\n\t\t\t\t\treturn !(node instanceof Mavo.Collection);\n\t\t\t\t});\n\n\t\t\t\tif (nodes.length < 2 || !prioritizePrimitive) {\n\t\t\t\t\treturn nodes[0];\n\t\t\t\t}\n\n\t\t\t\tif (nodes[0] instanceof Mavo.Group) {\n\t\t\t\t\treturn node[1];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    * Get all properties that are inside an element but not nested into other properties\n    */\n\t\t\tchildren: function children(element) {\n\t\t\t\tvar ret = Mavo.Node.get(element);\n\n\t\t\t\tif (ret) {\n\t\t\t\t\t// element is a Mavo node\n\t\t\t\t\treturn [ret];\n\t\t\t\t}\n\n\t\t\t\tret = $$(Mavo.selectors.property, element).map(function (e) {\n\t\t\t\t\treturn Mavo.Node.get(e);\n\t\t\t\t}).filter(function (e) {\n\t\t\t\t\treturn !element.contains(e.parentGroup.element);\n\t\t\t\t}) // drop nested properties\n\t\t\t\t.map(function (e) {\n\t\t\t\t\treturn e.collection || e;\n\t\t\t\t});\n\n\t\t\t\treturn Mavo.Functions.unique(ret);\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Group = $.Class({\n\t\textends: Mavo.Node,\n\t\tnodeType: \"Group\",\n\t\tconstructor: function constructor(element, mavo, o) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.children = {};\n\n\t\t\tthis.group = this;\n\n\t\t\tMavo.hooks.run(\"group-init-start\", this);\n\n\t\t\t// Should this element also create a primitive?\n\t\t\tif (Mavo.Primitive.getValueAttribute(this.element)) {\n\t\t\t\tvar obj = this.children[this.property] = new Mavo.Primitive(this.element, this.mavo, { group: this });\n\t\t\t}\n\n\t\t\t// Create Mavo objects for all properties in this group (primitives or groups),\n\t\t\t// but not properties in descendant groups (they will be handled by their group)\n\t\t\t$$(Mavo.selectors.property, this.element).forEach(function (element) {\n\t\t\t\tvar property = Mavo.Node.getProperty(element);\n\n\t\t\t\tif (_this.contains(element)) {\n\t\t\t\t\tvar existing = _this.children[property];\n\t\t\t\t\tvar template = _this.template ? _this.template.children[property] : null;\n\t\t\t\t\tvar constructorOptions = { template: template, group: _this };\n\n\t\t\t\t\tif (existing) {\n\t\t\t\t\t\t// Twogroups with the same property, convert to static collection\n\t\t\t\t\t\tvar collection = existing;\n\n\t\t\t\t\t\tif (!(existing instanceof Mavo.Collection)) {\n\t\t\t\t\t\t\tcollection = new Mavo.Collection(existing.element, _this.mavo, constructorOptions);\n\t\t\t\t\t\t\t_this.children[property] = existing.collection = collection;\n\t\t\t\t\t\t\tcollection.add(existing);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!collection.mutable && Mavo.is(\"multiple\", element)) {\n\t\t\t\t\t\t\tcollection.mutable = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcollection.add(element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// No existing properties with this id, normal case\n\t\t\t\t\t\tvar obj = Mavo.Node.create(element, _this.mavo, constructorOptions);\n\n\t\t\t\t\t\t_this.children[property] = obj;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar vocabElement = (this.isRoot ? this.element.closest(\"[vocab]\") : null) || this.element;\n\t\t\tthis.vocab = vocabElement.getAttribute(\"vocab\");\n\n\t\t\tthis.postInit();\n\n\t\t\tMavo.hooks.run(\"group-init-end\", this);\n\t\t},\n\n\t\tget isRoot() {\n\t\t\treturn !this.property;\n\t\t},\n\n\t\tgetNames: function getNames() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"Node\";\n\n\t\t\treturn Object.keys(this.children).filter(function (p) {\n\t\t\t\treturn _this2.children[p] instanceof Mavo[type];\n\t\t\t});\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tdata: this.super.getData.call(this, o)\n\t\t\t};\n\n\t\t\tif (env.data !== undefined) {\n\t\t\t\t// Super method returned something\n\t\t\t\treturn env.data;\n\t\t\t}\n\n\t\t\tenv.data = this.data ? Mavo.clone(Mavo.subset(this.data, this.inPath)) : {};\n\n\t\t\tfor (var property in this.children) {\n\t\t\t\tvar obj = this.children[property];\n\n\t\t\t\tif (obj.saved || env.options.live) {\n\t\t\t\t\tvar data = obj.getData(o);\n\n\t\t\t\t\tif (data !== null || env.options.live) {\n\t\t\t\t\t\tenv.data[obj.property] = data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!env.options.live) {\n\t\t\t\t// Stored data\n\t\t\t\t// If storing, use the rendered data too\n\t\t\t\tenv.data = Mavo.subset(this.data, this.inPath, env.data);\n\t\t\t}\n\n\t\t\t// {foo: {foo: 5}} should become {foo: 5}\n\t\t\tvar properties = Object.keys(env.data);\n\n\t\t\tif (properties.length == 1 && properties[0] == this.property) {\n\t\t\t\tenv.data = env.data[this.property];\n\t\t\t}\n\n\t\t\tif (!env.options.live) {\n\t\t\t\t// Stored data again\n\t\t\t\tif (!properties.length && !this.isRoot) {\n\t\t\t\t\t// Avoid {} in the data\n\t\t\t\t\tenv.data = null;\n\t\t\t\t} else if (env.data && _typeof(env.data) === \"object\") {\n\t\t\t\t\t// Add JSON-LD stuff\n\t\t\t\t\tif (this.type && this.type != _.DEFAULT_TYPE) {\n\t\t\t\t\t\tenv.data[\"@type\"] = this.type;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.vocab) {\n\t\t\t\t\t\tenv.data[\"@context\"] = this.vocab;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-getdata-end\", env);\n\n\t\t\treturn env.data;\n\t\t},\n\n\t\t/**\n   * Search entire subtree for property, return relative value\n   * @return {Mavo.Node}\n   */\n\t\tfind: function find(property) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tif (this.property == property) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (property in this.children) {\n\t\t\t\treturn this.children[property].find(property, o);\n\t\t\t}\n\n\t\t\tvar all = [];\n\n\t\t\tfor (var prop in this.children) {\n\t\t\t\tvar ret = this.children[prop].find(property, o);\n\n\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\tif (Array.isArray(ret)) {\n\t\t\t\t\t\tall.push.apply(all, _toConsumableArray(ret));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (all.length) {\n\t\t\t\treturn all;\n\t\t\t}\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tif (this.super.edit.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.propagate(\"edit\");\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tthis.unsavedChanges = false;\n\t\t},\n\n\t\tpropagated: [\"save\", \"import\", \"clear\"],\n\n\t\t// Do not call directly, call this.render() instead\n\t\tdataRender: function dataRender(data) {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (!data) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// What if data is not an object?\n\t\t\tif ((typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) !== \"object\") {\n\t\t\t\t// Data is a primitive, render it on this.property or failing that, any writable property\n\t\t\t\tvar score = function score(prop) {\n\t\t\t\t\treturn (prop == _this3.property) + !_this3.children[prop].expressionText + (_this3.children[prop] instanceof Mavo.Primitive);\n\t\t\t\t};\n\t\t\t\tvar property = Object.keys(this.children).sort(function (prop1, prop2) {\n\t\t\t\t\treturn score(prop1) - score(prop2);\n\t\t\t\t}).reverse()[0];\n\n\t\t\t\tdata = _defineProperty({}, property, data);\n\n\t\t\t\tthis.data = Mavo.subset(this.data, this.inPath, data);\n\n\t\t\t\tthis.propagate(function (obj) {\n\t\t\t\t\tobj.render(data[obj.property]);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.propagate(function (obj) {\n\t\t\t\t\tobj.render(data[obj.property]);\n\t\t\t\t});\n\n\t\t\t\t// Fire datachange events for properties not in the template,\n\t\t\t\t// since nothing else will and they can still be referenced in expressions\n\t\t\t\tvar oldData = Mavo.subset(this.oldData, this.inPath);\n\n\t\t\t\tfor (var _property in data) {\n\t\t\t\t\tif (!(_property in this.children)) {\n\t\t\t\t\t\tvar value = data[_property];\n\n\t\t\t\t\t\tif ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) != \"object\" && (!oldData || oldData[_property] != value)) {\n\t\t\t\t\t\t\tthis.dataChanged(\"propertychange\", { property: _property });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Check if this group contains a property\n\t\tcontains: function contains(property) {\n\t\t\tif (property instanceof Mavo.Node) {\n\t\t\t\treturn property.parentGroup === this;\n\t\t\t}\n\n\t\t\treturn property.parentNode && this.element === property.parentNode.closest(Mavo.selectors.group);\n\t\t},\n\n\t\tstatic: {\n\t\t\tall: new WeakMap(),\n\n\t\t\tDEFAULT_TYPE: \"Item\",\n\n\t\t\tnormalize: function normalize(element) {\n\t\t\t\t// Get & normalize typeof name, if exists\n\t\t\t\tif (Mavo.is(\"group\", element)) {\n\t\t\t\t\tvar type = Mavo.getAttribute(element, \"typeof\", \"itemtype\") || _.DEFAULT_TYPE;\n\n\t\t\t\t\telement.setAttribute(\"typeof\", type);\n\n\t\t\t\t\treturn type;\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Primitive = $.Class({\n\t\textends: Mavo.Node,\n\t\tnodeType: \"Primitive\",\n\t\tconstructor: function constructor(element, mavo, o) {\n\t\t\tvar _this = this;\n\n\t\t\tif (!this.fromTemplate(\"config\", \"attribute\", \"templateValue\")) {\n\t\t\t\tthis.config = _.getConfig(element);\n\n\t\t\t\t// Which attribute holds the data, if any?\n\t\t\t\t// \"null\" or null for none (i.e. data is in content).\n\t\t\t\tthis.attribute = this.config.attribute;\n\t\t\t}\n\n\t\t\tthis.datatype = this.config.datatype;\n\n\t\t\tif (\"modes\" in this.config) {\n\t\t\t\t// If modes are related to element type, this overrides everything\n\t\t\t\t// because it means the other mode makes no sense for that element\n\t\t\t\tthis.modes = this.config.modes;\n\t\t\t\tthis.element.setAttribute(\"mv-mode\", this.config.modes);\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"primitive-init-start\", this);\n\n\t\t\t// Link primitive with its expressionText object\n\t\t\t// We need to do this before any editing UI is generated\n\t\t\tthis.expressionText = Mavo.DOMExpression.search(this.element, this.attribute);\n\n\t\t\tif (this.expressionText && !this.expressionText.mavoNode) {\n\t\t\t\tthis.expressionText.primitive = this;\n\t\t\t\tthis.storage = this.storage || \"none\";\n\t\t\t\tthis.modes = \"read\";\n\t\t\t}\n\n\t\t\tif (this.config.init) {\n\t\t\t\tthis.config.init.call(this, this.element);\n\t\t\t}\n\n\t\t\tif (this.config.changeEvents) {\n\t\t\t\t$.events(this.element, this.config.changeEvents, function (evt) {\n\t\t\t\t\tif (evt.target === _this.element) {\n\t\t\t\t\t\t_this.value = _this.getValue();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n    * Set up input widget\n    */\n\n\t\t\t// Linked widgets\n\t\t\tif (!this.editor && this.element.hasAttribute(\"mv-edit\")) {\n\t\t\t\tvar original = $(this.element.getAttribute(\"mv-edit\"));\n\n\t\t\t\tif (original) {\n\t\t\t\t\tthis.editor = original.cloneNode(true);\n\n\t\t\t\t\t// Update editor if original mutates\n\t\t\t\t\t// This means that expressions on mv-edit for individual collection items will not be picked up\n\t\t\t\t\tif (!this.template) {\n\t\t\t\t\t\tnew Mavo.Observer(original, \"all\", function (records) {\n\t\t\t\t\t\t\tvar all = _this.copies.concat(_this);\n\n\t\t\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tfor (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\t\t\tvar primitive = _step.value;\n\n\t\t\t\t\t\t\t\t\tprimitive.editor = original.cloneNode(true);\n\t\t\t\t\t\t\t\t\tprimitive.setValue(primitive.value, { force: true, silent: true });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Nested widgets\n\t\t\tif (!this.editor && !this.attribute) {\n\t\t\t\tthis.editor = $$(this.element.children).filter(function (el) {\n\t\t\t\t\treturn el.matches(Mavo.selectors.formControl) && !el.matches(Mavo.selectors.property);\n\t\t\t\t})[0];\n\n\t\t\t\tif (this.editor) {\n\t\t\t\t\tthis.element.textContent = this.editorValue;\n\t\t\t\t\t$.remove(this.editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.templateValue = this.getValue();\n\n\t\t\tthis._default = this.element.getAttribute(\"mv-default\");\n\n\t\t\tif (this.default === null) {\n\t\t\t\t// no mv-default\n\t\t\t\tthis._default = this.modes === \"read\" ? this.templateValue : this.editor ? this.editorValue : undefined;\n\t\t\t} else if (this.default === \"\") {\n\t\t\t\t// mv-default exists, no value, default is template value\n\t\t\t\tthis._default = this.templateValue;\n\t\t\t} else {\n\t\t\t\t// mv-default with value\n\t\t\t\tthis.defaultObserver = new Mavo.Observer(this.element, \"mv-default\", function (record) {\n\t\t\t\t\t_this.default = _this.element.getAttribute(\"mv-default\");\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.initialValue = (!this.template && this.default === undefined ? this.templateValue : this.default) || this.emptyValue;\n\n\t\t\tthis.setValue(this.initialValue, { silent: true });\n\n\t\t\t// Observe future mutations to this property, if possible\n\t\t\t// Properties like input.checked or input.value cannot be observed that way\n\t\t\t// so we cannot depend on mutation observers for everything :(\n\t\t\tthis.observer = new Mavo.Observer(this.element, this.attribute, function (records) {\n\t\t\t\tif (_this.attribute || !_this.editing) {\n\t\t\t\t\t_this.value = _this.getValue();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.postInit();\n\n\t\t\tMavo.hooks.run(\"primitive-init-end\", this);\n\t\t},\n\n\t\tget editorValue() {\n\t\t\tif (this.config.getEditorValue) {\n\t\t\t\treturn this.config.getEditorValue.call(this);\n\t\t\t}\n\n\t\t\tif (this.editor) {\n\t\t\t\tif (this.editor.matches(Mavo.selectors.formControl)) {\n\t\t\t\t\treturn _.getValue(this.editor, { datatype: this.datatype });\n\t\t\t\t}\n\n\t\t\t\t// if we're here, this.editor is an entire HTML structure\n\t\t\t\tvar output = $(Mavo.selectors.output + \", \" + Mavo.selectors.formControl, this.editor);\n\n\t\t\t\tif (output) {\n\t\t\t\t\treturn _.getValue(output);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tset editorValue(value) {\n\t\t\tif (this.config.setEditorValue) {\n\t\t\t\treturn this.config.setEditorValue.call(this, value);\n\t\t\t}\n\n\t\t\tif (this.editor) {\n\t\t\t\tif (this.editor.matches(Mavo.selectors.formControl)) {\n\t\t\t\t\t_.setValue(this.editor, value, { config: this.editorDefaults });\n\t\t\t\t} else {\n\t\t\t\t\t// if we're here, this.editor is an entire HTML structure\n\t\t\t\t\tvar output = $(Mavo.selectors.output + \", \" + Mavo.selectors.formControl, this.editor);\n\n\t\t\t\t\tif (output) {\n\t\t\t\t\t\t_.setValue(output, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tdestroy: function destroy() {\n\t\t\tthis.super.destroy.call(this);\n\n\t\t\tthis.defaultObserver && this.defaultObserver.destroy();\n\t\t\tthis.observer && this.observer.destroy();\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tdata: this.super.getData.call(this, o)\n\t\t\t};\n\n\t\t\tif (env.data !== undefined) {\n\t\t\t\treturn env.data;\n\t\t\t}\n\n\t\t\tenv.data = this.value;\n\n\t\t\tif (env.data === \"\") {\n\t\t\t\tenv.data = null;\n\t\t\t}\n\n\t\t\tif (!o.live && this.inPath.length) {\n\t\t\t\tenv.data = Mavo.subset(this.data, this.inPath, env.data);\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-getdata-end\", env);\n\n\t\t\treturn env.data;\n\t\t},\n\n\t\tsneak: function sneak(callback) {\n\t\t\treturn Mavo.Observer.sneak(this.observer, callback);\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tthis.savedValue = this.value;\n\t\t\tthis.unsavedChanges = false;\n\t\t},\n\n\t\t// Called only the first time this primitive is edited\n\t\tinitEdit: function initEdit() {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (!this.editor) {\n\t\t\t\t// No editor provided, use default for element type\n\t\t\t\t// Find default editor for datatype\n\t\t\t\tvar editor = this.config.editor || Mavo.Elements.defaultEditors[this.datatype] || Mavo.Elements.defaultEditors.string;\n\n\t\t\t\tthis.editor = $.create($.type(editor) === \"function\" ? editor.call(this) : editor);\n\t\t\t\tthis.editorValue = this.value;\n\t\t\t}\n\n\t\t\t$.events(this.editor, {\n\t\t\t\t\"input change\": function inputChange(evt) {\n\t\t\t\t\t_this2.value = _this2.editorValue;\n\t\t\t\t},\n\t\t\t\t\"focus\": function focus(evt) {\n\t\t\t\t\t_this2.editor.select && _this2.editor.select();\n\t\t\t\t},\n\t\t\t\t\"mavo:datachange\": function mavoDatachange(evt) {\n\t\t\t\t\tif (evt.property === \"output\") {\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t$.fire(_this2.editor, \"input\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (\"placeholder\" in this.editor) {\n\t\t\t\tthis.editor.placeholder = \"(\" + this.label + \")\";\n\t\t\t}\n\n\t\t\t// Copy any data-input-* attributes from the element to the editor\n\t\t\tvar dataInput = /^mv-edit-/i;\n\t\t\t$$(this.element.attributes).forEach(function (attribute) {\n\t\t\t\tif (dataInput.test(attribute.name)) {\n\t\t\t\t\tthis.editor.setAttribute(attribute.name.replace(dataInput, \"\"), attribute.value);\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\tif (this.attribute || this.config.popup) {\n\t\t\t\tthis.popup = new Mavo.UI.Popup(this);\n\t\t\t}\n\n\t\t\tif (!this.popup) {\n\t\t\t\tthis.editor.classList.add(\"mv-editor\");\n\t\t\t}\n\n\t\t\tthis.initEdit = null;\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (this.super.edit.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Make element focusable, so it can actually receive focus\n\t\t\tthis.element._.data.prevTabindex = this.element.getAttribute(\"tabindex\");\n\t\t\tthis.element.tabIndex = 0;\n\n\t\t\t// Prevent default actions while editing\n\t\t\t// e.g. following links etc\n\t\t\tthis.element.addEventListener(\"click.mavo:edit\", function (evt) {\n\t\t\t\treturn evt.preventDefault();\n\t\t\t});\n\n\t\t\tthis.preEdit = Mavo.defer(function (resolve, reject) {\n\t\t\t\t// Empty properties should become editable immediately\n\t\t\t\t// otherwise they could be invisible!\n\t\t\t\tif (_this3.empty && !_this3.attribute) {\n\t\t\t\t\treturn requestAnimationFrame(resolve);\n\t\t\t\t}\n\n\t\t\t\tvar timer;\n\n\t\t\t\tvar events = \"click focus dragover dragenter\".split(\" \").map(function (e) {\n\t\t\t\t\treturn e + \".mavo:preedit\";\n\t\t\t\t}).join(\" \");\n\t\t\t\t$.events(_this3.element, events, resolve);\n\n\t\t\t\tif (!_this3.attribute) {\n\t\t\t\t\t// Hovering over the element for over 150ms will trigger edit\n\t\t\t\t\t$.events(_this3.element, {\n\t\t\t\t\t\t\"mouseenter.mavo:preedit\": function mouseenterMavoPreedit(e) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t\ttimer = setTimeout(resolve, 150);\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"mouseleave.mavo:preedit\": function mouseleaveMavoPreedit(e) {\n\t\t\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).then(function () {\n\t\t\t\treturn $.unbind(_this3.element, \".mavo:preedit\");\n\t\t\t});\n\n\t\t\tif (this.config.edit) {\n\t\t\t\tthis.config.edit.call(this);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.preEdit.then(function () {\n\t\t\t\t// Actual edit\n\t\t\t\tif (_this3.initEdit) {\n\t\t\t\t\t_this3.initEdit();\n\t\t\t\t}\n\n\t\t\t\tif (_this3.popup) {\n\t\t\t\t\t_this3.popup.show();\n\t\t\t\t}\n\n\t\t\t\tif (!_this3.attribute && !_this3.popup) {\n\t\t\t\t\tif (_this3.editor.parentNode != _this3.element) {\n\t\t\t\t\t\t_this3.editorValue = _this3.value;\n\t\t\t\t\t\t_this3.element.textContent = \"\";\n\n\t\t\t\t\t\t_this3.element.appendChild(_this3.editor);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}, // edit\n\n\t\tdone: function done() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this.super.done.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (\"preEdit\" in this) {\n\t\t\t\t$.unbind(this.element, \".mavo:preedit .mavo:edit\");\n\t\t\t}\n\n\t\t\tthis.sneak(function () {\n\t\t\t\tif (_this4.config.done) {\n\t\t\t\t\t_this4.config.done.call(_this4);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (_this4.popup) {\n\t\t\t\t\t_this4.popup.close();\n\t\t\t\t} else if (!_this4.attribute && _this4.editor) {\n\t\t\t\t\t$.remove(_this4.editor);\n\t\t\t\t\t_this4.element.textContent = _this4.editorValue;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Revert tabIndex\n\t\t\tif (this.element._.data.prevTabindex !== null) {\n\t\t\t\tthis.element.tabIndex = this.element._.data.prevTabindex;\n\t\t\t} else {\n\t\t\t\tthis.element.removeAttribute(\"tabindex\");\n\t\t\t}\n\t\t},\n\n\t\tclear: function clear() {\n\t\t\tthis.value = this.templateValue;\n\t\t},\n\n\t\tdataRender: function dataRender(data) {\n\t\t\tif (data && (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) === \"object\") {\n\t\t\t\tif (Symbol.toPrimitive in data) {\n\t\t\t\t\tdata = data[Symbol.toPrimitive]();\n\t\t\t\t} else {\n\t\t\t\t\t// Candidate properties to get a value from\n\t\t\t\t\tvar _arr = [this.property, \"value\"].concat(_toConsumableArray(Object.keys(data)));\n\n\t\t\t\t\tfor (var _i = 0; _i < _arr.length; _i++) {\n\t\t\t\t\t\tvar property = _arr[_i];\n\t\t\t\t\t\tif (property in data) {\n\t\t\t\t\t\t\tdata = data[property];\n\t\t\t\t\t\t\tthis.inPath.push(property);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (data === undefined) {\n\t\t\t\t// New property has been added to the schema and nobody has saved since\n\t\t\t\tif (this.modes != \"read\") {\n\t\t\t\t\tthis.value = this.closestCollection ? this.default : this.templateValue;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.value = data;\n\t\t\t}\n\t\t},\n\n\t\tfind: function find(property) {\n\t\t\tif (this.property == property) {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Get value from the DOM\n   */\n\t\tgetValue: function getValue(o) {\n\t\t\treturn _.getValue(this.element, {\n\t\t\t\tconfig: this.config,\n\t\t\t\tattribute: this.attribute,\n\t\t\t\tdatatype: this.datatype\n\t\t\t});\n\t\t},\n\n\t\tlazy: {\n\t\t\tlabel: function label() {\n\t\t\t\treturn Mavo.Functions.readable(this.property);\n\t\t\t},\n\n\t\t\temptyValue: function emptyValue() {\n\t\t\t\tswitch (this.datatype) {\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn \"\";\n\t\t\t},\n\n\t\t\teditorDefaults: function editorDefaults() {\n\t\t\t\treturn this.editor && _.getConfig(this.editor);\n\t\t\t}\n\t\t},\n\n\t\tsetValue: function setValue(value) {\n\t\t\tvar _this5 = this;\n\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tthis.sneak(function () {\n\t\t\t\tif ($.type(value) == \"object\" && \"value\" in value) {\n\t\t\t\t\tvar presentational = value.presentational;\n\t\t\t\t\tvalue = value.value;\n\t\t\t\t}\n\n\t\t\t\t// Convert nulls and undefineds to empty string\n\t\t\t\tvalue = value || value === 0 ? value : \"\";\n\n\t\t\t\t// If there's no datatype, adopt that of the value\n\t\t\t\tif (!_this5.datatype && (typeof value == \"number\" || typeof value == \"boolean\")) {\n\t\t\t\t\t_this5.datatype = typeof value === \"undefined\" ? \"undefined\" : _typeof(value);\n\t\t\t\t}\n\n\t\t\t\tvalue = _.safeCast(value, _this5.datatype);\n\n\t\t\t\tif (value == _this5._value && !o.force) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tif (_this5.editor && document.activeElement != _this5.editor) {\n\t\t\t\t\t_this5.editorValue = value;\n\t\t\t\t}\n\n\t\t\t\tif (_this5.config.humanReadable && _this5.attribute) {\n\t\t\t\t\tpresentational = _this5.config.humanReadable.call(_this5, value);\n\t\t\t\t}\n\n\t\t\t\tif (!_this5.editing || _this5.popup || !_this5.editor) {\n\t\t\t\t\tif (_this5.config.setValue) {\n\t\t\t\t\t\t_this5.config.setValue.call(_this5, _this5.element, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (_this5.editor && _this5.editor.matches(\"select\") && _this5.editor.selectedOptions[0]) {\n\t\t\t\t\t\t\tpresentational = _this5.editor.selectedOptions[0].textContent;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!o.dataOnly) {\n\t\t\t\t\t\t\t_.setValue(_this5.element, { value: value, presentational: presentational }, {\n\t\t\t\t\t\t\t\tconfig: _this5.config,\n\t\t\t\t\t\t\t\tattribute: _this5.attribute,\n\t\t\t\t\t\t\t\tdatatype: _this5.datatype\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_this5.empty = value === \"\";\n\n\t\t\t\t_this5._value = value;\n\n\t\t\t\tif (!o.silent) {\n\t\t\t\t\tif (_this5.saved) {\n\t\t\t\t\t\t_this5.unsavedChanges = _this5.mavo.unsavedChanges = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t_this5.dataChanged(\"propertychange\", { value: value });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn value;\n\t\t},\n\n\t\tdataChanged: function dataChanged() {\n\t\t\tvar action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"propertychange\";\n\t\t\tvar o = arguments[1];\n\n\t\t\treturn this.super.dataChanged.call(this, action, o);\n\t\t},\n\n\t\tlive: {\n\t\t\tdefault: function _default(value) {\n\t\t\t\tif (this.value == this._default) {\n\n\t\t\t\t\tthis.value = value;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tvalue: function value(_value) {\n\t\t\t\treturn this.setValue(_value);\n\t\t\t},\n\n\t\t\tempty: function empty(value) {\n\t\t\t\tvar hide = value && // is empty\n\t\t\t\t!this.modes && // and supports both modes\n\t\t\t\tthis.config.default && // and using the default settings\n\t\t\t\t!(this.attribute && $(Mavo.selectors.property, this.element)); // and has no property inside\n\n\t\t\t\tthis.element.classList.toggle(\"mv-empty\", !!hide);\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tall: new WeakMap(),\n\n\t\t\tgetValueAttribute: function getValueAttribute(element) {\n\t\t\t\tvar config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Mavo.Elements.search(element);\n\n\t\t\t\tvar ret = element.getAttribute(\"mv-attribute\") || config.attribute;\n\n\t\t\t\tif (!ret || ret === \"null\" || ret === \"none\") {\n\t\t\t\t\tret = null;\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t/**\n    * Only cast if conversion is lossless\n    */\n\t\t\tsafeCast: function safeCast(value, datatype) {\n\t\t\t\tvar existingType = typeof value === \"undefined\" ? \"undefined\" : _typeof(value);\n\t\t\t\tvar cast = _.cast(value, datatype);\n\n\t\t\t\tif (value === null || value === undefined) {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tif (datatype == \"boolean\") {\n\t\t\t\t\tif (value === \"false\" || value === 0 || value === \"\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (value === \"true\" || value > 0) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tif (datatype == \"number\") {\n\t\t\t\t\tif (/^[-+]?[0-9.e]+$/i.test(value + \"\")) {\n\t\t\t\t\t\treturn cast;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\treturn cast;\n\t\t\t},\n\n\t\t\t/**\n    * Cast to a different primitive datatype\n    */\n\t\t\tcast: function cast(value, datatype) {\n\t\t\t\tswitch (datatype) {\n\t\t\t\t\tcase \"number\":\n\t\t\t\t\t\treturn +value;\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\treturn !!value;\n\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\treturn value + \"\";\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tgetValue: function getValue(element) {\n\t\t\t\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t\t\t    config = _ref.config,\n\t\t\t\t    attribute = _ref.attribute,\n\t\t\t\t    datatype = _ref.datatype;\n\n\t\t\t\tif (!config) {\n\t\t\t\t\tconfig = _.getConfig(element, attribute);\n\t\t\t\t}\n\n\t\t\t\tattribute = config.attribute;\n\t\t\t\tdatatype = config.datatype;\n\n\t\t\t\tif (config.getValue && attribute == config.attribute) {\n\t\t\t\t\treturn config.getValue(element);\n\t\t\t\t}\n\n\t\t\t\tvar ret;\n\n\t\t\t\tif (attribute in element && _.useProperty(element, attribute)) {\n\t\t\t\t\t// Returning properties (if they exist) instead of attributes\n\t\t\t\t\t// is needed for dynamic elements such as checkboxes, sliders etc\n\t\t\t\t\tret = element[attribute];\n\t\t\t\t} else if (attribute) {\n\t\t\t\t\tret = element.getAttribute(attribute);\n\t\t\t\t} else {\n\t\t\t\t\tret = element.getAttribute(\"content\") || element.textContent || null;\n\t\t\t\t}\n\n\t\t\t\treturn _.safeCast(ret, datatype);\n\t\t\t},\n\n\t\t\tgetConfig: function getConfig(element, attribute, datatype) {\n\t\t\t\tif (attribute === undefined) {\n\t\t\t\t\tattribute = element.getAttribute(\"mv-attribute\") || undefined;\n\t\t\t\t}\n\n\t\t\t\tif (attribute == \"null\" || attribute == \"none\") {\n\t\t\t\t\tattribute = null;\n\t\t\t\t}\n\n\t\t\t\tdatatype = element.getAttribute(\"datatype\") || undefined;\n\n\t\t\t\tvar config = Mavo.Elements.search(element, attribute, datatype);\n\n\t\t\t\tif (config.attribute === undefined) {\n\t\t\t\t\tconfig.attribute = attribute || null;\n\t\t\t\t}\n\n\t\t\t\tif (config.datatype === undefined) {\n\t\t\t\t\tconfig.datatype = datatype;\n\t\t\t\t}\n\n\t\t\t\treturn config;\n\t\t\t},\n\n\t\t\tsetValue: function setValue(element, value) {\n\t\t\t\tvar _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n\t\t\t\t    config = _ref2.config,\n\t\t\t\t    attribute = _ref2.attribute,\n\t\t\t\t    datatype = _ref2.datatype;\n\n\t\t\t\tif ($.type(value) == \"object\" && \"value\" in value) {\n\t\t\t\t\tvar presentational = value.presentational;\n\t\t\t\t\tvalue = value.value;\n\t\t\t\t}\n\n\t\t\t\tif (element.nodeType === 1) {\n\t\t\t\t\tif (!config) {\n\t\t\t\t\t\tconfig = _.getConfig(element, attribute);\n\t\t\t\t\t}\n\n\t\t\t\t\tattribute = config.attribute;\n\n\t\t\t\t\tdatatype = datatype !== undefined ? datatype : config.datatype;\n\n\t\t\t\t\tif (config.setValue && attribute == config.attribute) {\n\t\t\t\t\t\treturn config.setValue(element, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (attribute) {\n\t\t\t\t\tif (attribute in element && _.useProperty(element, attribute) && element[attribute] !== value) {\n\t\t\t\t\t\t// Setting properties (if they exist) instead of attributes\n\t\t\t\t\t\t// is needed for dynamic elements such as checkboxes, sliders etc\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\telement[attribute] = value;\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set attribute anyway, even if we set a property because when\n\t\t\t\t\t// they're not in sync it gets really fucking confusing.\n\t\t\t\t\tif (datatype == \"boolean\") {\n\t\t\t\t\t\tif (value != element.hasAttribute(attribute)) {\n\t\t\t\t\t\t\t$.toggleAttribute(element, attribute, value, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (element.getAttribute(attribute) != value) {\n\t\t\t\t\t\t// intentionally non-strict, e.g. \"3.\" !== 3\n\t\t\t\t\t\telement.setAttribute(attribute, value);\n\n\t\t\t\t\t\tif (presentational) {\n\t\t\t\t\t\t\telement.textContent = presentational;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (datatype === \"number\" && !presentational) {\n\t\t\t\t\t\tpresentational = _.formatNumber(value);\n\t\t\t\t\t}\n\n\t\t\t\t\telement.textContent = presentational || value;\n\n\t\t\t\t\tif (presentational && element.setAttribute) {\n\t\t\t\t\t\telement.setAttribute(\"content\", value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    *  Set/get a property or an attribute?\n    * @return {Boolean} true to use a property, false to use the attribute\n    */\n\t\t\tuseProperty: function useProperty(element, attribute) {\n\t\t\t\tif ([\"href\", \"src\"].indexOf(attribute) > -1) {\n\t\t\t\t\t// URL properties resolve \"\" as location.href, fucking up emptiness checks\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (element.namespaceURI == \"http://www.w3.org/2000/svg\") {\n\t\t\t\t\t// SVG has a fucked up DOM, do not use these properties\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tlazy: {\n\t\t\t\tformatNumber: function formatNumber() {\n\t\t\t\t\tvar numberFormat = new Intl.NumberFormat(\"en-US\", { maximumFractionDigits: 2 });\n\n\t\t\t\t\treturn function (value) {\n\t\t\t\t\t\tif (value === Infinity || value === -Infinity) {\n\t\t\t\t\t\t\t// Pretty print infinity\n\t\t\t\t\t\t\treturn value < 0 ? \"-∞\" : \"∞\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn numberFormat.format(value);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\n(function ($, $$) {\n\n\tvar _ = Mavo.UI.Popup = $.Class({\n\t\tconstructor: function constructor(primitive) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.primitive = primitive;\n\n\t\t\t// Need to be defined here so that this is what expected\n\t\t\tthis.position = function (evt) {\n\t\t\t\tvar bounds = _this.element.getBoundingClientRect();\n\t\t\t\tvar x = bounds.left;\n\t\t\t\tvar y = bounds.bottom;\n\n\t\t\t\tif (_this.popup.offsetHeight) {\n\t\t\t\t\t// Is in the DOM, check if it fits\n\t\t\t\t\tvar popupBounds = _this.popup.getBoundingClientRect();\n\n\t\t\t\t\tif (popupBounds.height + y > innerHeight) {\n\t\t\t\t\t\ty = innerHeight - popupBounds.height - 20;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$.style(_this.popup, { top: y + \"px\", left: x + \"px\" });\n\t\t\t};\n\n\t\t\tthis.popup = $.create(\"div\", {\n\t\t\t\tclassName: \"mv-popup\",\n\t\t\t\thidden: true,\n\t\t\t\tcontents: {\n\t\t\t\t\ttag: \"fieldset\",\n\t\t\t\t\tcontents: [{\n\t\t\t\t\t\ttag: \"legend\",\n\t\t\t\t\t\ttextContent: this.primitive.label + \":\"\n\t\t\t\t\t}, this.editor]\n\t\t\t\t},\n\t\t\t\tevents: {\n\t\t\t\t\tkeyup: function keyup(evt) {\n\t\t\t\t\t\tif (evt.keyCode == 13 || evt.keyCode == 27) {\n\t\t\t\t\t\t\tif (_this.popup.contains(document.activeElement)) {\n\t\t\t\t\t\t\t\t_this.element.focus();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t_this.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttransitionend: this.position\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// No point in having a dropdown in a popup\n\t\t\tif (this.editor.matches(\"select\")) {\n\t\t\t\tthis.editor.size = Math.min(10, this.editor.children.length);\n\t\t\t}\n\t\t},\n\n\t\tshow: function show() {\n\t\t\tvar _this2 = this;\n\n\t\t\t$.unbind([this.element, this.popup], \".mavo:showpopup\");\n\n\t\t\tthis.shown = true;\n\n\t\t\tthis.hideCallback = function (evt) {\n\t\t\t\tif (!_this2.popup.contains(evt.target) && !_this2.element.contains(evt.target)) {\n\t\t\t\t\t_this2.hide();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.position();\n\n\t\t\tdocument.body.appendChild(this.popup);\n\n\t\t\trequestAnimationFrame(function (e) {\n\t\t\t\treturn _this2.popup.removeAttribute(\"hidden\");\n\t\t\t}); // trigger transition\n\n\t\t\t$.events(document, \"focus click\", this.hideCallback, true);\n\t\t\twindow.addEventListener(\"scroll\", this.position);\n\t\t},\n\n\t\thide: function hide() {\n\t\t\tvar _this3 = this;\n\n\t\t\t$.unbind(document, \"focus click\", this.hideCallback, true);\n\t\t\twindow.removeEventListener(\"scroll\", this.position);\n\t\t\tthis.popup.setAttribute(\"hidden\", \"\"); // trigger transition\n\t\t\tthis.shown = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t$.remove(_this3.popup);\n\t\t\t}, parseFloat(getComputedStyle(this.popup).transitionDuration) * 1000 || 400); // TODO transition-duration could override this\n\n\t\t\t$.events(this.element, {\n\t\t\t\t\"click.mavo:showpopup\": function clickMavoShowpopup(evt) {\n\t\t\t\t\t_this3.show();\n\t\t\t\t},\n\t\t\t\t\"keyup.mavo:showpopup\": function keyupMavoShowpopup(evt) {\n\t\t\t\t\tif ([13, 113].indexOf(evt.keyCode) > -1) {\n\t\t\t\t\t\t// Enter or F2\n\t\t\t\t\t\t_this3.show();\n\t\t\t\t\t\t_this3.editor.focus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tclose: function close() {\n\t\t\tthis.hide();\n\t\t\t$.unbind(this.element, \".mavo:edit .mavo:preedit .mavo:showpopup\");\n\t\t},\n\n\t\tproxy: {\n\t\t\t\"editor\": \"primitive\",\n\t\t\t\"element\": \"primitive\"\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Configuration for different types of elements. Options:\n * - attribute {String}\n * - useProperty {Boolean}\n * - datatype {\"number\"|\"boolean\"|\"string\"} Default is \"string\"\n * - modes\n * - editor {Object|Function}\n * - setEditorValue temporary\n * - edit\n * - done\n * - observe\n * - default: If there is no attribute, can we use that rule to pick one?\n * @\n */\n(function ($, $$) {\n\n\tvar _ = Mavo.Elements = {};\n\n\tObject.defineProperties(_, {\n\t\t\"register\": {\n\t\t\tvalue: function value(id, o) {\n\t\t\t\tif (_typeof(arguments[0]) === \"object\") {\n\t\t\t\t\t// Multiple definitions\n\t\t\t\t\tfor (var s in arguments[0]) {\n\t\t\t\t\t\t_.register(s, arguments[0][s]);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar all = Mavo.toArray(arguments[1]);\n\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tconfig = _step.value;\n\n\t\t\t\t\t\tconfig.attribute = Mavo.toArray(config.attribute || null);\n\n\t\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator2 = config.attribute[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\t\tattribute = _step2.value;\n\n\t\t\t\t\t\t\t\tvar _o = $.extend({}, config);\n\t\t\t\t\t\t\t\t_o.attribute = attribute;\n\t\t\t\t\t\t\t\t_o.selector = _o.selector || id;\n\t\t\t\t\t\t\t\t_o.id = id;\n\n\t\t\t\t\t\t\t\t_[id] = _[id] || [];\n\t\t\t\t\t\t\t\t_[id].push(_o);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn _;\n\t\t\t}\n\t\t},\n\t\t\"search\": {\n\t\t\tvalue: function value(element, attribute, datatype) {\n\t\t\t\tvar matches = _.matches(element, attribute, datatype);\n\n\t\t\t\treturn matches[matches.length - 1] || { attribute: attribute };\n\t\t\t}\n\t\t},\n\t\t\"matches\": {\n\t\t\tvalue: function value(element, attribute, datatype) {\n\t\t\t\tvar matches = [];\n\n\t\t\t\tselectorloop: for (var id in _) {\n\t\t\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\t\t\tvar _didIteratorError3 = false;\n\t\t\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator3 = _[id][Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\t\t\tvar o = _step3.value;\n\n\t\t\t\t\t\t\t// Passes attribute test?\n\t\t\t\t\t\t\tvar attributeMatches = attribute === undefined && o.default || attribute === o.attribute;\n\n\t\t\t\t\t\t\tif (!attributeMatches) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Passes datatype test?\n\t\t\t\t\t\t\tif (datatype !== undefined && datatype !== \"string\" && datatype !== o.datatype) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Passes selector test?\n\t\t\t\t\t\t\tvar selector = o.selector || id;\n\t\t\t\t\t\t\tif (!element.matches(selector)) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Passes arbitrary test?\n\t\t\t\t\t\t\tif (o.test && !o.test(element, attribute, datatype)) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// All tests have passed\n\t\t\t\t\t\t\tmatches.push(o);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t\t\t_iteratorError3 = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn matches;\n\t\t\t}\n\t\t},\n\n\t\tisSVG: {\n\t\t\tvalue: function value(e) {\n\t\t\t\treturn e.namespaceURI == \"http://www.w3.org/2000/svg\";\n\t\t\t}\n\t\t},\n\n\t\tdefaultEditors: {\n\t\t\tvalue: {\n\t\t\t\t\"string\": { tag: \"input\" },\n\t\t\t\t\"number\": { tag: \"input\", type: \"number\" },\n\t\t\t\t\"boolean\": { tag: \"input\", type: \"checkbox\" }\n\t\t\t}\n\t\t}\n\t});\n\n\t_.register({\n\t\t\"*\": [{\n\t\t\ttest: function test(e, a) {\n\t\t\t\treturn a == \"hidden\";\n\t\t\t},\n\t\t\tattribute: \"hidden\",\n\t\t\tdatatype: \"boolean\"\n\t\t}, {\n\t\t\ttest: _.isSVG,\n\t\t\tattribute: \"y\",\n\t\t\tdatatype: \"number\"\n\t\t}, {\n\t\t\tdefault: true,\n\t\t\ttest: _.isSVG,\n\t\t\tattribute: \"x\",\n\t\t\tdatatype: \"number\"\n\t\t}],\n\n\t\t\"media\": {\n\t\t\tdefault: true,\n\t\t\tselector: \"img, video, audio\",\n\t\t\tattribute: \"src\",\n\t\t\teditor: function editor() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tvar uploadBackend = this.mavo.storage && this.mavo.storage.upload ? this.mavo.storage : this.uploadBackend;\n\n\t\t\t\tvar mainInput = $.create(\"input\", {\n\t\t\t\t\t\"type\": \"url\",\n\t\t\t\t\t\"placeholder\": \"http://example.com/image.png\",\n\t\t\t\t\t\"className\": \"mv-output\",\n\t\t\t\t\t\"aria-label\": \"URL to image\"\n\t\t\t\t});\n\n\t\t\t\tif (uploadBackend && self.FileReader) {\n\t\t\t\t\tvar popup;\n\t\t\t\t\tvar type = this.element.nodeName.toLowerCase();\n\t\t\t\t\ttype = type == \"img\" ? \"image\" : type;\n\t\t\t\t\tvar path = this.element.getAttribute(\"mv-uploads\") || type + \"s\";\n\n\t\t\t\t\tvar upload = function upload(file) {\n\t\t\t\t\t\tvar name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : file.name;\n\n\t\t\t\t\t\tif (file && file.type.indexOf(type + \"/\") === 0) {\n\t\t\t\t\t\t\t_this.mavo.upload(file, path + \"/\" + name).then(function (url) {\n\t\t\t\t\t\t\t\tmainInput.value = url;\n\t\t\t\t\t\t\t\t$.fire(mainInput, \"input\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tvar uploadEvents = {\n\t\t\t\t\t\t\"paste\": function paste(evt) {\n\t\t\t\t\t\t\tvar item = evt.clipboardData.items[0];\n\n\t\t\t\t\t\t\tif (item.kind == \"file\" && item.type.indexOf(type + \"/\") === 0) {\n\t\t\t\t\t\t\t\t// Is a file of the correct type, upload!\n\t\t\t\t\t\t\t\tvar name = \"pasted-\" + type + \"-\" + Date.now() + \".\" + item.type.slice(6); // image, video, audio are all 5 chars\n\t\t\t\t\t\t\t\tupload(item.getAsFile(), name);\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"drag dragstart dragend dragover dragenter dragleave drop\": function dragDragstartDragendDragoverDragenterDragleaveDrop(evt) {\n\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"dragover dragenter\": function dragoverDragenter(evt) {\n\t\t\t\t\t\t\tpopup.classList.add(\"mv-dragover\");\n\t\t\t\t\t\t\t_this.element.classList.add(\"mv-dragover\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"dragleave dragend drop\": function dragleaveDragendDrop(evt) {\n\t\t\t\t\t\t\tpopup.classList.remove(\"mv-dragover\");\n\t\t\t\t\t\t\t_this.element.classList.remove(\"mv-dragover\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"drop\": function drop(evt) {\n\t\t\t\t\t\t\tupload(evt.dataTransfer.files[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t$.events(this.element, uploadEvents);\n\n\t\t\t\t\treturn popup = $.create({\n\t\t\t\t\t\tclassName: \"mv-upload-popup\",\n\t\t\t\t\t\tcontents: [mainInput, {\n\t\t\t\t\t\t\ttag: \"input\",\n\t\t\t\t\t\t\ttype: \"file\",\n\t\t\t\t\t\t\t\"aria-label\": \"Upload image\",\n\t\t\t\t\t\t\taccept: type + \"/*\",\n\t\t\t\t\t\t\tevents: {\n\t\t\t\t\t\t\t\tchange: function change(evt) {\n\t\t\t\t\t\t\t\t\tvar file = evt.target.files[0];\n\n\t\t\t\t\t\t\t\t\tif (!file) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tupload(file);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tclassName: \"mv-tip\",\n\t\t\t\t\t\t\tinnerHTML: \"<strong>Tip:</strong> You can also drag & drop or paste!\"\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tevents: uploadEvents\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn mainInput;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t\"video, audio\": {\n\t\t\tattribute: [\"autoplay\", \"buffered\", \"loop\"],\n\t\t\tdatatype: \"boolean\"\n\t\t},\n\n\t\t\"a, link\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"href\"\n\t\t},\n\n\t\t\"input, select, button, textarea\": {\n\t\t\tattribute: \"disabled\",\n\t\t\tdatatype: \"boolean\"\n\t\t},\n\n\t\t\"select, input\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"value\",\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"input change\"\n\t\t},\n\n\t\t\"textarea\": {\n\t\t\tdefault: true,\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"input\",\n\t\t\tgetValue: function getValue(element) {\n\t\t\t\treturn element.value;\n\t\t\t},\n\t\t\tsetValue: function setValue(element, value) {\n\t\t\t\treturn element.value = value;\n\t\t\t}\n\t\t},\n\n\t\t\"input[type=range], input[type=number]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"value\",\n\t\t\tdatatype: \"number\",\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"input change\"\n\t\t},\n\n\t\t\"input[type=checkbox]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"checked\",\n\t\t\tdatatype: \"boolean\",\n\t\t\tmodes: \"read\",\n\t\t\tchangeEvents: \"click\"\n\t\t},\n\n\t\t\"input[type=radio]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"checked\",\n\t\t\tmodes: \"read\",\n\t\t\tgetValue: function getValue(element) {\n\t\t\t\tif (element.form) {\n\t\t\t\t\treturn element.form[element.name].value;\n\t\t\t\t}\n\n\t\t\t\tvar checked = $(\"input[type=radio][name=\\\"\" + element.name + \"\\\"]:checked\");\n\t\t\t\treturn checked && checked.value;\n\t\t\t},\n\t\t\tsetValue: function setValue(element, value) {\n\t\t\t\tif (element.form) {\n\t\t\t\t\telement.form[element.name].value = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar toCheck = $(\"input[type=radio][name=\\\"\" + element.name + \"\\\"][value=\\\"\" + value + \"\\\"]\");\n\t\t\t\t$.properties(toCheck, { checked: true });\n\t\t\t},\n\t\t\tinit: function init(element) {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tthis.mavo.element.addEventListener(\"change\", function (evt) {\n\t\t\t\t\tif (evt.target.name == element.name) {\n\t\t\t\t\t\t_this2.value = _this2.getValue();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t\"button, .counter\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"mv-clicked\",\n\t\t\tdatatype: \"number\",\n\t\t\tmodes: \"read\",\n\t\t\tinit: function init(element) {\n\t\t\t\tvar _this3 = this;\n\n\t\t\t\tif (this.attribute === \"mv-clicked\") {\n\t\t\t\t\telement.setAttribute(\"mv-clicked\", \"0\");\n\n\t\t\t\t\telement.addEventListener(\"click\", function (evt) {\n\t\t\t\t\t\tvar clicked = +element.getAttribute(\"mv-clicked\") || 0;\n\t\t\t\t\t\t_this3.value = ++clicked;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t\"meter, progress\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"value\",\n\t\t\tdatatype: \"number\",\n\t\t\tedit: function edit() {\n\t\t\t\tvar _this4 = this;\n\n\t\t\t\tvar min = +this.element.getAttribute(\"min\") || 0;\n\t\t\t\tvar max = +this.element.getAttribute(\"max\") || 1;\n\t\t\t\tvar range = max - min;\n\t\t\t\tvar step = +this.element.getAttribute(\"mv-edit-step\") || (range > 1 ? 1 : range / 100);\n\n\t\t\t\tthis.element.addEventListener(\"mousemove.mavo:edit\", function (evt) {\n\t\t\t\t\t// Change property as mouse moves\n\t\t\t\t\tvar left = _this4.element.getBoundingClientRect().left;\n\t\t\t\t\tvar offset = Math.max(0, (evt.clientX - left) / _this4.element.offsetWidth);\n\t\t\t\t\tvar newValue = min + range * offset;\n\t\t\t\t\tvar mod = newValue % step;\n\n\t\t\t\t\tnewValue += mod > step / 2 ? step - mod : -mod;\n\t\t\t\t\tnewValue = Math.max(min, Math.min(newValue, max));\n\n\t\t\t\t\t_this4.sneak(function () {\n\t\t\t\t\t\treturn _this4.element.setAttribute(\"value\", newValue);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"mouseleave.mavo:edit\", function (evt) {\n\t\t\t\t\t// Return to actual value\n\t\t\t\t\t_this4.sneak(function () {\n\t\t\t\t\t\treturn _this4.element.setAttribute(\"value\", _this4.value);\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"click.mavo:edit\", function (evt) {\n\t\t\t\t\t// Register change\n\t\t\t\t\t_this4.value = _this4.getValue();\n\t\t\t\t});\n\n\t\t\t\tthis.element.addEventListener(\"keydown.mavo:edit\", function (evt) {\n\t\t\t\t\t// Edit with arrow keys\n\t\t\t\t\tif (evt.target == _this4.element && (evt.keyCode == 37 || evt.keyCode == 39)) {\n\t\t\t\t\t\tvar increment = step * (evt.keyCode == 39 ? 1 : -1) * (evt.shiftKey ? 10 : 1);\n\t\t\t\t\t\tvar newValue = _this4.value + increment;\n\t\t\t\t\t\tnewValue = Math.max(min, Math.min(newValue, max));\n\n\t\t\t\t\t\t_this4.element.setAttribute(\"value\", newValue);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tdone: function done() {\n\t\t\t\t$.unbind(this.element, \".mavo:edit\");\n\t\t\t}\n\t\t},\n\n\t\t\"meta\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"content\"\n\t\t},\n\n\t\t\"block\": {\n\t\t\tdefault: true,\n\t\t\tselector: \"p, div, li, dt, dd, h1, h2, h3, h4, h5, h6, article, section, address\",\n\t\t\teditor: function editor() {\n\t\t\t\tvar display = getComputedStyle(this.element).display;\n\t\t\t\tvar tag = display.indexOf(\"inline\") === 0 ? \"input\" : \"textarea\";\n\t\t\t\tvar editor = $.create(tag);\n\n\t\t\t\tif (tag == \"textarea\") {\n\t\t\t\t\t// Actually multiline\n\t\t\t\t\tvar width = this.element.offsetWidth;\n\n\t\t\t\t\tif (width) {\n\t\t\t\t\t\teditor.width = width;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn editor;\n\t\t\t},\n\n\t\t\tsetEditorValue: function setEditorValue(value) {\n\t\t\t\tif (this.datatype && this.datatype != \"string\") {\n\t\t\t\t\tvalue = value + \"\";\n\t\t\t\t}\n\n\t\t\t\tvar cs = getComputedStyle(this.element);\n\t\t\t\tvalue = value || \"\";\n\n\t\t\t\tif ([\"normal\", \"nowrap\"].indexOf(cs.whiteSpace) > -1) {\n\t\t\t\t\t// Collapse lines\n\t\t\t\t\tvalue = value.replace(/\\r?\\n/g, \" \");\n\t\t\t\t}\n\n\t\t\t\tif ([\"normal\", \"nowrap\", \"pre-line\"].indexOf(cs.whiteSpace) > -1) {\n\t\t\t\t\t// Collapse whitespace\n\t\t\t\t\tvalue = value.replace(/^[ \\t]+|[ \\t]+$/gm, \"\").replace(/[ \\t]+/g, \" \");\n\t\t\t\t}\n\n\t\t\t\tthis.editor.value = value;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t},\n\n\t\t\"time\": {\n\t\t\tattribute: \"datetime\",\n\t\t\tdefault: true,\n\t\t\teditor: function editor() {\n\t\t\t\tvar types = {\n\t\t\t\t\t\"date\": /^[Y\\d]{4}-[M\\d]{2}-[D\\d]{2}$/i,\n\t\t\t\t\t\"month\": /^[Y\\d]{4}-[M\\d]{2}$/i,\n\t\t\t\t\t\"time\": /^[H\\d]{2}:[M\\d]{2}/i,\n\t\t\t\t\t\"week\": /[Y\\d]{4}-W[W\\d]{2}$/i,\n\t\t\t\t\t\"datetime-local\": /^[Y\\d]{4}-[M\\d]{2}-[D\\d]{2} [H\\d]{2}:[M\\d]{2}/i\n\t\t\t\t};\n\n\t\t\t\tvar datetime = this.element.getAttribute(\"datetime\") || \"YYYY-MM-DD\";\n\n\t\t\t\tfor (var type in types) {\n\t\t\t\t\tif (types[type].test(datetime)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn { tag: \"input\", type: type };\n\t\t\t},\n\t\t\thumanReadable: function humanReadable(value) {\n\t\t\t\tvar date = new Date(value);\n\n\t\t\t\tif (!value || isNaN(date)) {\n\t\t\t\t\treturn \"(No \" + this.label + \")\";\n\t\t\t\t}\n\n\t\t\t\t// TODO do this properly (account for other datetime datatypes and different formats)\n\t\t\t\tvar options = {\n\t\t\t\t\t\"date\": { day: \"numeric\", month: \"short\", year: \"numeric\" },\n\t\t\t\t\t\"month\": { month: \"long\" },\n\t\t\t\t\t\"time\": { hour: \"numeric\", minute: \"numeric\" },\n\t\t\t\t\t\"datetime-local\": { day: \"numeric\", month: \"short\", year: \"numeric\", hour: \"numeric\", minute: \"numeric\" }\n\t\t\t\t};\n\n\t\t\t\tvar format = options[this.editor && this.editor.type] || options.date;\n\t\t\t\tformat.timeZone = \"UTC\";\n\n\t\t\t\treturn date.toLocaleString(\"en-GB\", format);\n\t\t\t}\n\t\t},\n\n\t\t\"circle\": [{\n\t\t\tdefault: true,\n\t\t\tattribute: \"r\",\n\t\t\tdatatype: \"number\"\n\t\t}, {\n\t\t\tattribute: [\"cx\", \"cy\"],\n\t\t\tdatatype: \"number\"\n\t\t}],\n\n\t\t\"text\": {\n\t\t\tdefault: true,\n\t\t\tpopup: true\n\t\t},\n\n\t\t\"[role=checkbox]\": {\n\t\t\tdefault: true,\n\t\t\tattribute: \"aria-checked\",\n\t\t\tdatatype: \"boolean\",\n\t\t\tedit: function edit() {\n\t\t\t\tvar _this5 = this;\n\n\t\t\t\tthis.element.addEventListener(\"click.mavo:edit\", function (evt) {\n\t\t\t\t\t_this5.value = !_this5.value;\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t},\n\t\t\tdone: function done() {\n\t\t\t\t$.unbind(this.element, \".mavo:edit\");\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tMavo.attributes.push(\"mv-multiple\", \"mv-order\", \"mv-accepts\");\n\n\tvar _ = Mavo.Collection = $.Class({\n\t\textends: Mavo.Node,\n\t\tnodeType: \"Collection\",\n\t\tconstructor: function constructor(element, mavo, o) {\n\t\t\t/*\n    * Create the template, remove it from the DOM and store it\n    */\n\t\t\tthis.templateElement = this.element;\n\n\t\t\tthis.children = [];\n\n\t\t\t// ALL descendant property names as an array\n\t\t\tif (!this.fromTemplate(\"properties\", \"mutable\", \"templateElement\", \"accepts\")) {\n\t\t\t\tthis.properties = $$(Mavo.selectors.property, this.templateElement).map(Mavo.Node.getProperty);\n\t\t\t\tthis.mutable = this.templateElement.matches(Mavo.selectors.multiple);\n\t\t\t\tthis.accepts = (this.templateElement.getAttribute(\"mv-accepts\") || \"\").split(/\\s+/);\n\n\t\t\t\t// Must clone because otherwise once expressions are parsed on the template element\n\t\t\t\t// we will not be able to pick them up from subsequent items\n\t\t\t\tthis.templateElement = this.templateElement.cloneNode(true);\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\tvar item = this.createItem(this.element);\n\t\t\t\tthis.add(item);\n\t\t\t\tthis.itemTemplate = item.template || item;\n\t\t\t}\n\n\t\t\tthis.postInit();\n\n\t\t\tMavo.hooks.run(\"collection-init-end\", this);\n\t\t},\n\n\t\tget length() {\n\t\t\treturn this.children.length;\n\t\t},\n\n\t\tgetData: function getData() {\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tvar env = {\n\t\t\t\tcontext: this,\n\t\t\t\toptions: o,\n\t\t\t\tdata: []\n\t\t\t};\n\n\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\tvar _didIteratorError = false;\n\t\t\tvar _iteratorError = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator = this.children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\titem = _step.value;\n\n\t\t\t\t\tif (!item.deleted || env.options.live) {\n\t\t\t\t\t\tvar itemData = item.getData(env.options);\n\n\t\t\t\t\t\tif (itemData || env.options.live) {\n\t\t\t\t\t\t\tenv.data.push(itemData);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError = true;\n\t\t\t\t_iteratorError = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!this.mutable) {\n\t\t\t\t// If immutable, drop nulls\n\n\t\t\t\tenv.data = env.data.filter(function (item) {\n\t\t\t\t\treturn item !== null;\n\t\t\t\t});\n\n\t\t\t\tif (env.options.live && env.data.length === 1) {\n\t\t\t\t\t// If immutable with only 1 item, return the item\n\t\t\t\t\t// See https://github.com/LeaVerou/mavo/issues/50#issuecomment-266079652\n\t\t\t\t\tenv.data = env.data[0];\n\t\t\t\t} else if (this.data && !env.options.live) {\n\t\t\t\t\tvar rendered = Mavo.subset(this.data, this.inPath);\n\t\t\t\t\tenv.data = env.data.concat(rendered.slice(env.data.length));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tMavo.hooks.run(\"node-getdata-end\", env);\n\n\t\t\treturn env.data;\n\t\t},\n\n\t\t// Create item but don't insert it anywhere\n\t\t// Mostly used internally\n\t\tcreateItem: function createItem(element) {\n\t\t\tif (!element) {\n\t\t\t\telement = this.templateElement.cloneNode(true);\n\t\t\t}\n\n\t\t\tvar item = Mavo.Node.create(element, this.mavo, {\n\t\t\t\tcollection: this,\n\t\t\t\ttemplate: this.itemTemplate || (this.template ? this.template.itemTemplate : null),\n\t\t\t\tproperty: this.property,\n\t\t\t\ttype: this.type\n\t\t\t});\n\n\t\t\treturn item;\n\t\t},\n\n\t\t/**\n   * Add a new item to this collection\n   * @param item {Node|Mavo.Node} Optional. Element or Mavo object for the new item\n   * @param index {Number} Optional. Index of existing item, will be added opposite to list direction\n   * @param silent {Boolean} Optional. Throw a datachange event? Mainly used internally.\n   */\n\t\tadd: function add(item, index) {\n\t\t\tvar _this = this;\n\n\t\t\tvar o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\tif (item instanceof Node) {\n\t\t\t\titem = Mavo.Node.get(item) || this.createItem(item);\n\t\t\t} else {\n\t\t\t\titem = item || this.createItem();\n\t\t\t}\n\n\t\t\tif (item.collection != this) {\n\t\t\t\tthis.adopt(item);\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\t// Add it to the DOM, or fix its place\n\t\t\t\tvar rel = this.children[index] ? this.children[index].element : this.marker;\n\t\t\t\t$[this.bottomUp ? \"after\" : \"before\"](item.element, rel);\n\n\t\t\t\tif (index === undefined) {\n\t\t\t\t\tindex = this.bottomUp ? 0 : this.length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tindex = this.length;\n\t\t\t}\n\n\t\t\tvar env = { context: this, item: item };\n\n\t\t\tenv.previousIndex = item.index;\n\n\t\t\t// Update internal data model\n\t\t\tenv.changed = this.splice({\n\t\t\t\tremove: env.item\n\t\t\t}, {\n\t\t\t\tindex: index,\n\t\t\t\tadd: env.item\n\t\t\t});\n\n\t\t\trequestAnimationFrame(function () {\n\t\t\t\tif (!o.silent) {\n\t\t\t\t\tenv.changed.forEach(function (i) {\n\t\t\t\t\t\ti.dataChanged(i == env.item && env.previousIndex === undefined ? \"add\" : \"move\");\n\t\t\t\t\t\ti.unsavedChanges = true;\n\t\t\t\t\t});\n\n\t\t\t\t\t_this.unsavedChanges = _this.mavo.unsavedChanges = true;\n\t\t\t\t}\n\n\t\t\t\t_this.mavo.expressions.update(env.item.element);\n\t\t\t});\n\n\t\t\tMavo.hooks.run(\"collection-add-end\", env);\n\n\t\t\treturn env.item;\n\t\t},\n\n\t\tsplice: function splice() {\n\t\t\tfor (var _len = arguments.length, actions = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\tactions[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\tvar _didIteratorError2 = false;\n\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator2 = actions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\tvar action = _step2.value;\n\n\t\t\t\t\tif (action.index === undefined && action.remove && isNaN(action.remove)) {\n\t\t\t\t\t\t// Remove is an item\n\t\t\t\t\t\taction.index = this.children.indexOf(action.remove);\n\t\t\t\t\t\taction.remove = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Sort in reverse index order\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t_iteratorError2 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tactions.sort(function (a, b) {\n\t\t\t\treturn b.index - a.index;\n\t\t\t});\n\n\t\t\t// FIXME this could still result in buggy behavior.\n\t\t\t// Think of e.g. adding items on i, then removing > 1 items on i-1.\n\t\t\t// The new items would get removed instead of the old ones.\n\t\t\t// Not a pressing issue though since we always remove 1 max when adding things too.\n\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\tvar _didIteratorError3 = false;\n\t\t\tvar _iteratorError3 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator3 = actions[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\tvar _action = _step3.value;\n\n\t\t\t\t\tif (_action.index > -1 && (_action.remove || _action.add)) {\n\t\t\t\t\t\tvar _children;\n\n\t\t\t\t\t\t_action.remove = _action.remove || 0;\n\t\t\t\t\t\t_action.add = Mavo.toArray(_action.add);\n\n\t\t\t\t\t\t(_children = this.children).splice.apply(_children, [_action.index, +_action.remove].concat(_toConsumableArray(_action.add)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t_iteratorError3 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar changed = [];\n\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar _item = this.children[i];\n\n\t\t\t\tif (_item && _item.index !== i) {\n\t\t\t\t\t_item.index = i;\n\t\t\t\t\tchanged.push(_item);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn changed;\n\t\t},\n\n\t\tadopt: function adopt(item) {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (item.collection) {\n\t\t\t\t// It belongs to another collection, delete from there first\n\t\t\t\titem.collection.splice({ remove: item });\n\t\t\t\titem.collection.dataChanged(\"delete\");\n\t\t\t}\n\n\t\t\t// Update collection & closestCollection properties\n\t\t\tthis.walk(function (obj) {\n\t\t\t\tif (obj.closestCollection === item.collection) {\n\t\t\t\t\tobj.closestCollection = _this2;\n\t\t\t\t}\n\n\t\t\t\t// Belongs to another Mavo?\n\t\t\t\tif (item.mavo != _this2.mavo) {\n\t\t\t\t\titem.mavo = _this2.mavo;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\titem.collection = this;\n\n\t\t\t// Adjust templates and their copies\n\t\t\tif (item.template) {\n\t\t\t\tMavo.delete(item.template.copies, item);\n\n\t\t\t\titem.template = this.itemTemplate;\n\t\t\t}\n\t\t},\n\n\t\tdelete: function _delete(item, hard) {\n\t\t\tvar _this3 = this;\n\n\t\t\tif (hard) {\n\t\t\t\t// Hard delete\n\t\t\t\t$.remove(item.element);\n\t\t\t\tthis.splice({ remove: item });\n\t\t\t\titem.destroy();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn $.transition(item.element, { opacity: 0 }).then(function () {\n\t\t\t\titem.deleted = true; // schedule for deletion\n\t\t\t\titem.element.style.opacity = \"\";\n\n\t\t\t\titem.dataChanged(\"delete\");\n\n\t\t\t\t_this3.unsavedChanges = item.unsavedChanges = _this3.mavo.unsavedChanges = true;\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Move existing item to a new position. Wraps around if position is out of bounds.\n   * @offset relative position\n   */\n\t\tmove: function move(item, offset) {\n\t\t\tindex = item.index + offset + (offset > 0);\n\n\t\t\tif (index < 0) {\n\t\t\t\tindex = this.children.length;\n\t\t\t} else if (index > this.children.length) {\n\t\t\t\tindex = 0;\n\t\t\t}\n\n\t\t\tthis.add(item, index);\n\t\t},\n\n\t\teditItem: function editItem(item) {\n\t\t\tif (!item.itemControls) {\n\t\t\t\titem.itemControls = new Mavo.UI.Itembar(item);\n\t\t\t}\n\n\t\t\titem.itemControls.add();\n\n\t\t\titem.edit();\n\t\t},\n\n\t\tedit: function edit() {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (this.super.edit.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\t// Insert the add button if it's not already in the DOM\n\t\t\t\tif (!this.addButton.parentNode) {\n\t\t\t\t\tvar tag = this.element.tagName.toLowerCase();\n\t\t\t\t\tvar containerSelector = Mavo.selectors.container[tag];\n\t\t\t\t\tvar rel = containerSelector ? this.marker.parentNode.closest(containerSelector) : this.marker;\n\t\t\t\t\t$[this.bottomUp ? \"before\" : \"after\"](this.addButton, rel);\n\t\t\t\t}\n\n\t\t\t\t// Insert item controls\n\t\t\t\tthis.propagate(function (item) {\n\t\t\t\t\t_this4.editItem(item);\n\t\t\t\t});\n\n\t\t\t\t// Set up drag & drop\n\t\t\t\t_.dragula.then(function () {\n\t\t\t\t\t_this4.getDragula();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tdone: function done() {\n\t\t\tif (this.super.done.call(this) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.mutable) {\n\t\t\t\tif (this.addButton.parentNode) {\n\t\t\t\t\tthis.addButton.remove();\n\t\t\t\t}\n\n\t\t\t\tthis.propagate(function (item) {\n\t\t\t\t\tif (item.itemControls) {\n\t\t\t\t\t\titem.itemControls.remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n   * Delete all items in the collection. Not undoable.\n   */\n\t\tclear: function clear() {\n\t\t\tif (this.mutable) {\n\t\t\t\tfor (var i = 1, item; item = this.children[i]; i++) {\n\t\t\t\t\titem.element.remove();\n\t\t\t\t\titem.destroy();\n\t\t\t\t}\n\n\t\t\t\tthis.children = this.children.slice(0, 1);\n\n\t\t\t\tthis.dataChanged(\"clear\");\n\t\t\t}\n\n\t\t\tthis.propagate(\"clear\");\n\t\t},\n\n\t\tdataChanged: function dataChanged(action) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\to.element = o.element || this.marker;\n\t\t\treturn this.super.dataChanged.call(this, action, o);\n\t\t},\n\n\t\tsave: function save() {\n\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\tvar _didIteratorError4 = false;\n\t\t\tvar _iteratorError4 = undefined;\n\n\t\t\ttry {\n\t\t\t\tfor (var _iterator4 = this.children[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\tvar _item2 = _step4.value;\n\n\t\t\t\t\tif (_item2.deleted) {\n\t\t\t\t\t\tthis.delete(_item2, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_item2.unsavedChanges = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t_iteratorError4 = err;\n\t\t\t} finally {\n\t\t\t\ttry {\n\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tpropagated: [\"save\"],\n\n\t\tdataRender: function dataRender(data) {\n\t\t\tif (!data) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata = Mavo.toArray(data);\n\n\t\t\tif (!this.mutable) {\n\t\t\t\tthis.children.forEach(function (item, i) {\n\t\t\t\t\treturn item.render(data && data[i]);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// First render on existing items\n\t\t\t\tfor (var i = 0; i < this.children.length; i++) {\n\t\t\t\t\tif (i < data.length) {\n\t\t\t\t\t\tthis.children[i].render(data[i]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.children[i].dataChanged(\"delete\");\n\t\t\t\t\t\tthis.delete(this.children[i], true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (data.length > i) {\n\t\t\t\t\t// There are still remaining items\n\t\t\t\t\t// Using document fragments improves performance by 60%\n\t\t\t\t\tvar fragment = document.createDocumentFragment();\n\n\t\t\t\t\tfor (var j = i; j < data.length; j++) {\n\t\t\t\t\t\tvar item = this.createItem();\n\n\t\t\t\t\t\titem.render(data[j]);\n\n\t\t\t\t\t\tthis.children.push(item);\n\t\t\t\t\t\titem.index = j;\n\n\t\t\t\t\t\tfragment.appendChild(item.element);\n\n\t\t\t\t\t\tvar env = { context: this, item: item };\n\t\t\t\t\t\tMavo.hooks.run(\"collection-add-end\", env);\n\n\t\t\t\t\t\titem.dataChanged(\"add\");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.bottomUp) {\n\t\t\t\t\t\t$.after(fragment, i > 0 ? this.children[i - 1].element : this.marker);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$.before(fragment, this.marker);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfind: function find(property) {\n\t\t\tvar o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t\tvar items = this.children.filter(function (item) {\n\t\t\t\treturn !item.deleted;\n\t\t\t});\n\n\t\t\tif (this.property == property) {\n\t\t\t\treturn o.collections ? this : items;\n\t\t\t}\n\n\t\t\tif (this.properties.indexOf(property) > -1) {\n\t\t\t\tvar ret = items.map(function (item) {\n\t\t\t\t\treturn item.find(property, o);\n\t\t\t\t});\n\n\t\t\t\treturn Mavo.flatten(ret);\n\t\t\t}\n\t\t},\n\n\t\tisCompatible: function isCompatible(c) {\n\t\t\treturn c && this.itemTemplate.nodeType == c.itemTemplate.nodeType && (c === this || c.template == this || this.template == c || this.template && this.template == c.template || this.accepts.indexOf(c.property) > -1);\n\t\t},\n\n\t\tlive: {\n\t\t\tmutable: function mutable(value) {\n\t\t\t\tif (value && value !== this.mutable) {\n\t\t\t\t\t// Why is all this code here? Because we want it executed\n\t\t\t\t\t// every time mutable changes, not just in the constructor\n\t\t\t\t\t// (think multiple elements with the same property name, where only one has mv-multiple)\n\t\t\t\t\tthis._mutable = value;\n\n\t\t\t\t\t// Keep position of the template in the DOM, since we might remove it\n\t\t\t\t\tthis.marker = document.createComment(\"mv-marker\");\n\t\t\t\t\tMavo.data(this.marker, \"collection\", this);\n\t\t\t\t\t$.after(this.marker, this.templateElement);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Make sure to only call after dragula has loaded\n\t\tgetDragula: function getDragula() {\n\t\t\tvar _this5 = this;\n\n\t\t\tif (this.dragula) {\n\t\t\t\treturn this.dragula;\n\t\t\t}\n\n\t\t\tif (this.template) {\n\t\t\t\tMavo.pushUnique(this.template.getDragula().containers, this.marker.parentNode);\n\t\t\t\treturn this.dragula = this.template.dragula || this.template.getDragula();\n\t\t\t}\n\n\t\t\tvar me = this;\n\t\t\tthis.dragula = dragula({\n\t\t\t\tcontainers: [this.marker.parentNode],\n\t\t\t\tisContainer: function isContainer(el) {\n\t\t\t\t\tif (_this5.accepts.length) {\n\t\t\t\t\t\treturn Mavo.flatten(_this5.accepts.map(function (property) {\n\t\t\t\t\t\t\treturn _this5.mavo.root.find(property, { collections: true });\n\t\t\t\t\t\t})).filter(function (c) {\n\t\t\t\t\t\t\treturn c && c instanceof _;\n\t\t\t\t\t\t}).map(function (c) {\n\t\t\t\t\t\t\treturn c.marker.parentNode;\n\t\t\t\t\t\t}).indexOf(el) > -1;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tmoves: function moves(el, container, handle) {\n\t\t\t\t\treturn handle.classList.contains(\"mv-drag-handle\") && handle.closest(Mavo.selectors.multiple) == el;\n\t\t\t\t},\n\t\t\t\taccepts: function accepts(el, target, source, next) {\n\t\t\t\t\tif (el.contains(target)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar previous = next ? next.previousElementSibling : target.lastElementChild;\n\n\t\t\t\t\tvar collection = _.get(previous) || _.get(next);\n\n\t\t\t\t\tif (!collection) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar item = Mavo.Node.get(el);\n\n\t\t\t\t\treturn item && item.collection.isCompatible(collection);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.dragula.on(\"drop\", function (el, target, source) {\n\t\t\t\tvar item = Mavo.Node.get(el);\n\t\t\t\tvar oldIndex = item && item.index;\n\t\t\t\tvar next = el.nextElementSibling;\n\t\t\t\tvar previous = el.previousElementSibling;\n\t\t\t\tvar collection = _.get(previous) || _.get(next);\n\t\t\t\tvar closestItem = Mavo.Node.get(previous) || Mavo.Node.get(next);\n\n\t\t\t\tif (closestItem && closestItem.collection != collection) {\n\t\t\t\t\tclosestItem = null;\n\t\t\t\t}\n\n\t\t\t\tif (item.collection.isCompatible(collection)) {\n\t\t\t\t\tvar index = closestItem ? closestItem.index + (closestItem.element === previous) : collection.length;\n\t\t\t\t\tcollection.add(item, index);\n\t\t\t\t} else {\n\t\t\t\t\treturn _this5.dragula.cancel(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_.dragulas.push(this.dragula);\n\n\t\t\treturn this.dragula;\n\t\t},\n\n\t\tlazy: {\n\t\t\tbottomUp: function bottomUp() {\n\t\t\t\t/*\n     * Add new items at the top or bottom?\n     */\n\n\t\t\t\tif (!this.mutable) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar order = this.templateElement.getAttribute(\"mv-order\");\n\t\t\t\tif (order !== null) {\n\t\t\t\t\t// Attribute has the highest priority and overrides any heuristics\n\t\t\t\t\treturn (/^desc\\b/i.test(order)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (!this.addButton.parentNode) {\n\t\t\t\t\t// If add button not in DOM, do the default\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// If add button is already in the DOM and *before* our template, then we default to prepending\n\t\t\t\treturn !!(this.addButton.compareDocumentPosition(this.marker) & Node.DOCUMENT_POSITION_FOLLOWING);\n\t\t\t},\n\n\t\t\tclosestCollection: function closestCollection() {\n\t\t\t\tvar parent = this.marker ? this.marker.parentNode : this.templateElement.parentNode;\n\n\t\t\t\treturn parent.closest(Mavo.selectors.multiple);\n\t\t\t},\n\n\t\t\taddButton: function addButton() {\n\t\t\t\tvar _this6 = this;\n\n\t\t\t\t// Find add button if provided, or generate one\n\t\t\t\tvar selector = \"button.mv-add-\" + this.property;\n\t\t\t\tvar group = this.closestCollection || this.marker.parentNode.closest(Mavo.selectors.group);\n\n\t\t\t\tif (group) {\n\t\t\t\t\tvar button = $$(selector, group).filter(function (button) {\n\t\t\t\t\t\treturn !_this6.templateElement.contains(button);\n\t\t\t\t\t})[0];\n\t\t\t\t}\n\n\t\t\t\tif (!button) {\n\t\t\t\t\tbutton = $.create(\"button\", {\n\t\t\t\t\t\tclassName: \"mv-add\",\n\t\t\t\t\t\ttextContent: \"Add \" + this.name\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tbutton.classList.add(\"mv-ui\", \"mv-add\");\n\t\t\t\tMavo.data(button, \"collection\", this);\n\n\t\t\t\tif (this.property) {\n\t\t\t\t\tbutton.classList.add(\"mv-add-\" + this.property);\n\t\t\t\t}\n\n\t\t\t\tbutton.addEventListener(\"click\", function (evt) {\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\t_this6.editItem(_this6.add());\n\t\t\t\t});\n\n\t\t\t\treturn button;\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tdragulas: [],\n\t\t\tget: function get(element) {\n\t\t\t\t// Is it an add button or a marker?\n\t\t\t\tvar collection = Mavo.data(element, \"collection\");\n\n\t\t\t\tif (collection) {\n\t\t\t\t\treturn collection;\n\t\t\t\t}\n\n\t\t\t\t// Maybe it's a collection item?\n\t\t\t\tvar item = Mavo.Node.get(element);\n\n\t\t\t\treturn item && item.collection || null;\n\t\t\t},\n\n\t\t\tlazy: {\n\t\t\t\tdragula: function dragula() {\n\t\t\t\t\treturn $.include(self.dragula, \"https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.js\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\n(function ($, $$) {\n\n\tvar _ = Mavo.UI.Itembar = $.Class({\n\t\tconstructor: function constructor(item) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.item = item;\n\n\t\t\tthis.element = $$(\".mv-item-bar:not([mv-rel]), .mv-item-bar[mv-rel=\\\"\" + this.item.property + \"\\\"]\", this.item.element).filter(function (el) {\n\n\t\t\t\t// Remove item controls meant for other collections\n\t\t\t\treturn el.closest(Mavo.selectors.multiple) == _this.item.element && !Mavo.data(el, \"item\");\n\t\t\t})[0];\n\n\t\t\tthis.element = this.element || $.create({\n\t\t\t\tclassName: \"mv-item-bar mv-ui\"\n\t\t\t});\n\n\t\t\tMavo.data(this.element, \"item\", this.item);\n\n\t\t\t$.set(this.element, {\n\t\t\t\t\"mv-rel\": this.item.property,\n\t\t\t\tcontents: [{\n\t\t\t\t\ttag: \"button\",\n\t\t\t\t\ttitle: \"Delete this \" + this.item.name,\n\t\t\t\t\tclassName: \"mv-delete\",\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\treturn _this.item.collection.delete(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\ttag: \"button\",\n\t\t\t\t\ttitle: \"Add new \" + this.item.name.replace(/s$/i, \"\") + \" \" + (this.collection.bottomUp ? \"after\" : \"before\"),\n\t\t\t\t\tclassName: \"mv-add\",\n\t\t\t\t\tevents: {\n\t\t\t\t\t\t\"click\": function click(evt) {\n\t\t\t\t\t\t\tvar newItem = _this.collection.add(null, _this.item.index);\n\n\t\t\t\t\t\t\tif (evt[Mavo.superKey]) {\n\t\t\t\t\t\t\t\tnewItem.render(_this.item.data);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tMavo.scrollIntoViewIfNeeded(newItem.element);\n\n\t\t\t\t\t\t\treturn _this.collection.editItem(newItem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\ttag: \"button\",\n\t\t\t\t\ttitle: \"Drag to reorder \" + this.item.name,\n\t\t\t\t\tclassName: \"mv-drag-handle\",\n\t\t\t\t\tevents: {\n\t\t\t\t\t\tclick: function click(evt) {\n\t\t\t\t\t\t\treturn evt.target.focus();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tkeydown: function keydown(evt) {\n\t\t\t\t\t\t\tif (evt.keyCode >= 37 && evt.keyCode <= 40) {\n\t\t\t\t\t\t\t\t// Arrow keys\n\t\t\t\t\t\t\t\t_this.move(_this.item, evt.keyCode <= 38 ? -1 : 1);\n\n\t\t\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t\tevt.target.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\tevents: {\n\t\t\t\t\tmouseenter: function mouseenter(evt) {\n\t\t\t\t\t\t_this.item.element.classList.add(\"mv-highlight\");\n\t\t\t\t\t},\n\t\t\t\t\tmouseleave: function mouseleave(evt) {\n\t\t\t\t\t\t_this.item.element.classList.remove(\"mv-highlight\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tadd: function add() {\n\t\t\tif (!this.element.parentNode) {\n\t\t\t\tif (!Mavo.revocably.add(this.element)) {\n\t\t\t\t\tif (this.item instanceof Mavo.Primitive && !this.item.attribute) {\n\t\t\t\t\t\tthis.element.classList.add(\"mv-adjacent\");\n\t\t\t\t\t\t$.after(this.element, this.item.element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.item.element.appendChild(this.element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tremove: function remove() {\n\t\t\tMavo.revocably.remove(this.element);\n\t\t},\n\n\t\tproxy: {\n\t\t\tcollection: \"item\",\n\t\t\tmavo: \"item\"\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($) {\n\n\tMavo.attributes.push(\"mv-expressions\");\n\n\tvar _ = Mavo.Expression = $.Class({\n\t\tconstructor: function constructor(expression) {\n\t\t\tthis.expression = expression;\n\t\t},\n\n\t\teval: function _eval(data) {\n\t\t\tthis.oldValue = this.value;\n\n\t\t\tMavo.hooks.run(\"expression-eval-beforeeval\", this);\n\n\t\t\ttry {\n\t\t\t\tif (!this.function) {\n\t\t\t\t\tthis.function = _.compile(this.expression);\n\t\t\t\t\tthis.identifiers = this.expression.match(/[$a-z][$\\w]*/ig) || [];\n\t\t\t\t}\n\n\t\t\t\tthis.value = this.function(data);\n\t\t\t} catch (exception) {\n\t\t\t\tconsole.info(\"%cExpression error!\", \"color: red; font-weight: bold\", exception.message + \" in expression \" + this.expression);\n\n\t\t\t\tMavo.hooks.run(\"expression-eval-error\", { context: this, exception: exception });\n\n\t\t\t\tthis.value = exception;\n\t\t\t}\n\n\t\t\treturn this.value;\n\t\t},\n\n\t\ttoString: function toString() {\n\t\t\treturn this.expression;\n\t\t},\n\n\n\t\tchangedBy: function changedBy(evt) {\n\t\t\tif (!evt) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!this.identifiers) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.identifiers.indexOf(evt.property) > -1) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (Mavo.hasIntersection(evt.properties, this.identifiers)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (evt.action != \"propertychange\") {\n\t\t\t\tif (Mavo.hasIntersection([\"$index\", \"$all\", \"$previous\", \"$next\"], this.identifiers)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tvar collection = evt.node.collection || evt.node;\n\n\t\t\t\tif (Mavo.hasIntersection(collection.properties, this.identifiers)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\tlive: {\n\t\t\texpression: function expression(value) {\n\t\t\t\tvar code = value = value;\n\n\t\t\t\tthis.function = null;\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\t/**\n    * These serializers transform the AST into JS\n    */\n\t\t\tserializers: {\n\t\t\t\t\"BinaryExpression\": function BinaryExpression(node) {\n\t\t\t\t\treturn _.serialize(node.left) + \" \" + node.operator + \" \" + _.serialize(node.right);\n\t\t\t\t},\n\t\t\t\t\"UnaryExpression\": function UnaryExpression(node) {\n\t\t\t\t\treturn \"\" + node.operator + _.serialize(node.argument);\n\t\t\t\t},\n\t\t\t\t\"CallExpression\": function CallExpression(node) {\n\t\t\t\t\treturn _.serialize(node.callee) + \"(\" + node.arguments.map(_.serialize).join(\", \") + \")\";\n\t\t\t\t},\n\t\t\t\t\"ConditionalExpression\": function ConditionalExpression(node) {\n\t\t\t\t\treturn _.serialize(node.test) + \"? \" + _.serialize(node.consequent) + \" : \" + _.serialize(node.alternate);\n\t\t\t\t},\n\t\t\t\t\"MemberExpression\": function MemberExpression(node) {\n\t\t\t\t\treturn \"get(\" + _.serialize(node.object) + \", \\\"\" + (node.property.name || node.property.value) + \"\\\")\";\n\t\t\t\t},\n\t\t\t\t\"ArrayExpression\": function ArrayExpression(node) {\n\t\t\t\t\treturn \"[\" + node.elements.map(_.serialize).join(\", \") + \"]\";\n\t\t\t\t},\n\t\t\t\t\"Literal\": function Literal(node) {\n\t\t\t\t\treturn node.raw;\n\t\t\t\t},\n\t\t\t\t\"Identifier\": function Identifier(node) {\n\t\t\t\t\treturn node.name;\n\t\t\t\t},\n\t\t\t\t\"ThisExpression\": function ThisExpression(node) {\n\t\t\t\t\treturn \"this\";\n\t\t\t\t},\n\t\t\t\t\"Compound\": function Compound(node) {\n\t\t\t\t\treturn node.body.map(_.serialize).join(\" \");\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n    * These are run before the serializers and transform the expression to support MavoScript\n    */\n\t\t\ttransformations: {\n\t\t\t\t\"BinaryExpression\": function BinaryExpression(node) {\n\t\t\t\t\tvar name = Mavo.Script.getOperatorName(node.operator);\n\t\t\t\t\tvar details = Mavo.Script.operators[name];\n\n\t\t\t\t\t// Flatten same operator calls\n\t\t\t\t\tvar nodeLeft = node;\n\t\t\t\t\tvar args = [];\n\n\t\t\t\t\tdo {\n\t\t\t\t\t\targs.unshift(nodeLeft.right);\n\t\t\t\t\t\tnodeLeft = nodeLeft.left;\n\t\t\t\t\t} while (Mavo.Script.getOperatorName(nodeLeft.operator) === name);\n\n\t\t\t\t\targs.unshift(nodeLeft);\n\n\t\t\t\t\tif (args.length > 1) {\n\t\t\t\t\t\treturn name + \"(\" + args.map(_.serialize).join(\", \") + \")\";\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"CallExpression\": function CallExpression(node) {\n\t\t\t\t\tif (node.callee.type == \"Identifier\" && node.callee.name == \"if\") {\n\t\t\t\t\t\tnode.callee.name = \"iff\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tserialize: function serialize(node) {\n\t\t\t\tif (_.transformations[node.type]) {\n\t\t\t\t\tvar ret = _.transformations[node.type](node);\n\n\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\treturn ret;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn _.serializers[node.type](node);\n\t\t\t},\n\n\t\t\trewrite: function rewrite(code) {\n\t\t\t\ttry {\n\t\t\t\t\treturn _.serialize(_.parse(code));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t// Parsing as MavoScript failed, falling back to plain JS\n\t\t\t\t\treturn code;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcompile: function compile(code) {\n\t\t\t\tcode = _.rewrite(code);\n\n\t\t\t\treturn new Function(\"data\", \"with(Mavo.Functions._Trap)\\n\\t\\t\\t\\t\\twith (data || {}) {\\n\\t\\t\\t\\t\\t\\treturn \" + code + \";\\n\\t\\t\\t\\t\\t}\");\n\t\t\t},\n\n\t\t\tparse: self.jsep\n\t\t}\n\t});\n\n\tif (self.jsep) {\n\t\tjsep.addBinaryOp(\"and\", 2);\n\t\tjsep.addBinaryOp(\"or\", 2);\n\t\tjsep.addBinaryOp(\"=\", 6);\n\t\tjsep.addBinaryOp(\"mod\", 10);\n\t\tjsep.removeBinaryOp(\"===\");\n\t}\n\n\t_.serializers.LogicalExpression = _.serializers.BinaryExpression;\n\t_.transformations.LogicalExpression = _.transformations.BinaryExpression;\n\n\t_.Syntax = $.Class({\n\t\tconstructor: function constructor(start, end) {\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t\tthis.regex = RegExp(Mavo.escapeRegExp(start) + \"([\\\\S\\\\s]+?)\" + Mavo.escapeRegExp(end), \"gi\");\n\t\t},\n\n\t\ttest: function test(str) {\n\t\t\tthis.regex.lastIndex = 0;\n\n\t\t\treturn this.regex.test(str);\n\t\t},\n\n\t\ttokenize: function tokenize(str) {\n\t\t\tvar match,\n\t\t\t    ret = [],\n\t\t\t    lastIndex = 0;\n\n\t\t\tthis.regex.lastIndex = 0;\n\n\t\t\twhile ((match = this.regex.exec(str)) !== null) {\n\t\t\t\t// Literal before the expression\n\t\t\t\tif (match.index > lastIndex) {\n\t\t\t\t\tret.push(str.substring(lastIndex, match.index));\n\t\t\t\t}\n\n\t\t\t\tlastIndex = this.regex.lastIndex;\n\n\t\t\t\tret.push(new Mavo.Expression(match[1]));\n\t\t\t}\n\n\t\t\t// Literal at the end\n\t\t\tif (lastIndex < str.length) {\n\t\t\t\tret.push(str.substring(lastIndex));\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t},\n\n\t\tstatic: {\n\t\t\tcreate: function create(element) {\n\t\t\t\tif (element) {\n\t\t\t\t\tvar syntax = element.getAttribute(\"mv-expressions\");\n\n\t\t\t\t\tif (syntax) {\n\t\t\t\t\t\tsyntax = syntax.trim();\n\t\t\t\t\t\treturn (/\\s/.test(syntax) ? new (Function.prototype.bind.apply(_.Syntax, [null].concat(_toConsumableArray(syntax.split(/\\s+/)))))() : _.Syntax.ESCAPE\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tESCAPE: -1\n\t\t}\n\t});\n\n\t_.Syntax.default = new _.Syntax(\"[\", \"]\");\n})(Bliss);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($) {\n\n\tvar _ = Mavo.DOMExpression = $.Class({\n\t\tconstructor: function constructor() {\n\t\t\tvar _this = this;\n\n\t\t\tvar o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\t\t\tthis.mavo = o.mavo;\n\t\t\tthis.template = o.template && o.template.template || o.template;\n\n\t\t\tvar _arr = [\"item\", \"path\", \"syntax\", \"fallback\", \"attribute\"];\n\t\t\tfor (var _i = 0; _i < _arr.length; _i++) {\n\t\t\t\tvar prop = _arr[_i];\n\t\t\t\tthis[prop] = o[prop] === undefined && this.template ? this.template[prop] : o[prop];\n\t\t\t}\n\n\t\t\tthis.node = o.node;\n\n\t\t\tif (!this.node) {\n\t\t\t\t// No node provided, figure it out from path\n\t\t\t\tthis.node = this.path.reduce(function (node, index) {\n\t\t\t\t\treturn node.childNodes[index];\n\t\t\t\t}, this.item.element);\n\t\t\t}\n\n\t\t\tthis.element = this.node;\n\t\t\tthis.attribute = this.attribute || null;\n\n\t\t\tMavo.hooks.run(\"domexpression-init-start\", this);\n\n\t\t\tif (!this.expression) {\n\t\t\t\t// Still unhandled?\n\t\t\t\tif (this.node.nodeType === 3) {\n\t\t\t\t\tthis.element = this.node.parentNode;\n\n\t\t\t\t\t// If no element siblings make this.node the element, which is more robust\n\t\t\t\t\t// Same if attribute, there are no attributes on a text node!\n\t\t\t\t\tif (!this.node.parentNode.children.length || this.attribute) {\n\t\t\t\t\t\tthis.node = this.element;\n\t\t\t\t\t\tthis.element.normalize();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.attribute) {\n\t\t\t\t\tthis.expression = this.node.getAttribute(this.attribute).trim();\n\t\t\t\t} else {\n\t\t\t\t\t// Move whitespace outside to prevent it from messing with types\n\t\t\t\t\tthis.node.normalize();\n\n\t\t\t\t\tif (this.node.firstChild && this.node.childNodes.length === 1 && this.node.firstChild.nodeType === 3) {\n\t\t\t\t\t\tvar whitespace = this.node.firstChild.textContent.match(/^\\s*|\\s*$/g);\n\n\t\t\t\t\t\tif (whitespace[1]) {\n\t\t\t\t\t\t\tthis.node.firstChild.splitText(this.node.firstChild.textContent.length - whitespace[1].length);\n\t\t\t\t\t\t\t$.after(this.node.lastChild, this.node);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (whitespace[0]) {\n\t\t\t\t\t\t\tthis.node.firstChild.splitText(whitespace[0].length);\n\t\t\t\t\t\t\tthis.node.parentNode.insertBefore(this.node.firstChild, this.node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.expression = this.node.textContent;\n\t\t\t\t}\n\n\t\t\t\tthis.parsed = o.template ? o.template.parsed : this.syntax.tokenize(this.expression);\n\t\t\t}\n\n\t\t\tthis.oldValue = this.value = this.parsed.map(function (x) {\n\t\t\t\treturn x instanceof Mavo.Expression ? x.expression : x;\n\t\t\t});\n\n\t\t\tthis.mavo.treeBuilt.then(function () {\n\t\t\t\tif (!_this.template) {\n\t\t\t\t\t_this.item = Mavo.Node.get(_this.element.closest(Mavo.selectors.multiple + \", \" + Mavo.selectors.group));\n\t\t\t\t\t_this.item.expressions = [].concat(_toConsumableArray(_this.item.expressions || []), [_this]);\n\t\t\t\t}\n\n\t\t\t\tMavo.hooks.run(\"domexpression-init-treebuilt\", _this);\n\t\t\t});\n\n\t\t\tMavo.hooks.run(\"domexpression-init-end\", this);\n\n\t\t\t_.elements.set(this.element, [].concat(_toConsumableArray(_.elements.get(this.element) || []), [this]));\n\t\t},\n\n\t\tchangedBy: function changedBy(evt) {\n\t\t\treturn !this.parsed.every(function (expr) {\n\t\t\t\treturn !(expr instanceof Mavo.Expression) || !expr.changedBy(evt);\n\t\t\t});\n\t\t},\n\n\t\tupdate: function update() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.data;\n\t\t\tvar event = arguments[1];\n\n\t\t\tvar env = { context: this, ret: {}, event: event };\n\t\t\tvar parentEnv = env;\n\n\t\t\tthis.data = data;\n\n\t\t\tenv.ret = {};\n\n\t\t\tMavo.hooks.run(\"domexpression-update-start\", env);\n\n\t\t\tthis.oldValue = this.value;\n\n\t\t\tenv.ret.value = this.value = this.parsed.map(function (expr, i) {\n\t\t\t\tif (expr instanceof Mavo.Expression) {\n\t\t\t\t\tif (expr.changedBy(parentEnv.event)) {\n\t\t\t\t\t\tvar env = { context: _this2, expr: expr, parentEnv: parentEnv };\n\n\t\t\t\t\t\tMavo.hooks.run(\"domexpression-update-beforeeval\", env);\n\n\t\t\t\t\t\tenv.value = env.expr.eval(data);\n\n\t\t\t\t\t\tMavo.hooks.run(\"domexpression-update-aftereval\", env);\n\n\t\t\t\t\t\tif (env.value instanceof Error) {\n\t\t\t\t\t\t\treturn _this2.fallback !== undefined ? _this2.fallback : env.expr.expression;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (env.value === undefined || env.value === null) {\n\t\t\t\t\t\t\t// Don’t print things like \"undefined\" or \"null\"\n\t\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn env.value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn _this2.oldValue[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn expr;\n\t\t\t});\n\n\t\t\tif (!this.attribute) {\n\t\t\t\t// Separate presentational & actual values only apply when content is variable\n\t\t\t\tenv.ret.presentational = this.value.map(function (value) {\n\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\treturn value.join(\", \");\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof value == \"number\") {\n\t\t\t\t\t\treturn Mavo.Primitive.formatNumber(value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t});\n\n\t\t\t\tenv.ret.presentational = env.ret.presentational.length === 1 ? env.ret.presentational[0] : env.ret.presentational.join(\"\");\n\t\t\t}\n\n\t\t\tenv.ret.value = env.ret.value.length === 1 ? env.ret.value[0] : env.ret.value.join(\"\");\n\n\t\t\tif (this.primitive && this.parsed.length === 1) {\n\t\t\t\tif (typeof env.ret.value === \"number\") {\n\t\t\t\t\tthis.primitive.datatype = \"number\";\n\t\t\t\t} else if (typeof env.ret.value === \"boolean\") {\n\t\t\t\t\tthis.primitive.datatype = \"boolean\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (env.ret.presentational === env.ret.value) {\n\t\t\t\tret = env.ret.value;\n\t\t\t}\n\n\t\t\tthis.output(env.ret);\n\n\t\t\tMavo.hooks.run(\"domexpression-update-end\", env);\n\t\t},\n\n\t\toutput: function output(value) {\n\t\t\tif (this.primitive) {\n\t\t\t\tthis.primitive.value = value;\n\t\t\t} else {\n\t\t\t\tvalue = value.presentational || value;\n\t\t\t\tMavo.Primitive.setValue(this.node, value, { attribute: this.attribute });\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\telements: new WeakMap(),\n\n\t\t\t/**\n    * Search for Mavo.DOMExpression object(s) associated with a given element\n    * and optionally an attribute.\n    *\n    * @return If one argument, array of matching DOMExpression objects.\n    *         If two arguments, the matching DOMExpression object or null\n    */\n\t\t\tsearch: function search(element, attribute) {\n\t\t\t\tvar all = _.elements.get(element) || [];\n\n\t\t\t\tif (arguments.length > 1) {\n\t\t\t\t\tif (!all.length) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn all.filter(function (et) {\n\t\t\t\t\t\treturn et.attribute === attribute;\n\t\t\t\t\t})[0] || null;\n\t\t\t\t}\n\n\t\t\t\treturn all;\n\t\t\t}\n\t\t}\n\t});\n})(Bliss);\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n(function ($, $$) {\n\n\tvar _ = Mavo.Expressions = $.Class({\n\t\tconstructor: function constructor(mavo) {\n\t\t\tvar _this = this;\n\n\t\t\tthis.mavo = mavo;\n\t\t\tthis.active = true;\n\n\t\t\tthis.expressions = [];\n\n\t\t\tvar syntax = Mavo.Expression.Syntax.create(this.mavo.element.closest(\"[mv-expressions]\")) || Mavo.Expression.Syntax.default;\n\t\t\tthis.traverse(this.mavo.element, undefined, syntax);\n\n\t\t\tthis.scheduled = new Set();\n\n\t\t\tthis.mavo.treeBuilt.then(function () {\n\t\t\t\t_this.expressions = [];\n\n\t\t\t\t// Watch changes and update value\n\t\t\t\tdocument.documentElement.addEventListener(\"mavo:datachange\", function (evt) {\n\t\t\t\t\tif (!_this.active) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (evt.action == \"propertychange\" && evt.node.closestCollection) {\n\t\t\t\t\t\t// Throttle propertychange events in collections and events from other Mavos\n\t\t\t\t\t\tif (!_this.scheduled.has(evt.property)) {\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\t_this.scheduled.delete(evt.property);\n\t\t\t\t\t\t\t\t_this.update(evt);\n\t\t\t\t\t\t\t}, _.PROPERTYCHANGE_THROTTLE);\n\n\t\t\t\t\t\t\t_this.scheduled.add(evt.property);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\treturn _this.update(evt);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t_this.update();\n\t\t\t});\n\t\t},\n\n\t\tupdate: function update(evt) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar root, rootGroup;\n\n\t\t\tif (evt instanceof Element) {\n\t\t\t\troot = evt.closest(Mavo.selectors.group);\n\t\t\t\tevt = null;\n\t\t\t}\n\n\t\t\troot = root || this.mavo.element;\n\t\t\trootGroup = Mavo.Node.get(root);\n\n\t\t\tvar data = rootGroup.getData({ live: true });\n\n\t\t\trootGroup.walk(function (obj, path) {\n\t\t\t\tif (obj.expressions && obj.expressions.length && !obj.isDeleted()) {\n\t\t\t\t\tvar env = { context: _this2, data: $.value.apply($, [data].concat(_toConsumableArray(path))) };\n\n\t\t\t\t\tMavo.hooks.run(\"expressions-update-start\", env);\n\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfor (var _iterator = obj.expressions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\tvar et = _step.value;\n\n\t\t\t\t\t\t\tif (et.changedBy(evt)) {\n\t\t\t\t\t\t\t\tet.update(env.data, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t} finally {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\textract: function extract(node, attribute, path, syntax) {\n\t\t\tif (attribute && attribute.name == \"mv-expressions\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (attribute && _.directives.indexOf(attribute.name) > -1 || syntax.test(attribute ? attribute.value : node.textContent)) {\n\t\t\t\tthis.expressions.push(new Mavo.DOMExpression({\n\t\t\t\t\tnode: node, syntax: syntax,\n\t\t\t\t\tpath: path ? path.slice(1).split(\"/\").map(function (i) {\n\t\t\t\t\t\treturn +i;\n\t\t\t\t\t}) : [],\n\t\t\t\t\tattribute: attribute && attribute.name,\n\t\t\t\t\tmavo: this.mavo\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\n\t\t// Traverse an element, including attribute nodes, text nodes and all descendants\n\t\ttraverse: function traverse(node) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\t\t\tvar syntax = arguments[2];\n\n\t\t\tif (node.nodeType === 8) {\n\t\t\t\t// We don't want expressions to be picked up from comments!\n\t\t\t\t// Commenting stuff out is a common debugging technique\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (node.nodeType === 3) {\n\t\t\t\t// Text node\n\t\t\t\t// Leaf node, extract references from content\n\t\t\t\tthis.extract(node, null, path, syntax);\n\t\t\t} else {\n\t\t\t\tnode.normalize();\n\n\t\t\t\tsyntax = Mavo.Expression.Syntax.create(node) || syntax;\n\n\t\t\t\tif (syntax === Mavo.Expression.Syntax.ESCAPE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (Mavo.is(\"multiple\", node)) {\n\t\t\t\t\tpath = \"\";\n\t\t\t\t}\n\n\t\t\t\t$$(node.attributes).forEach(function (attribute) {\n\t\t\t\t\treturn _this3.extract(node, attribute, path, syntax);\n\t\t\t\t});\n\t\t\t\t$$(node.childNodes).forEach(function (child, i) {\n\t\t\t\t\treturn _this3.traverse(child, path + \"/\" + i, syntax);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tstatic: {\n\t\t\tdirectives: [],\n\n\t\t\tPROPERTYCHANGE_THROTTLE: 50,\n\n\t\t\tdirective: function directive(name, o) {\n\t\t\t\t_.directives.push(name);\n\t\t\t\tMavo.attributes.push(name);\n\t\t\t\to.name = name;\n\t\t\t\tMavo.Plugins.register(o);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (self.Proxy) {\n\t\tMavo.hooks.add(\"node-getdata-end\", function (env) {\n\t\t\tvar _this4 = this;\n\n\t\t\tif (env.options.live && env.data && (_typeof(env.data) === \"object\" || this.collection)) {\n\t\t\t\tvar data = env.data;\n\n\t\t\t\tif (_typeof(env.data) !== \"object\") {\n\t\t\t\t\tvar _env$data;\n\n\t\t\t\t\tenv.data = (_env$data = {}, _defineProperty(_env$data, Symbol.toPrimitive, function () {\n\t\t\t\t\t\treturn data;\n\t\t\t\t\t}), _defineProperty(_env$data, this.property, data), _env$data);\n\t\t\t\t}\n\n\t\t\t\tenv.data = new Proxy(env.data, {\n\t\t\t\t\tget: function get(data, property, proxy) {\n\t\t\t\t\t\t// Checking if property is in proxy might add it to the data\n\t\t\t\t\t\tif (property in data || property in proxy && property in data) {\n\t\t\t\t\t\t\treturn data[property];\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\thas: function has(data, property) {\n\t\t\t\t\t\tif (property in data) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Property does not exist, look for it elsewhere\n\n\t\t\t\t\t\tswitch (property) {\n\t\t\t\t\t\t\tcase \"$index\":\n\t\t\t\t\t\t\t\tdata[property] = _this4.index || 0;\n\t\t\t\t\t\t\t\treturn true; // if index is 0 it's falsy and has would return false!\n\t\t\t\t\t\t\tcase \"$all\":\n\t\t\t\t\t\t\t\treturn data[property] = _this4.closestCollection ? _this4.closestCollection.getData(env.options) : [env.data];\n\t\t\t\t\t\t\tcase \"$next\":\n\t\t\t\t\t\t\tcase \"$previous\":\n\t\t\t\t\t\t\t\tif (_this4.closestCollection) {\n\t\t\t\t\t\t\t\t\treturn data[property] = _this4.closestCollection.getData(env.options)[_this4.index + (property == \"$next\" ? 1 : -1)];\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tdata[property] = null;\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\tcase \"$edit\":\n\t\t\t\t\t\t\t\tdata[property] = _this4.editing;\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (_this4 instanceof Mavo.Group && property == _this4.property && _this4.collection) {\n\t\t\t\t\t\t\treturn data[property] = env.data;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// First look in ancestors\n\t\t\t\t\t\tvar ret = _this4.walkUp(function (group) {\n\t\t\t\t\t\t\tif (property in group.children) {\n\t\t\t\t\t\t\t\treturn group.children[property];\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (ret === undefined) {\n\t\t\t\t\t\t\t// Still not found, look in descendants\n\t\t\t\t\t\t\tret = _this4.find(property);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (ret !== undefined) {\n\t\t\t\t\t\t\tif (Array.isArray(ret)) {\n\t\t\t\t\t\t\t\tret = ret.map(function (item) {\n\t\t\t\t\t\t\t\t\treturn item.getData(env.options);\n\t\t\t\t\t\t\t\t}).filter(function (item) {\n\t\t\t\t\t\t\t\t\treturn item !== null;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (ret instanceof Mavo.Node) {\n\t\t\t\t\t\t\t\tret = ret.getData(env.options);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdata[property] = ret;\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Does it reference another Mavo?\n\t\t\t\t\t\tif (property in Mavo.all && Mavo.all[property].root) {\n\t\t\t\t\t\t\treturn data[property] = Mavo.all[property].root.getData(env.options);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\n\t\t\t\t\tset: function set(data, property, value) {\n\t\t\t\t\t\tthrow Error(\"You can’t set data via expressions.\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n})(Bliss, Bliss.$);\n\"use strict\";\n\n// mv-if plugin\n(function ($, $$) {\n\n\tMavo.Expressions.directive(\"mv-if\", {\n\t\textend: {\n\t\t\t\"Primitive\": {\n\t\t\t\tlive: {\n\t\t\t\t\t\"hidden\": function hidden(value) {\n\t\t\t\t\t\tif (this._hidden !== value) {\n\t\t\t\t\t\t\tthis._hidden = value;\n\t\t\t\t\t\t\tthis.dataChanged();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"DOMExpression\": {\n\t\t\t\tlazy: {\n\t\t\t\t\t\"childProperties\": function childProperties() {\n\t\t\t\t\t\tvar _this = this;\n\n\t\t\t\t\t\tif (this.attribute != \"mv-if\") {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar properties = $$(Mavo.selectors.property, this.element).filter(function (el) {\n\t\t\t\t\t\t\treturn el.closest(\"[mv-if]\") == _this.element;\n\t\t\t\t\t\t}).map(function (el) {\n\t\t\t\t\t\t\treturn Mavo.Node.get(el);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// When the element is detached, datachange events from properties\n\t\t\t\t\t\t// do not propagate up to the group so expressions do not recalculate.\n\t\t\t\t\t\t// We must do this manually.\n\t\t\t\t\t\tthis.element.addEventListener(\"mavo:datachange\", function (evt) {\n\t\t\t\t\t\t\t// Cannot redispatch synchronously [why??]\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tif (!_this.element.parentNode) {\n\t\t\t\t\t\t\t\t\t// out of the DOM?\n\t\t\t\t\t\t\t\t\t_this.item.element.dispatchEvent(evt);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn properties;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thooks: {\n\t\t\t\"domexpression-init-start\": function domexpressionInitStart() {\n\t\t\t\tif (this.attribute != \"mv-if\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.expression = this.element.getAttribute(\"mv-if\");\n\t\t\t\tthis.parsed = [new Mavo.Expression(this.expression)];\n\t\t\t\tthis.expression = this.syntax.start + this.expression + this.syntax.end;\n\n\t\t\t\tthis.parentIf = this.element.parentNode && Mavo.DOMExpression.search(this.element.parentNode.closest(\"[mv-if]\"), \"mv-if\");\n\n\t\t\t\tif (this.parentIf) {\n\t\t\t\t\tthis.parentIf.childIfs = (this.parentIf.childIfs || new Set()).add(this);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"domexpression-update-end\": function domexpressionUpdateEnd() {\n\t\t\t\tvar _this2 = this;\n\n\t\t\t\tif (this.attribute != \"mv-if\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar value = this.value[0];\n\t\t\t\tvar oldValue = this.oldValue[0];\n\n\t\t\t\t// Only apply this after the tree is built, otherwise any properties inside the if will go missing!\n\t\t\t\tthis.item.mavo.treeBuilt.then(function () {\n\t\t\t\t\tif (_this2.parentIf) {\n\t\t\t\t\t\tvar parentValue = _this2.parentIf.value[0];\n\t\t\t\t\t\t_this2.value[0] = value = value && parentValue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (value === oldValue) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (parentValue !== false) {\n\t\t\t\t\t\t// If parent if was false, it wouldn't matter whether this is in the DOM or not\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t// Is removed from the DOM and needs to get back\n\t\t\t\t\t\t\tMavo.revocably.add(_this2.element);\n\t\t\t\t\t\t} else if (_this2.element.parentNode) {\n\t\t\t\t\t\t\t// Is in the DOM and needs to be removed\n\t\t\t\t\t\t\tMavo.revocably.remove(_this2.element, \"mv-if\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Mark any properties inside as hidden or not\n\t\t\t\t\tif (_this2.childProperties) {\n\t\t\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\t\t\tvar _didIteratorError = false;\n\t\t\t\t\t\tvar _iteratorError = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator = _this2.childProperties[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\t\t\tvar property = _step.value;\n\n\t\t\t\t\t\t\t\tproperty.hidden = !value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t\t\t_iteratorError = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_this2.childIfs) {\n\t\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator2 = _this2.childIfs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\t\tvar childIf = _step2.value;\n\n\t\t\t\t\t\t\t\tchildIf.update();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\"unit-isdatanull\": function unitIsdatanull(env) {\n\t\t\t\tenv.result = env.result || this.hidden && env.options.live;\n\t\t\t}\n\t\t}\n\t});\n})(Bliss, Bliss.$);\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// mv-value plugin\nMavo.Expressions.directive(\"mv-value\", {\n\thooks: {\n\t\t\"node-init-start\": function nodeInitStart() {\n\t\t\tif (!(this instanceof Mavo.Group || this.collection)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar et = Mavo.DOMExpression.search(this.element).filter(function (et) {\n\t\t\t\treturn et.originalAttribute == \"mv-value\";\n\t\t\t})[0];\n\n\t\t\tif (!et) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tet.mavoNode = this;\n\t\t\tthis.expressionText = et;\n\t\t\tthis.storage = this.storage || \"none\";\n\t\t\tthis.modes = \"read\";\n\n\t\t\tif (this.collection) {\n\t\t\t\tthis.collection.expressions = [].concat(_toConsumableArray(this.collection.expressions || []), [et]);\n\t\t\t\tet.mavoNode = this.collection;\n\t\t\t\tthis.collection.storage = this.collection.storage || \"none\";\n\t\t\t\tthis.collection.modes = \"read\";\n\t\t\t}\n\t\t},\n\t\t\"domexpression-init-start\": function domexpressionInitStart() {\n\t\t\tif (this.attribute != \"mv-value\") {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.originalAttribute = \"mv-value\";\n\t\t\tthis.attribute = Mavo.Primitive.getValueAttribute(this.element);\n\t\t\tthis.fallback = this.fallback || Mavo.Primitive.getValue(this.element, { attribute: this.attribute });\n\t\t\tthis.expression = this.element.getAttribute(\"mv-value\");\n\t\t\tthis.element.removeAttribute(\"mv-value\");\n\n\t\t\tthis.parsed = [new Mavo.Expression(this.expression)];\n\t\t\tthis.expression = this.syntax.start + this.expression + this.syntax.end;\n\t\t},\n\t\t\"domexpression-init-treebuilt\": function domexpressionInitTreebuilt() {\n\t\t\tif (this.originalAttribute != \"mv-value\" || !this.mavoNode || !(this.mavoNode == this.item || this.mavoNode == this.item.collection)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.mavoNode == this.item.collection) {\n\t\t\t\tMavo.delete(this.item.expressions, this);\n\t\t\t}\n\n\t\t\tthis.output = function (value) {\n\t\t\t\tvalue = value.value || value;\n\n\t\t\t\tthis.mavoNode.render(value);\n\t\t\t};\n\n\t\t\tthis.changedBy = function (evt) {\n\t\t\t\treturn true;\n\t\t\t};\n\t\t},\n\t\t\"domexpression-update-start\": function domexpressionUpdateStart() {\n\t\t\tif (this.originalAttribute != \"mv-value\" || this.mavoNode != this.item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n});\n\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * Functions available inside Mavo expressions\n */\n\n(function () {\n\n\tvar _ = Mavo.Functions = {\n\t\toperators: {\n\t\t\t\"=\": \"eq\"\n\t\t},\n\n\t\t/**\n   * Get a property of an object. Used by the . operator to prevent TypeErrors\n   */\n\t\tget: function get(obj, property) {\n\t\t\tif (obj && obj[property] !== undefined) {\n\t\t\t\treturn obj[property];\n\t\t\t}\n\n\t\t\tif (Array.isArray(obj) && isNaN(property) && _typeof(obj[0]) === \"object\") {\n\t\t\t\t// Array and non-numerical property, try by id\n\t\t\t\tfor (var i = 0; i < obj.length; i++) {\n\t\t\t\t\tif (obj[i] && obj[i].id == property) {\n\t\t\t\t\t\treturn obj[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Not found :(\n\t\t\treturn null;\n\t\t},\n\n\t\tunique: function unique(arr) {\n\t\t\treturn [].concat(_toConsumableArray(new Set(arr)));\n\t\t},\n\n\t\t/*********************\n   * Number functions\n   *********************/\n\n\t\t/**\n   * Aggregate sum\n   */\n\t\tsum: function sum(array) {\n\t\t\treturn numbers(array, arguments).reduce(function (prev, current) {\n\t\t\t\treturn +prev + (+current || 0);\n\t\t\t}, 0);\n\t\t},\n\n\t\t/**\n   * Average of an array of numbers\n   */\n\t\taverage: function average(array) {\n\t\t\tarray = numbers(array, arguments);\n\n\t\t\treturn array.length && _.sum(array) / array.length;\n\t\t},\n\n\t\t/**\n   * Min of an array of numbers\n   */\n\t\tmin: function min(array) {\n\t\t\treturn Math.min.apply(Math, _toConsumableArray(numbers(array, arguments)));\n\t\t},\n\n\t\t/**\n   * Max of an array of numbers\n   */\n\t\tmax: function max(array) {\n\t\t\treturn Math.max.apply(Math, _toConsumableArray(numbers(array, arguments)));\n\t\t},\n\n\t\tcount: function count(array) {\n\t\t\treturn Mavo.toArray(array).filter(function (a) {\n\t\t\t\treturn a !== null && a !== false && a !== \"\";\n\t\t\t}).length;\n\t\t},\n\n\t\tround: function round(num, decimals) {\n\t\t\tif (!num || !decimals || !isFinite(num)) {\n\t\t\t\treturn Math.round(num);\n\t\t\t}\n\n\t\t\treturn +num.toLocaleString(\"en-US\", {\n\t\t\t\tuseGrouping: false,\n\t\t\t\tmaximumFractionDigits: decimals\n\t\t\t});\n\t\t},\n\n\t\tiff: function iff(condition, iftrue) {\n\t\t\tvar iffalse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n\n\t\t\tif (Array.isArray(condition)) {\n\t\t\t\treturn condition.map(function (c, i) {\n\t\t\t\t\tvar ret = c ? iftrue : iffalse;\n\n\t\t\t\t\tif (Array.isArray(ret)) {\n\t\t\t\t\t\treturn ret[Math.min(i, ret.length - 1)];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn ret;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn condition ? iftrue : iffalse;\n\t\t},\n\n\t\t/*********************\n   * String functions\n   *********************/\n\n\t\t/**\n   * Replace all occurences of a string with another string\n   */\n\t\treplace: function replace(haystack, needle) {\n\t\t\tvar replacement = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n\t\t\tvar iterations = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n\n\t\t\tif (Array.isArray(haystack)) {\n\t\t\t\treturn haystack.map(function (item) {\n\t\t\t\t\treturn _.replace(item, needle, replacement);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Simple string replacement\n\t\t\tvar needleRegex = RegExp(Mavo.escapeRegExp(needle), \"g\");\n\t\t\tvar ret = haystack,\n\t\t\t    prev;\n\t\t\tvar counter = 0;\n\n\t\t\twhile (ret != prev && counter++ < iterations) {\n\t\t\t\tprev = ret;\n\t\t\t\tret = ret.replace(needleRegex, replacement);\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t},\n\n\t\tlen: function len(str) {\n\t\t\treturn (str || \"\").length;\n\t\t},\n\t\t/**\n   * Case insensitive search\n   */\n\t\tsearch: function search(haystack, needle) {\n\t\t\treturn haystack && needle ? (haystack + \"\").toLowerCase().indexOf((needle + \"\").toLowerCase()) : -1;\n\t\t},\n\n\t\tstarts: function starts(haystack, needle) {\n\t\t\treturn _.search(haystack + \"\", needle + \"\") === 0;\n\t\t},\n\t\tends: function ends(haystack, needle) {\n\t\t\thaystack += \"\";\n\t\t\tneedle += \"\";\n\t\t\tvar i = _.search(haystack, needle);\n\t\t\treturn i > -1 && i === haystack.length - needle.length;\n\t\t},\n\n\t\tjoin: function join(array) {\n\t\t\tvar glue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n\n\t\t\treturn Mavo.toArray(array).join(glue);\n\t\t},\n\n\t\tidify: function idify(readable) {\n\t\t\treturn ((readable || \"\") + \"\").replace(/\\s+/g, \"-\") // Convert whitespace to hyphens\n\t\t\t.replace(/[^\\w-]/g, \"\") // Remove weird characters\n\t\t\t.toLowerCase();\n\t\t},\n\n\t\t// Convert an identifier to readable text that can be used as a label\n\t\treadable: function readable(identifier) {\n\t\t\t// Is it camelCase?\n\t\t\treturn identifier && identifier.replace(/([a-z])([A-Z])(?=[a-z])/g, function ($0, $1, $2) {\n\t\t\t\treturn $1 + \" \" + $2.toLowerCase();\n\t\t\t}) // camelCase?\n\t\t\t.replace(/([a-z])[_\\/-](?=[a-z])/g, \"$1 \") // Hyphen-separated / Underscore_separated?\n\t\t\t.replace(/^[a-z]/, function ($0) {\n\t\t\t\treturn $0.toUpperCase();\n\t\t\t}); // Capitalize\n\t\t},\n\n\t\tuppercase: function uppercase(str) {\n\t\t\treturn (str + \"\").toUpperCase();\n\t\t},\n\t\tlowercase: function lowercase(str) {\n\t\t\treturn (str + \"\").toLowerCase();\n\t\t},\n\n\t\t/*********************\n   * Date functions\n   *********************/\n\n\t\tget $now() {\n\t\t\treturn new Date();\n\t\t},\n\n\t\tyear: getDateComponent(\"year\"),\n\t\tmonth: getDateComponent(\"month\"),\n\t\tday: getDateComponent(\"day\"),\n\t\tweekday: getDateComponent(\"weekday\"),\n\t\thour: getDateComponent(\"hour\"),\n\t\thour12: getDateComponent(\"hour\", \"numeric\", { hour12: true }),\n\t\tminute: getDateComponent(\"minute\"),\n\t\tsecond: getDateComponent(\"second\"),\n\n\t\tdate: function date(_date) {\n\t\t\treturn _.year(_date) + \"-\" + _.month(_date).twodigit + \"-\" + _.day(_date).twodigit;\n\t\t},\n\t\ttime: function time(date) {\n\t\t\treturn _.hour(date).twodigit + \":\" + _.minute(date).twodigit + \":\" + _.second(date).twodigit;\n\t\t},\n\n\t\tminutes: function minutes(seconds) {\n\t\t\treturn Math.floor(Math.abs(seconds) / 60);\n\t\t},\n\t\thours: function hours(seconds) {\n\t\t\treturn Math.floor(Math.abs(seconds) / 3600);\n\t\t},\n\t\tdays: function days(seconds) {\n\t\t\treturn Math.floor(Math.abs(seconds) / 86400);\n\t\t},\n\t\tweeks: function weeks(seconds) {\n\t\t\treturn Math.floor(Math.abs(seconds) / 604800);\n\t\t},\n\t\tmonths: function months(seconds) {\n\t\t\treturn Math.floor(Math.abs(seconds) / (30.4368 * 86400));\n\t\t},\n\t\tyears: function years(seconds) {\n\t\t\treturn Math.floor(Math.abs(seconds) / (30.4368 * 86400 * 12));\n\t\t},\n\n\t\tlocalTimezone: -new Date().getTimezoneOffset(),\n\n\t\t// Log to the console and return\n\t\tlog: function log() {\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\targs[_key] = arguments[_key];\n\t\t\t}\n\n\t\t\tconsole.log(args);\n\t\t\treturn args[0];\n\t\t}\n\t};\n\n\t// $url: Read-only syntactic sugar for URL stuff\n\t$.lazy(Mavo.Functions, \"$url\", function () {\n\t\tvar ret = {};\n\t\tvar url = new URL(location);\n\n\t\tvar _iteratorNormalCompletion = true;\n\t\tvar _didIteratorError = false;\n\t\tvar _iteratorError = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator = url.searchParams[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\tvar pair = _step.value;\n\n\t\t\t\tret[pair[0]] = pair[1];\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError = true;\n\t\t\t_iteratorError = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t_iterator.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tObject.defineProperty(ret, \"toString\", {\n\t\t\tvalue: function value() {\n\t\t\t\treturn new URL(location);\n\t\t\t}\n\t\t});\n\n\t\treturn ret;\n\t});\n\n\tMavo.Script = {\n\t\taddUnaryOperator: function addUnaryOperator(name, o) {\n\t\t\treturn function (operand) {\n\t\t\t\treturn Array.isArray(operand) ? operand.map(o.scalar) : o.scalar(operand);\n\t\t\t};\n\t\t},\n\n\t\t/**\n   * Extend a scalar operator to arrays, or arrays and scalars\n   * The operation between arrays is applied element-wise.\n   * The operation operation between a scalar and an array will result in\n   * the operation being applied between the scalar and every array element.\n   */\n\t\taddBinaryOperator: function addBinaryOperator(name, o) {\n\t\t\tif (o.symbol) {\n\t\t\t\t// Build map of symbols to function names for easy rewriting\n\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\tvar _iteratorError2 = undefined;\n\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator2 = Mavo.toArray(o.symbol)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\tvar symbol = _step2.value;\n\n\t\t\t\t\t\tMavo.Script.symbols[symbol] = name;\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\to.identity = o.identity === undefined ? 0 : o.identity;\n\n\t\t\treturn _[name] = o.code || function () {\n\t\t\t\tfor (var _len2 = arguments.length, operands = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t\t\t\t\toperands[_key2] = arguments[_key2];\n\t\t\t\t}\n\n\t\t\t\tif (operands.length === 1) {\n\t\t\t\t\tif (Array.isArray(operands[0])) {\n\t\t\t\t\t\t// Operand is an array of operands, expand it out\n\t\t\t\t\t\toperands = [].concat(_toConsumableArray(operands[0]));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar prev = o.logical ? o.identity : operands[0],\n\t\t\t\t    result;\n\n\t\t\t\tvar _loop = function _loop(i) {\n\t\t\t\t\tvar a = o.logical ? operands[i - 1] : prev;\n\t\t\t\t\tvar b = operands[i];\n\n\t\t\t\t\tif (Array.isArray(b)) {\n\t\t\t\t\t\tif (typeof o.identity == \"number\") {\n\t\t\t\t\t\t\tb = numbers(b);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Array.isArray(a)) {\n\t\t\t\t\t\t\tresult = [].concat(_toConsumableArray(b.map(function (n, i) {\n\t\t\t\t\t\t\t\treturn o.scalar(a[i] === undefined ? o.identity : a[i], n);\n\t\t\t\t\t\t\t})), _toConsumableArray(a.slice(b.length)));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult = b.map(function (n) {\n\t\t\t\t\t\t\t\treturn o.scalar(a, n);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (Array.isArray(a)) {\n\t\t\t\t\t\tresult = a.map(function (n) {\n\t\t\t\t\t\t\treturn o.scalar(n, b);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = o.scalar(a, b);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (o.reduce) {\n\t\t\t\t\t\tprev = o.reduce(prev, result, a, b);\n\t\t\t\t\t} else if (o.logical) {\n\t\t\t\t\t\tprev = prev && result;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprev = result;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tfor (var i = 1; i < operands.length; i++) {\n\t\t\t\t\t_loop(i);\n\t\t\t\t}\n\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t},\n\n\t\t/**\n   * Mapping of operator symbols to function name.\n   * Populated via addOperator() and addLogicalOperator()\n   */\n\t\tsymbols: {},\n\n\t\tgetOperatorName: function getOperatorName(op) {\n\t\t\treturn Mavo.Script.symbols[op] || op;\n\t\t},\n\n\t\t/**\n   * Operations for elements and scalars.\n   * Operations between arrays happen element-wise.\n   * Operations between a scalar and an array will result in the operation being performed between the scalar and every array element.\n   * Ordered by precedence (higher to lower)\n   * @param scalar {Function} The operation between two scalars\n   * @param identity The operation’s identity element. Defaults to 0.\n   */\n\t\toperators: {\n\t\t\t\"not\": {\n\t\t\t\tscalar: function scalar(a) {\n\t\t\t\t\treturn function (a) {\n\t\t\t\t\t\treturn !a;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"multiply\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a * b;\n\t\t\t\t},\n\t\t\t\tidentity: 1,\n\t\t\t\tsymbol: \"*\"\n\t\t\t},\n\t\t\t\"divide\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a / b;\n\t\t\t\t},\n\t\t\t\tidentity: 1,\n\t\t\t\tsymbol: \"/\"\n\t\t\t},\n\t\t\t\"add\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn +a + +b;\n\t\t\t\t},\n\t\t\t\tsymbol: \"+\"\n\t\t\t},\n\t\t\t\"subtract\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tif (isNaN(a) || isNaN(b)) {\n\t\t\t\t\t\tvar dateA = toDate(a),\n\t\t\t\t\t\t    dateB = toDate(b);\n\n\t\t\t\t\t\tif (dateA && dateB) {\n\t\t\t\t\t\t\treturn (dateA - dateB) / 1000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn a - b;\n\t\t\t\t},\n\t\t\t\tsymbol: \"-\"\n\t\t\t},\n\t\t\t\"mod\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar ret = a % b;\n\t\t\t\t\tret += ret < 0 ? b : 0;\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"lte\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer2 = _slicedToArray(_Mavo$Script$getNumer, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer2[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer2[1];\n\n\t\t\t\t\treturn a <= b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \"<=\"\n\t\t\t},\n\t\t\t\"lt\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer3 = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer4 = _slicedToArray(_Mavo$Script$getNumer3, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer4[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer4[1];\n\n\t\t\t\t\treturn a < b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \"<\"\n\t\t\t},\n\t\t\t\"gte\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer5 = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer6 = _slicedToArray(_Mavo$Script$getNumer5, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer6[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer6[1];\n\n\t\t\t\t\treturn a >= b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \">=\"\n\t\t\t},\n\t\t\t\"gt\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\tvar _Mavo$Script$getNumer7 = Mavo.Script.getNumericalOperands(a, b);\n\n\t\t\t\t\tvar _Mavo$Script$getNumer8 = _slicedToArray(_Mavo$Script$getNumer7, 2);\n\n\t\t\t\t\ta = _Mavo$Script$getNumer8[0];\n\t\t\t\t\tb = _Mavo$Script$getNumer8[1];\n\n\t\t\t\t\treturn a > b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \">\"\n\t\t\t},\n\t\t\t\"eq\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a == b;\n\t\t\t\t},\n\t\t\t\tsymbol: [\"=\", \"==\"],\n\t\t\t\tidentity: true\n\t\t\t},\n\t\t\t\"neq\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn a != b;\n\t\t\t\t},\n\t\t\t\tsymbol: [\"!=\"],\n\t\t\t\tidentity: true\n\t\t\t},\n\t\t\t\"and\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn !!a && !!b;\n\t\t\t\t},\n\t\t\t\tidentity: true,\n\t\t\t\tsymbol: \"&&\"\n\t\t\t},\n\t\t\t\"or\": {\n\t\t\t\tlogical: true,\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn !!a || !!b;\n\t\t\t\t},\n\t\t\t\treduce: function reduce(p, r) {\n\t\t\t\t\treturn p || r;\n\t\t\t\t},\n\t\t\t\tidentity: false,\n\t\t\t\tsymbol: \"||\"\n\t\t\t},\n\t\t\t\"concatenate\": {\n\t\t\t\tsymbol: \"&\",\n\t\t\t\tidentity: \"\",\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn \"\" + (a || \"\") + (b || \"\");\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"filter\": {\n\t\t\t\tscalar: function scalar(a, b) {\n\t\t\t\t\treturn b ? a : null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetNumericalOperands: function getNumericalOperands(a, b) {\n\t\t\tif (isNaN(a) || isNaN(b)) {\n\t\t\t\t// Try comparing as dates\n\t\t\t\tvar da = toDate(a),\n\t\t\t\t    db = toDate(b);\n\n\t\t\t\tif (da && db) {\n\t\t\t\t\t// Both valid dates\n\t\t\t\t\treturn [da, db];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [a, b];\n\t\t}\n\t};\n\n\tfor (var name in Mavo.Script.operators) {\n\t\tvar details = Mavo.Script.operators[name];\n\n\t\tif (details.scalar.length < 2) {\n\t\t\tMavo.Script.addUnaryOperator(name, details);\n\t\t} else {\n\t\t\tMavo.Script.addBinaryOperator(name, details);\n\t\t}\n\t}\n\n\tvar aliases = {\n\t\taverage: \"avg\",\n\t\tiff: \"iff IF\",\n\t\tsubtract: \"minus\",\n\t\tmultiply: \"mult product\",\n\t\tdivide: \"div\",\n\t\tlt: \"lessThan smaller\",\n\t\tgt: \"moreThan greater greaterThan bigger\",\n\t\teq: \"equal equality\"\n\t};\n\n\tvar _loop2 = function _loop2(_name) {\n\t\taliases[_name].split(/\\s+/g).forEach(function (alias) {\n\t\t\treturn _[alias] = _[_name];\n\t\t});\n\t};\n\n\tfor (var _name in aliases) {\n\t\t_loop2(_name);\n\t}\n\n\t// Make function names case insensitive\n\tMavo.Functions._Trap = self.Proxy ? new Proxy(_, {\n\t\tget: function get(functions, property) {\n\t\t\tif (property in functions) {\n\t\t\t\treturn functions[property];\n\t\t\t}\n\n\t\t\tvar propertyL = property.toLowerCase && property.toLowerCase();\n\n\t\t\tif (propertyL && functions.hasOwnProperty(propertyL)) {\n\t\t\t\treturn functions[propertyL];\n\t\t\t}\n\n\t\t\tif (property in Math || propertyL in Math) {\n\t\t\t\treturn Math[property] || Math[propertyL];\n\t\t\t}\n\n\t\t\tif (property in self) {\n\t\t\t\treturn self[property];\n\t\t\t}\n\n\t\t\t// Prevent undefined at all costs\n\t\t\treturn property;\n\t\t},\n\n\t\t// Super ugly hack, but otherwise data is not\n\t\t// the local variable it should be, but the string \"data\"\n\t\t// so all property lookups fail.\n\t\thas: function has(functions, property) {\n\t\t\treturn property != \"data\";\n\t\t}\n\t}) : Mavo.Functions;\n\n\t/**\n  * Private helper methods\n  */\n\tfunction numbers(array, args) {\n\t\tarray = Array.isArray(array) ? array : args ? $$(args) : [array];\n\n\t\treturn array.filter(function (number) {\n\t\t\treturn !isNaN(number) && number !== \"\";\n\t\t}).map(function (n) {\n\t\t\treturn +n;\n\t\t});\n\t}\n\n\tvar twodigits = new Intl.NumberFormat(\"en\", {\n\t\tminimumIntegerDigits: \"2\"\n\t});\n\n\ttwodigits = twodigits.format.bind(twodigits);\n\n\tfunction toDate(date) {\n\t\tif (!date) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ($.type(date) === \"string\") {\n\t\t\t// Fix up time format\n\n\t\t\tif (date.indexOf(\":\") === -1) {\n\t\t\t\t// Add a time if one doesn't exist\n\t\t\t\tdate += \"T00:00:00\";\n\t\t\t} else {\n\t\t\t\t// Make sure time starts with T, due to Safari bug\n\t\t\t\tdate = date.replace(/\\-(\\d{2})\\s+(?=\\d{2}:)/, \"-$1T\");\n\t\t\t}\n\n\t\t\t// Remove all whitespace\n\t\t\tdate = date.replace(/\\s+/g, \"\");\n\n\t\t\t// If no timezone, insert local\n\t\t\tvar timezone = (date.match(/[+-]\\d{2}:?\\d{2}|Z$/) || [])[0];\n\n\t\t\tif (!timezone) {\n\t\t\t\tvar local = _.localTimezone;\n\t\t\t\tvar minutes = Math.abs(local % 60);\n\t\t\t\tvar hours = (Math.abs(local) - minutes) / 60;\n\t\t\t\tvar sign = local < 0 ? \"-\" : \"+\";\n\t\t\t\tdate += sign + twodigits(hours) + \":\" + twodigits(minutes);\n\t\t\t}\n\t\t}\n\n\t\tdate = new Date(date);\n\n\t\tif (isNaN(date)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn date;\n\t}\n\n\tfunction getDateComponent(component) {\n\t\tvar option = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"numeric\";\n\t\tvar o = arguments[2];\n\n\t\tvar locale = document.documentElement.lang || \"en-GB\";\n\n\t\treturn function (date) {\n\t\t\tvar _$$extend;\n\n\t\t\tvar format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : option;\n\n\t\t\tdate = toDate(date);\n\n\t\t\tif (!date) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\n\t\t\tvar options = $.extend((_$$extend = {}, _defineProperty(_$$extend, component, format), _defineProperty(_$$extend, \"hour12\", false), _$$extend), o);\n\n\t\t\tif (component == \"weekday\" && format == \"numeric\") {\n\t\t\t\tret = date.getDay() || 7;\n\t\t\t} else {\n\t\t\t\tvar ret = date.toLocaleString(locale, options);\n\t\t\t}\n\n\t\t\tif (format == \"numeric\" && !isNaN(ret)) {\n\t\t\t\tret = new Number(ret);\n\n\t\t\t\tif (component == \"month\" || component == \"weekday\") {\n\t\t\t\t\toptions[component] = \"long\";\n\t\t\t\t\tret.name = date.toLocaleString(locale, options);\n\n\t\t\t\t\toptions[component] = \"short\";\n\t\t\t\t\tret.shortname = date.toLocaleString(locale, options);\n\t\t\t\t}\n\n\t\t\t\tif (component != \"weekday\") {\n\t\t\t\t\toptions[component] = \"2-digit\";\n\t\t\t\t\tret.twodigit = date.toLocaleString(locale, options);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t};\n\t}\n})();\n\"use strict\";\n\n(function ($) {\n\n\tvar _ = Mavo.Backend.register($.Class({\n\t\textends: Mavo.Backend,\n\t\tid: \"Dropbox\",\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on([\"login\", \"read\"]);\n\n\t\t\tthis.key = this.mavo.element.getAttribute(\"mv-dropbox-key\") || \"2mx6061p054bpbp\";\n\n\t\t\t// Transform the dropbox shared URL into something raw and CORS-enabled\n\t\t\tthis.url = _.fixShareURL(this.url);\n\n\t\t\tthis.login(true);\n\t\t},\n\n\t\tupload: function upload(file, path) {\n\t\t\tvar _this = this;\n\n\t\t\tpath = this.path.replace(/[^/]+$/, \"\") + path;\n\n\t\t\treturn this.put(file, path).then(function (fileInfo) {\n\t\t\t\treturn _this.getURL(path);\n\t\t\t});\n\t\t},\n\n\t\tgetURL: function getURL(path) {\n\t\t\treturn this.request(\"sharing/create_shared_link_with_settings\", { path: path }, \"POST\").then(function (shareInfo) {\n\t\t\t\treturn _.fixShareURL(shareInfo.url);\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Saves a file to the backend.\n   * @param {Object} file - An object with name & data keys\n   * @return {Promise} A promise that resolves when the file is saved.\n   */\n\t\tput: function put(serialized) {\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.path;\n\t\t\tvar o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\treturn this.request(\"https://content.dropboxapi.com/2/files/upload\", serialized, \"POST\", {\n\t\t\t\theaders: {\n\t\t\t\t\t\"Dropbox-API-Arg\": JSON.stringify({\n\t\t\t\t\t\tpath: path,\n\t\t\t\t\t\tmode: \"overwrite\"\n\t\t\t\t\t}),\n\t\t\t\t\t\"Content-Type\": \"application/octet-stream\"\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\toAuthParams: function oAuthParams() {\n\t\t\treturn \"&redirect_uri=\" + encodeURIComponent(\"https://auth.mavo.io\") + \"&response_type=code\";\n\t\t},\n\n\t\tgetUser: function getUser() {\n\t\t\tvar _this2 = this;\n\n\t\t\tif (this.user) {\n\t\t\t\treturn Promise.resolve(this.user);\n\t\t\t}\n\n\t\t\treturn this.request(\"users/get_current_account\", \"null\", \"POST\").then(function (info) {\n\t\t\t\t_this2.user = {\n\t\t\t\t\tusername: info.email,\n\t\t\t\t\tname: info.name.display_name,\n\t\t\t\t\tavatar: info.profile_photo_url,\n\t\t\t\t\tinfo: info\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\n\t\tlogin: function login(passive) {\n\t\t\tvar _this3 = this;\n\n\t\t\treturn this.oAuthenticate(passive).then(function () {\n\t\t\t\treturn _this3.getUser();\n\t\t\t}).then(function (u) {\n\t\t\t\tif (_this3.user) {\n\t\t\t\t\t_this3.permissions.logout = true;\n\n\t\t\t\t\t// Check if can actually edit the file\n\t\t\t\t\t_this3.request(\"sharing/get_shared_link_metadata\", {\n\t\t\t\t\t\t\"url\": _this3.source\n\t\t\t\t\t}, \"POST\").then(function (info) {\n\t\t\t\t\t\t_this3.path = info.path_lower;\n\t\t\t\t\t\t_this3.permissions.on([\"edit\", \"save\"]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tlogout: function logout() {\n\t\t\treturn this.oAuthLogout();\n\t\t},\n\n\t\tstatic: {\n\t\t\tapiDomain: \"https://api.dropboxapi.com/2/\",\n\t\t\toAuth: \"https://www.dropbox.com/oauth2/authorize\",\n\n\t\t\ttest: function test(url) {\n\t\t\t\turl = new URL(url, Mavo.base);\n\t\t\t\treturn (/dropbox.com/.test(url.host)\n\t\t\t\t);\n\t\t\t},\n\n\t\t\tfixShareURL: function fixShareURL(url) {\n\t\t\t\turl = new URL(url, Mavo.base);\n\t\t\t\turl.hostname = \"dl.dropboxusercontent.com\";\n\t\t\t\turl.search = url.search.replace(/\\bdl=0|^$/, \"raw=1\");\n\t\t\t\treturn url;\n\t\t\t}\n\t\t}\n\t}));\n})(Bliss);\n\"use strict\";\n\n(function ($) {\n\n\tvar _ = Mavo.Backend.register($.Class({\n\t\textends: Mavo.Backend,\n\t\tid: \"Github\",\n\t\tconstructor: function constructor() {\n\t\t\tthis.permissions.on([\"login\", \"read\"]);\n\n\t\t\tthis.key = this.mavo.element.getAttribute(\"mv-github-key\") || \"7e08e016048000bc594e\";\n\n\t\t\t// Extract info for username, repo, branch, filepath from URL\n\t\t\tvar parsedURL = _.parseURL(this.url);\n\n\t\t\tif (parsedURL.username) {\n\t\t\t\t$.extend(this, parsedURL);\n\t\t\t\tthis.repo = this.repo || \"mv-data\";\n\t\t\t\tthis.path = this.path || this.mavo.id + \".json\";\n\t\t\t\tthis.apiCall = \"repos/\" + this.username + \"/\" + this.repo + \"/contents/\" + this.path;\n\t\t\t} else {\n\t\t\t\tthis.apiCall = this.url.pathname.slice(1);\n\t\t\t}\n\n\t\t\tthis.login(true);\n\t\t},\n\n\t\tget: function get() {\n\t\t\tvar _this = this;\n\n\t\t\treturn this.request(this.apiCall).then(function (response) {\n\t\t\t\treturn Promise.resolve(_this.repo ? _.atob(response.content) : response);\n\t\t\t});\n\t\t},\n\n\t\tupload: function upload(file) {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.path;\n\n\t\t\treturn Mavo.readFile(file).then(function (dataURL) {\n\t\t\t\tvar base64 = dataURL.slice(5); // remove data:\n\t\t\t\tvar media = base64.match(/^\\w+\\/[\\w+]+/)[0];\n\t\t\t\tbase64 = base64.replace(RegExp(\"^\" + media + \"(;base64)?,\"), \"\");\n\t\t\t\tpath = _this2.path.replace(/[^/]+$/, \"\") + path;\n\n\t\t\t\treturn _this2.put(base64, path, { isEncoded: true });\n\t\t\t}).then(function (fileInfo) {\n\t\t\t\treturn _this2.getURL(path, fileInfo.commit.sha);\n\t\t\t});\n\t\t},\n\n\t\t/**\n   * Saves a file to the backend.\n   * @param {String} serialized - Serialized data\n   * @param {String} path - Optional file path\n   * @return {Promise} A promise that resolves when the file is saved.\n   */\n\t\tput: function put(serialized) {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.path;\n\t\t\tvar o = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\t\t\tif (!path) {\n\t\t\t\t// Raw API calls are read-only for now\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar repoCall = \"repos/\" + this.username + \"/\" + this.repo;\n\t\t\tvar fileCall = repoCall + \"/contents/\" + path;\n\t\t\tvar commitPrefix = this.mavo.element.getAttribute(\"mv-github-commit-prefix\");\n\n\t\t\t// Create repo if it doesn’t exist\n\t\t\tvar repoInfo = this.repoInfo || this.request(\"user/repos\", { name: this.repo }, \"POST\").then(function (repoInfo) {\n\t\t\t\treturn _this3.repoInfo = repoInfo;\n\t\t\t});\n\n\t\t\tserialized = o.isEncoded ? serialized : _.btoa(serialized);\n\n\t\t\treturn Promise.resolve(repoInfo).then(function (repoInfo) {\n\t\t\t\tif (!_this3.canPush()) {\n\t\t\t\t\t// Does not have permission to commit, create a fork\n\t\t\t\t\treturn _this3.request(repoCall + \"/forks\", { name: _this3.repo }, \"POST\").then(function (forkInfo) {\n\t\t\t\t\t\tfileCall = \"repos/\" + forkInfo.full_name + \"/contents/\" + path;\n\t\t\t\t\t\treturn _this3.forkInfo = forkInfo;\n\t\t\t\t\t}).then(function (forkInfo) {\n\t\t\t\t\t\t// Ensure that fork is created (they take a while)\n\t\t\t\t\t\tvar timeout;\n\t\t\t\t\t\tvar test = function test(resolve, reject) {\n\t\t\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\t\t\t_this3.request(\"repos/\" + forkInfo.full_name + \"/commits\", { until: \"1970-01-01T00:00:00Z\" }, \"HEAD\").then(function (x) {\n\t\t\t\t\t\t\t\tresolve(forkInfo);\n\t\t\t\t\t\t\t}).catch(function (x) {\n\t\t\t\t\t\t\t\t// Try again after 1 second\n\t\t\t\t\t\t\t\ttimeout = setTimeout(test, 1000);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn new Promise(test);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn repoInfo;\n\t\t\t}).then(function (repoInfo) {\n\t\t\t\treturn _this3.request(fileCall, {\n\t\t\t\t\tref: _this3.branch\n\t\t\t\t}).then(function (fileInfo) {\n\t\t\t\t\treturn _this3.request(fileCall, {\n\t\t\t\t\t\tmessage: commitPrefix + \" Updated \" + (fileInfo.name || \"file\"),\n\t\t\t\t\t\tcontent: serialized,\n\t\t\t\t\t\tbranch: _this3.branch,\n\t\t\t\t\t\tsha: fileInfo.sha\n\t\t\t\t\t}, \"PUT\");\n\t\t\t\t}, function (xhr) {\n\t\t\t\t\tif (xhr.status == 404) {\n\t\t\t\t\t\t// File does not exist, create it\n\t\t\t\t\t\treturn _this3.request(fileCall, {\n\t\t\t\t\t\t\tmessage: commitPrefix + \"Created file\",\n\t\t\t\t\t\t\tcontent: serialized,\n\t\t\t\t\t\t\tbranch: _this3.branch\n\t\t\t\t\t\t}, \"PUT\");\n\t\t\t\t\t}\n\n\t\t\t\t\treturn xhr;\n\t\t\t\t});\n\t\t\t}).then(function (fileInfo) {\n\t\t\t\tif (_this3.forkInfo) {\n\t\t\t\t\t// We saved in a fork, do we have a pull request?\n\t\t\t\t\t_this3.request(\"repos/\" + _this3.username + \"/\" + _this3.repo + \"/pulls\", {\n\t\t\t\t\t\thead: _this3.user.username + \":\" + _this3.branch,\n\t\t\t\t\t\tbase: _this3.branch\n\t\t\t\t\t}).then(function (prs) {\n\t\t\t\t\t\t_this3.pullRequest(prs[0]);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn fileInfo;\n\t\t\t});\n\t\t},\n\n\t\tpullRequest: function pullRequest(existing) {\n\t\t\tvar _this4 = this;\n\n\t\t\tvar previewURL = new URL(location);\n\t\t\tpreviewURL.searchParams.set(this.mavo.id + \"-storage\", \"https://github.com/\" + this.forkInfo.full_name + \"/\" + this.path);\n\t\t\tvar message = \"Your edits are saved to <a href=\\\"\" + previewURL + \"\\\" target=\\\"_blank\\\">your own profile</a>, because you are not allowed to edit this page.\";\n\n\t\t\tif (this.notice) {\n\t\t\t\tthis.notice.close();\n\t\t\t}\n\n\t\t\tif (existing) {\n\t\t\t\t// We already have a pull request, ask about closing it\n\t\t\t\tthis.notice = this.mavo.message(message + \"\\n\\t\\t\\t\\tYou have selected to suggest your edits to the page admins. Your suggestions have not been reviewed yet.\\n\\t\\t\\t\\t<form onsubmit=\\\"return false\\\">\\n\\t\\t\\t\\t\\t<button class=\\\"mv-danger\\\">Revoke edit suggestion</button>\\n\\t\\t\\t\\t</form>\", {\n\t\t\t\t\tclasses: \"mv-inline\",\n\t\t\t\t\tdismiss: [\"button\", \"submit\"]\n\t\t\t\t});\n\n\t\t\t\tthis.notice.closed.then(function (form) {\n\t\t\t\t\tif (!form) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Close PR\n\t\t\t\t\t_this4.request(\"repos/\" + _this4.username + \"/\" + _this4.repo + \"/pulls/\" + existing.number, {\n\t\t\t\t\t\tstate: \"closed\"\n\t\t\t\t\t}, \"POST\").then(function (prInfo) {\n\t\t\t\t\t\tnew Mavo.UI.Message(_this4.mavo, \"<a href=\\\"\" + prInfo.html_url + \"\\\">Edit suggestion cancelled successfully!</a>\", {\n\t\t\t\t\t\t\tdismiss: [\"button\", \"timeout\"]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_this4.pullRequest();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Ask about creating a PR\n\t\t\t\tthis.notice = this.mavo.message(message + \"\\n\\t\\t\\t\\tWrite a short description of your edits below to suggest them to the page admins:\\n\\t\\t\\t\\t<form onsubmit=\\\"return false\\\">\\n\\t\\t\\t\\t\\t<textarea name=\\\"edits\\\" class=\\\"mv-autosize\\\" placeholder=\\\"I added / corrected / deleted ...\\\"></textarea>\\n\\t\\t\\t\\t\\t<button>Send edit suggestion</button>\\n\\t\\t\\t\\t</form>\", {\n\t\t\t\t\tclasses: \"mv-inline\",\n\t\t\t\t\tdismiss: [\"button\", \"submit\"]\n\t\t\t\t});\n\n\t\t\t\tthis.notice.closed.then(function (form) {\n\t\t\t\t\tif (!form) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// We want to send a pull request\n\t\t\t\t\t_this4.request(\"repos/\" + _this4.username + \"/\" + _this4.repo + \"/pulls\", {\n\t\t\t\t\t\ttitle: \"Suggested edits to data\",\n\t\t\t\t\t\tbody: \"Hello there! I used Mavo to suggest the following edits:\\n\" + form.elements.edits.value + \"\\nPreview my changes here: \" + previewURL,\n\t\t\t\t\t\thead: _this4.user.username + \":\" + _this4.branch,\n\t\t\t\t\t\tbase: _this4.branch\n\t\t\t\t\t}, \"POST\").then(function (prInfo) {\n\t\t\t\t\t\tnew Mavo.UI.Message(_this4.mavo, \"<a href=\\\"\" + prInfo.html_url + \"\\\">Edit suggestion sent successfully!</a>\", {\n\t\t\t\t\t\t\tdismiss: [\"button\", \"timeout\"]\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_this4.pullRequest(prInfo);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tlogin: function login(passive) {\n\t\t\tvar _this5 = this;\n\n\t\t\treturn this.oAuthenticate(passive).then(function () {\n\t\t\t\treturn _this5.getUser();\n\t\t\t}).catch(function (xhr) {\n\t\t\t\tif (xhr.status == 401) {\n\t\t\t\t\t// Unauthorized. Access token we have is invalid, discard it\n\t\t\t\t\t_this5.logout();\n\t\t\t\t}\n\t\t\t}).then(function (u) {\n\t\t\t\tif (_this5.user) {\n\t\t\t\t\t_this5.permissions.on([\"edit\", \"save\", \"logout\"]);\n\n\t\t\t\t\tif (_this5.repo) {\n\t\t\t\t\t\treturn _this5.request(\"repos/\" + _this5.username + \"/\" + _this5.repo).then(function (repoInfo) {\n\t\t\t\t\t\t\tif (_this5.branch === undefined) {\n\t\t\t\t\t\t\t\t_this5.branch = repoInfo.default_branch;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn _this5.repoInfo = repoInfo;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tcanPush: function canPush() {\n\t\t\tif (this.repoInfo) {\n\t\t\t\treturn this.repoInfo.permissions.push;\n\t\t\t}\n\n\t\t\t// Repo does not exist so we can't check permissions\n\t\t\t// Just check if authenticated user is the same as our URL username\n\t\t\treturn this.user && this.user.username.toLowerCase() == this.username.toLowerCase();\n\t\t},\n\n\t\toAuthParams: function oAuthParams() {\n\t\t\treturn \"&scope=repo,gist\";\n\t\t},\n\n\t\tlogout: function logout() {\n\t\t\tvar _this6 = this;\n\n\t\t\treturn this.oAuthLogout().then(function () {\n\t\t\t\t_this6.user = null;\n\t\t\t});\n\t\t},\n\n\t\tgetUser: function getUser() {\n\t\t\tvar _this7 = this;\n\n\t\t\tif (this.user) {\n\t\t\t\treturn Promise.resolve(this.user);\n\t\t\t}\n\n\t\t\treturn this.request(\"user\").then(function (info) {\n\t\t\t\t_this7.user = {\n\t\t\t\t\tusername: info.login,\n\t\t\t\t\tname: info.name || info.login,\n\t\t\t\t\tavatar: info.avatar_url,\n\t\t\t\t\turl: \"https://github.com/\" + info.login,\n\t\t\t\t\tinfo: info\n\t\t\t\t};\n\n\t\t\t\t$.fire(_this7.mavo.element, \"mavo:login\", { backend: _this7 });\n\t\t\t});\n\t\t},\n\n\t\tgetURL: function getURL() {\n\t\t\tvar _this8 = this;\n\n\t\t\tvar path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.path;\n\t\t\tvar sha = arguments[1];\n\n\t\t\tvar repo = this.username + \"/\" + this.repo;\n\t\t\tpath = path.replace(/ /g, \"%20\");\n\n\t\t\treturn this.request(\"repos/\" + repo + \"/pages\", {}, \"GET\", {\n\t\t\t\theaders: {\n\t\t\t\t\t\"Accept\": \"application/vnd.github.mister-fantastic-preview+json\"\n\t\t\t\t}\n\t\t\t}).then(function (pagesInfo) {\n\t\t\t\treturn pagesInfo.html_url + path;\n\t\t\t}).catch(function (xhr) {\n\t\t\t\t// No Github Pages, return rawgit URL\n\t\t\t\tif (sha) {\n\t\t\t\t\treturn \"https://cdn.rawgit.com/\" + repo + \"/\" + sha + \"/\" + path;\n\t\t\t\t} else {\n\t\t\t\t\treturn \"https://rawgit.com/\" + repo + \"/\" + _this8.branch + \"/\" + path;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tstatic: {\n\t\t\tapiDomain: \"https://api.github.com/\",\n\t\t\toAuth: \"https://github.com/login/oauth/authorize\",\n\n\t\t\ttest: function test(url) {\n\t\t\t\turl = new URL(url, Mavo.base);\n\t\t\t\treturn (/\\bgithub.com|raw.githubusercontent.com/.test(url.host)\n\t\t\t\t);\n\t\t\t},\n\n\t\t\t/**\n    * Parse Github URLs, return username, repo, branch, path\n    */\n\t\t\tparseURL: function parseURL(url) {\n\t\t\t\tvar ret = {};\n\n\t\t\t\turl = new URL(url, Mavo.base);\n\n\t\t\t\tvar path = url.pathname.slice(1).split(\"/\");\n\n\t\t\t\tret.username = path.shift();\n\t\t\t\tret.repo = path.shift();\n\n\t\t\t\tif (/raw.githubusercontent.com$/.test(url.host)) {\n\t\t\t\t\tret.branch = path.shift();\n\t\t\t\t} else if (/api.github.com$/.test(url.host)) {\n\t\t\t\t\t// raw API call, stop parsing and just return\n\t\t\t\t\treturn {};\n\t\t\t\t} else if (/github.com$/.test(url.host) && path[0] == \"blob\") {\n\t\t\t\t\tpath.shift();\n\t\t\t\t\tret.branch = path.shift();\n\t\t\t\t}\n\n\t\t\t\tret.path = path.join(\"/\");\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Fix atob() and btoa() so they can handle Unicode\n\t\t\tbtoa: function (_btoa) {\n\t\t\t\tfunction btoa(_x5) {\n\t\t\t\t\treturn _btoa.apply(this, arguments);\n\t\t\t\t}\n\n\t\t\t\tbtoa.toString = function () {\n\t\t\t\t\treturn _btoa.toString();\n\t\t\t\t};\n\n\t\t\t\treturn btoa;\n\t\t\t}(function (str) {\n\t\t\t\treturn btoa(unescape(encodeURIComponent(str)));\n\t\t\t}),\n\t\t\tatob: function atob(str) {\n\t\t\t\treturn decodeURIComponent(escape(window.atob(str)));\n\t\t\t}\n\t\t}\n\t}));\n})(Bliss);\n//# sourceMappingURL=maps/mavo.es5.js.map\n"]}