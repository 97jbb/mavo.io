<!DOCTYPE html>
<html lang="en" class="docs">
<head>
	<meta charset="UTF-8">
	<title>Primer - Mavo Documentation</title>
	<link rel="stylesheet" href="/mavo/mavo.css" />
	<link rel="stylesheet" href="/css/style.css">
	<link rel='stylesheet' href='/css/docs.css'>
</head>


<body class="language-markup">

<header>
	<h1 class="logo">
		<a href="/"><img src="/logo.svg" alt="Mavo"></a>
	</h1>
</header>


<h2>Primer</h2>

<section>
	<h1>Using Mavo</h1>

	<p>In order to use Mavo, you first need to <a href="/download">download its JS and CSS files</a> and include them in your page.
		If you have never done this before, you could put both in the <code>&lt;head></code> section, like this:</p>

	<script type="text/plain">
		<head>
		...
		<link rel="stylesheet" href="mavo.css"/>
		<script src="mavo.js">&lt;/script>
		...
		</head>
	</script>
</section>

<section id="mv-app">
	<h1>Defining a mavo app</h1>

	<p>You enable Mavo functionality on an HTML structure with the <code>mv-app</code> attribute.
		The element with that attribute is called the <strong>Mavo root</strong>.
		The <code>mv-app</code> attribute can be used with or without a value.
		Its value is a name for your app, which is used by Mavo in various places. The name must be unique to the page, just like an id.
		If the element already has an id, you don't need to repeat it in the <code>mv-app</code> attribute.
		If you don't name your application, it will automatically get a name such as mavo1, mavo2 etc based on its index in the page.
		This means that if you rearrange your Mavos in the page, the app names will change, which is flimsy.
		Therefore, it is <strong>strongly recommended</strong> that you name your Mavo apps.
	</p>

	<script type="text/plain">
		<div mv-app id="mavoTest">
			My first Mavo app!
		</div>
	</script>
</section>

<section id="mv-storage">
	<h1>Storage: The mv-storage attribute</h1>

	<p>The <code>mv-storage</code> attribute tells Mavo where to store any data.
		Its value is a valid URL or a keyword, like <code>local</code>.
	</p>

	<script type="text/plain">
		<div mv-app="storageTest" mv-storage="local">
			My first Mavo app!
		</div>
	</script>

	<p>What will be stored? Elements with a <code>property</code> attribute! We will learn about these in the next section.</p>

	<p class="learn-more">Learn more: <a href="/docs/storage">Storage</a></p>
</section>

<section id="property">
	<h1>The property attribute</h1>

	<p>The <code>property</code> attribute tells Mavo which elements are saved.
		Its value should describe the element, similarly to a <code>id</code> or <code>class</code> attribute.

	<section class="example commentform">
		<script type="text/plain">
			<div mv-app="commentform" mv-storage="local">
				<label>Email: <input type="email" property="email" value="foo@bar.com" /></label>
				<label>Message: <textarea property="message">Edit the form and notice how the values persist after you refresh!</textarea></label>
			</div>
		</script>
	</section>

	<p>If the <code>property</code> attribute is used on elements that are not form elements, they are made editable, and Mavo generates (customizable) controls
	for switching between modes, saving and reverting:</p>

	<section class="example">
		<script type="text/plain">
			<span property="firstName">Lea</span> <span property="last_name">Verou</span>
			<span>- I don‚Äôt have a property attribute, so I‚Äôm not editable.</span>
		</script>
	</section>

	<p class="learn-more">Learn More: <a href="/docs/properties">Properties</a></p>
</section>

<section id="mv-multiple">
	<h1>Creating lists: The mv-multiple attribute</h1>

	<p>Let‚Äôs assume we have a list of hobbies that we want to make editable.
		We <em>could</em> add <code>property</code> attributes to every item:</p>

	<section class="example">
		<script type="text/plain">
			Hobbies:
			<ul>
				<li property="hobby">Eating</li>
				<li property="hobby">Sleeping</li>
				<li property="hobby">Purring</li>
			</ul>
		</script>
	</section>

	<p>This works, but we cannot add new hobbies or delete existing ones.
		To do that, we need the <code>mv-multiple</code> attribute, which tells mavo that <strong>this element can be multiplied</strong>:</p>

	<section class="example">
		<h1>Example: Simple list</h1>
		<script type="text/plain">
			Hobbies:
			<ul>
				<li property="hobby" mv-multiple>Eating</li>
			</ul>
		</script>
	</section>

	<p class="note">The <code>mv-multiple</code> attribute goes on <strong>the element that will be multiplied, NOT the container of the collection</strong>!</p>

	<hr />

	<p>We can use <code>property</code> and <code>mv-multiple</code> to create lists of more complex structures with multiple properties.</p>

	<section class="example">
		<h1>Example: More complex lists</h1>
		<script type="text/plain">
			<article property="pet" mv-multiple>
				<h1 property="name">Adam Catlace</h1>
				Born on <time property="birthday" datetime="2014-06-01">1 Jun 2014</time>
			</article>
		</script>
	</section>

	<p>Note that in the example above, the <code>property</code> attribute on <code>&lt;article></code> does not actually make
		the entire <code>&lt;article></code> element editable, but instead acts as a <strong>grouping element</strong>.
		This will always happen when you use the <code>property</code> attribute on elements that contain other properties inside them.
		<strong>Groups</strong> have many interesting characteristics when combined with expressions, which we will see next.
	</p>
</section>

<section>
	<h1>Expressions</h1>

	<p>You can dynamically refer to the value of any property you have defined, anywhere, by putting its name inside brackets (like this: <code>[propertyName]</code>).</p>

	<section class="example">
		<p>Move the slider and check how both expressions are updated:</p>
		<script type="text/plain">
			<p>Slider value: [strength]/100</p>
			<input type="range" property="strength" title="[strength]%" />
		</script>
	</section>

	<p>We can also do math with properties, e.g. divide by 100:</p>

	<section class="example">
		<p>Move the slider and check how both expressions are updated:</p>
		<script type="text/plain">
			<p>Slider value: [strength/100]</p>
			<input type="range" property="strength" title="[strength]%" />
		</script>
	</section>

	<p>If you set a <code>property</code> attribute on an element containing an expression, you can use that property in other expressions too, regardless of whether they come before or after the element.</p>

	<section class="example color-picker">
		<p>Making a bare-bones HSL color picker with Mavo expressions:</p>
		<script type="text/plain">
			<div style="background-color: [color];">
				<input type="range" property="hue" max="360" />
				<input type="range" property="saturation" />
				<input type="range" property="lightness" />

				<input property="color" value="hsl([hue], [saturation]%, [lightness]%)" readonly />
			</div>
		</script>
	</section>

	<p>There is also <a href="/docs/mavoscript/#math-functions">a number of math functions</a> you can use, for more complicated tasks, akin to spreadsheets.</p>

	<hr />

	<p>Expressions become very powerful when combined with lists. Try adding and removing items in the list below:</p>

	<section class="example">
		<h1>Example: Simple list</h1>
		<script type="text/plain">
			[count(hobby)] hobbies:
			<ul>
				<li property="hobby" mv-multiple>Eating</li>
			</ul>
		</script>
	</section>

	<p class="learn-more">Learn More: <a href="/docs/expressions">Expressions</a>, <a href="/docs/mavoscript">MavoScript</a></p>
</section>

<section id="debugging">
	<h1>Finding mistakes</h1>

	<p>You can add an <code>mv-debug</code> class on any element or <code>?debug</code> in the URL and after reloading you will get a table on every group inside it with all its expressions.
	<strong>The expressions in the table are editable</strong> and you can see the results of your edits as you type, both in the table and in your app.
	Hovering over the elements in the last column will highlight them in the app.</p>

	<section class="example">
		<script type="text/plain">
			<div mv-storage class="mv-debug">
				<p>
					<label>x = <input type="number" property="x" value="15" /></label>,
					<label>y = <input type="number" property="y" value="5" /></label>
				</p>
				<ul>
					<li>x + y = <span property="sum">[x + y]</span></li>
					<li>x - y = [x - y]</li>
					<li>x * y = [x * y]</li>
					<li>x / y = [x / y]</li>
					<li>(x + y)<sup>2</sup> = [pow(sum, 2)]</li>
				</ul>
			</div>
		</script>
	</section>
</section>

<section id="learn-more">
	<h1>Learn More</h1>

	<p>Intrigued? This is just the tip of the iceberg. You can dive deeper by reading more about each Mavo aspect below:</p>

	<ul>
		<li><a href="/docs/properties">Properties</a></li>
		<li><a href="/docs/storage">Storage</a></li>
		<li><a href="/docs/expressions">Expressions</a></li>
		<li><a href="/docs/mavoscript">MavoScript</a></li>
		<li><a href="/docs/attributes">Attribute Index</a></li>
	</ul>
</section>

<footer>
	<div>
		<p>Made with &hearts; by <a href="http://lea.verou.me">Lea Verou</a> and <a href="https://github.com/LeaVerou/mavo/graphs/contributors">contributors</a></p>
		<p><a href="https://twitter.com/mavohtml">@mavohtml on üê¶ Twitter</a> &bull; <a href="https://github.com/leaverou/mavo">Github</a></p>
	</div>


	<a href="http://mit.edu" class="logo"><img src="/img/logo-mit.svg" alt="MIT" /></a>
	<a href="http://csail.mit.edu" class="logo"><img src="/img/logo-csail.svg" alt="CSAIL" /></a>
</footer>


<script src="../mavo/mavo.js"></script>
<script src="../js/docs.js"></script>
<script src="../js/prism.js"></script>

</body>
</html>
