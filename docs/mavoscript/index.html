<!DOCTYPE html>
<html lang="en" class="docs">
<head>
	<meta charset="UTF-8">
	<title>MavoScript - Mavo Documentation</title>
	<link rel="stylesheet" href="/mavo/mavo.css" />
	<link rel="stylesheet" href="/css/style.css">
	<link rel='stylesheet' href='/css/docs.css'>
</head>


<body class="language-markup">

<header>
	<h1 class="logo">
		<a href="/"><img src="/logo.svg" alt="Mavo"></a>
	</h1>
</header>


<h2>MavoScript</h2>

<section>
	<p>
		<em>MavoScript</em> is Mavo's simple expression language, used in <a href="/docs/expressions">Mavo expressions</a>.
	</p>
</section>

<section>
	<h1>MavoScript vs JavaScript</h1>

	<p>
		MavoScript is based on a subset of JavaScript, with a few simplifications to make it easy to use even by people with no JavaScript knowledge.
		If a Mavo expression is more advanced than MavoScript, it is automatically parsed as JavaScript, allowing experienced HTML authors to do more with Mavo expressions.
	</p>

	<p>For those who know JavaScript, these are a few key differences:</p>

	<table>
		<thead>
			<tr>
				<th>JavaScript</th>
				<th>MavoScript</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>Math and logical operations with arrays produce nonsensical results</td>
				<td>Array math & logical operations works element-wise. Operations between an array and a scalar are performed on every array element.
				This is why things like <code>count(rating > 3)</code> work in MavoScript, but wouldn't in JS.</td>
			</tr>
			<tr>
				<td>All strings have to be quoted</td>
				<td>Strings that only consist of letters, numbers, and underscores don't need quotes.</td>
			</tr>
			<tr>
				<td><code>==</code> operator for equality</td>
				<td><code>=</code> operator for equality</td>
			</tr>
			<tr>
				<td><code>&&</code> operator for logical and</td>
				<td><code>and</code> operator for logical and</td>
			</tr>
			<tr>
				<td><code>&&</code> operator for logical or</td>
				<td><code>or</code> operator for logical or</td>
			</tr>
			<tr>
				<td><code>if</code> is a control structure</td>
				<td><code>if()</code> is a function</td>
			</tr>
			<tr>
				<td><code>a + b</code> might be addition or concatenation depending on types</td>
				<td><code>a + b</code> is always addition, <code>a & b</code> is concatenation</td>
			</tr>
			<tr>
				<td>Things like <code>3 > 2 > 1</code> return unexpected results (<code>false in this case</code>)</td>
				<td>Every operator can have multiple operands, including <code>></code>, so <code>3 > 2 > 1</code> has the same result as in math (<code>true</code>)</td>
			</tr>
		</tbody>
	</table>

	<p class="tip">Since MavoScript does not support comments, an easy way to force JS mode is a <code>/* js */</code> comment in the start or end of the expression.</p>
</section>

<section id="list-functions">
	<h1>List Functions</h1>
	<p>The following functions are useful with properties that have multiple values, i.e. are on or inside a <code>mv-multiple</code> element.</p>

	<table>
		<thead>
			<tr>
				<th>Function</th>
				<th>What it does</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>count(property)</code></td>
				<td>Count how many items in a list actually have a value.</td>
			</tr>
			<tr>
				<td><code>sum(property)</code></td>
				<td>Sum all numbers in the list.</td>
			</tr>
			<tr>
				<td><code>average(property)</code></td>
				<td>Calculate the average of all numbers in the list.</td>
			</tr>
			<tr>
				<td><code>min(property)</code></td>
				<td>Calculate the minimum of all numbers in the list.</td>
			</tr>
			<tr>
				<td><code>max(property)</code></td>
				<td>Calculate the maximum of all numbers in the list.</td>
			</tr>
		</tbody>
	</table>
</section>

<section id="math-functions">
	<h1>Math Functions</h1>

	<section>
		<h1>Functions with operators</h1>

		<p>In most cases, you don't need to use a function for the following, you can just use the syntax in the first column.</p>

		<table>
			<thead>
				<tr>
					<th>Math</th>
					<th>Function</th>
					<th>What it does</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><code>a + b</code></td>
					<td><code>add(a, b)</code></td>
					<td>Addition</td>
				</tr>
				<tr>
					<td><code>a - b</code></td>
					<td><code>subtract(a, b)</code></td>
					<td>Subtraction</td>
				</tr>
				<tr>
					<td><code>a * b</code></td>
					<td><code>multiply(a, b)</code></td>
					<td>Multiplication</td>
				</tr>
				<tr>
					<td><code>a / b</code></td>
					<td><code>div(a, b)</code></td>
					<td>Division. Note that division by 0 will show up as ¬±‚àû or <code>NaN</code> if it‚Äôs 0/0.</td>
				</tr>
				<tr>
					<td><code>a and b</code></td>
					<td><code>and(a, b)</code></td>
					<td>Check that both a and b have a value</td>
				</tr>
				<tr>
					<td><code>a or b</code></td>
					<td><code>or(a, b)</code></td>
					<td>Check that at least a or b have a value</td>
				</tr>
				<tr>
					<td><code>!a</code></td>
					<td><code>not(a)</code></td>
					<td>Check if a doesn‚Äôt have a value</td>
				</tr>
				<tr>
					<td><code>a < b</code></td>
					<td><code>lt(a, b)</code></td>
					<td>Check if a is less than b</td>
				</tr>
				<tr>
					<td><code>a < b</code></td>
					<td><code>lte(a, b)</code></td>
					<td>Check if a is less than, or equal to b</td>
				</tr>
				<tr>
					<td><code>a > b</code></td>
					<td><code>gt(a, b)</code></td>
					<td>Check if a is greater than b</td>
				</tr>
				<tr>
					<td><code>a >= b</code></td>
					<td><code>gte(a, b)</code></td>
					<td>Check if a is greater than, or equal to b</td>
				</tr>
				<tr>
					<td><code>a = b</code></td>
					<td><code>eq(a, b)</code></td>
					<td>Check if a is equal to b</td>
				</tr>
			</tbody>
		</table>

		<p class="tip">If you have more operands you don‚Äôt need to nest these functions, just provide more parameters.
			E.g. you don‚Äôt need to do <code>add(a, add(b, c))</code>, <code>add(a, b, c)</code> will just work.
		</p>
	</section>

	<section>
		<h1>Advanced Math functions</h1>

		<p>All <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math">JavaScript Math functions</a> can be used in Mavo without having to type <code>Math.</code> before them.
		For example, to calculate the square root of 4, you don‚Äôt need to type <code>Math.sqrt(4)</code>, you can just type <code>sqrt(4)</code>.</p>
	</section>
</section>

<section>
	<h1>Other Functions</h1>

	<table>
		<thead>
			<tr>
				<th>Function</th>
				<th>What it does</th>
				<th>Example</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><code>if(test, ifyes)</code></td>
				<td>Print out some text if the test passes, otherwise nothing.</td>
				<td><code>if(rating > 3, good)</code></td>
			</tr>
			<tr>
				<td><code>if(test, ifyes, ifno)</code></td>
				<td>Print out different text depending on a condition</td>
				<td><code>if(rating > 3, good, bad)</code></td>
			</tr>
		</tbody>
	</table>
</section>

<footer>
	<div>
		<p>
			Made with &hearts; by <a href="http://lea.verou.me">Lea Verou</a> and <a href="https://github.com/LeaVerou/mavo/graphs/contributors">contributors</a>
			&bull; <a href="https://twitter.com/mavohtml">@mavohtml on üê¶ Twitter</a>
			&bull; <a href="https://github.com/leaverou/mavo">Github</a>
		</p>
		<p>Sponsored in part by a grant from <a href="http://www.wistron.com/">Wistron Corporation</a>.</p>
	</div>


	<a href="http://mit.edu" class="logo"><img src="/img/logo-mit.svg" alt="MIT" /></a>
	<a href="http://csail.mit.edu" class="logo"><img src="/img/logo-csail.svg" alt="CSAIL" /></a>
</footer>


<script src="/mavo/mavo.js"></script>
<script src="/js/docs.js"></script>
<script src="/js/prism.js"></script>


</body>
</html>
